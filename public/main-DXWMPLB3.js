import{$ as cn,A as Aa,Aa as Je,B as ft,Ba as Pa,C as Hn,Ca as Ra,D as Os,Da as rp,Ea as ip,G as ql,H as jt,I as mi,J as qt,K as Ca,L as Hf,M as Dr,N as Q,O as J,P as Sa,Q as Vs,R as $t,S as Me,T as Wf,U as fe,V as $l,W as F,X as V,Y as Se,_ as Ee,a as et,aa as Ms,b as ht,ba as Kf,c as gw,ca as q,d as Fl,da as gi,e as Gn,ea as ln,f as E,fa as _i,g as Ds,ga as yi,h as Bf,ha as wi,i as jf,ia as xr,j as qf,ja as ot,k as Ll,ka as zl,l as Ul,la as Qf,m as Bl,ma as Jf,n as jl,na as Yf,o as xs,oa as Xf,p as $f,pa as Gl,q as zf,qa as Fs,r as Ea,ra as Wn,s as Rr,sa as Hl,t as kr,ta as Zf,u as Ta,ua as vi,v as tt,va as zt,w as Gf,x as Ns,xa as ep,y as He,ya as tp,z as st,za as np}from"./chunk-FWVCSCFR.js";var gc=gw((Jt,gd)=>{"use strict";(function(n,e){typeof Jt=="object"&&typeof gd<"u"?gd.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(Jt,function(){"use strict";function n(c,l,p){if(typeof c=="function"?c===l:c.has(l))return arguments.length<3?l:p;throw new TypeError("Private element is not present on this object")}function e(c,l){if(l.has(c))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(c,l){return c.get(n(c,l))}function r(c,l,p){e(c,l),l.set(c,p)}function i(c,l,p){return c.set(n(c,l),p),p}let s=100,a={},d=()=>{a.previousActiveElement instanceof HTMLElement?(a.previousActiveElement.focus(),a.previousActiveElement=null):document.body&&document.body.focus()},f=c=>new Promise(l=>{if(!c)return l();let p=window.scrollX,y=window.scrollY;a.restoreFocusTimeout=setTimeout(()=>{d(),l()},s),window.scrollTo(p,y)}),m="swal2-",_=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((c,l)=>(c[l]=m+l,c),{}),x=["success","warning","info","question","error"].reduce((c,l)=>(c[l]=m+l,c),{}),U="SweetAlert2:",j=c=>c.charAt(0).toUpperCase()+c.slice(1),N=c=>{console.warn(`${U} ${typeof c=="object"?c.join(" "):c}`)},G=c=>{console.error(`${U} ${c}`)},ee=[],X=c=>{ee.includes(c)||(ee.push(c),N(c))},te=function(c){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;X(`"${c}" is deprecated and will be removed in the next major release.${l?` Use "${l}" instead.`:""}`)},ge=c=>typeof c=="function"?c():c,re=c=>c&&typeof c.toPromise=="function",S=c=>re(c)?c.toPromise():Promise.resolve(c),v=c=>c&&Promise.resolve(c)===c,b=()=>document.body.querySelector(`.${_.container}`),T=c=>{let l=b();return l?l.querySelector(c):null},A=c=>T(`.${c}`),C=()=>A(_.popup),I=()=>A(_.icon),vt=()=>A(_["icon-content"]),Sn=()=>A(_.title),is=()=>A(_["html-container"]),Pn=()=>A(_.image),on=()=>A(_["progress-steps"]),Rn=()=>A(_["validation-message"]),ct=()=>T(`.${_.actions} .${_.confirm}`),kn=()=>T(`.${_.actions} .${_.cancel}`),Ke=()=>T(`.${_.actions} .${_.deny}`),Le=()=>A(_["input-label"]),Dn=()=>T(`.${_.loader}`),bt=()=>A(_.actions),Do=()=>A(_.footer),xt=()=>A(_["timer-progress-bar"]),ss=()=>A(_.close),yl=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,xn=()=>{let c=C();if(!c)return[];let l=c.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),p=Array.from(l).sort((B,ne)=>{let he=parseInt(B.getAttribute("tabindex")||"0"),be=parseInt(ne.getAttribute("tabindex")||"0");return he>be?1:he<be?-1:0}),y=c.querySelectorAll(yl),R=Array.from(y).filter(B=>B.getAttribute("tabindex")!=="-1");return[...new Set(p.concat(R))].filter(B=>Ge(B))},Nn=()=>lt(document.body,_.shown)&&!lt(document.body,_["toast-shown"])&&!lt(document.body,_["no-backdrop"]),On=()=>{let c=C();return c?lt(c,_.toast):!1},os=()=>{let c=C();return c?c.hasAttribute("data-loading"):!1},ze=(c,l)=>{if(c.textContent="",l){let y=new DOMParser().parseFromString(l,"text/html"),R=y.querySelector("head");R&&Array.from(R.childNodes).forEach(ne=>{c.appendChild(ne)});let B=y.querySelector("body");B&&Array.from(B.childNodes).forEach(ne=>{ne instanceof HTMLVideoElement||ne instanceof HTMLAudioElement?c.appendChild(ne.cloneNode(!0)):c.appendChild(ne)})}},lt=(c,l)=>{if(!l)return!1;let p=l.split(/\s+/);for(let y=0;y<p.length;y++)if(!c.classList.contains(p[y]))return!1;return!0},xo=(c,l)=>{Array.from(c.classList).forEach(p=>{!Object.values(_).includes(p)&&!Object.values(x).includes(p)&&!Object.values(l.showClass||{}).includes(p)&&c.classList.remove(p)})},Qe=(c,l,p)=>{if(xo(c,l),!l.customClass)return;let y=l.customClass[p];if(y){if(typeof y!="string"&&!y.forEach){N(`Invalid type of customClass.${p}! Expected string or iterable object, got "${typeof y}"`);return}ie(c,y)}},ti=(c,l)=>{if(!l)return null;switch(l){case"select":case"textarea":case"file":return c.querySelector(`.${_.popup} > .${_[l]}`);case"checkbox":return c.querySelector(`.${_.popup} > .${_.checkbox} input`);case"radio":return c.querySelector(`.${_.popup} > .${_.radio} input:checked`)||c.querySelector(`.${_.popup} > .${_.radio} input:first-child`);case"range":return c.querySelector(`.${_.popup} > .${_.range} input`);default:return c.querySelector(`.${_.popup} > .${_.input}`)}},as=c=>{if(c.focus(),c.type!=="file"){let l=c.value;c.value="",c.value=l}},cs=(c,l,p)=>{!c||!l||(typeof l=="string"&&(l=l.split(/\s+/).filter(Boolean)),l.forEach(y=>{Array.isArray(c)?c.forEach(R=>{p?R.classList.add(y):R.classList.remove(y)}):p?c.classList.add(y):c.classList.remove(y)}))},ie=(c,l)=>{cs(c,l,!0)},ut=(c,l)=>{cs(c,l,!1)},Nt=(c,l)=>{let p=Array.from(c.children);for(let y=0;y<p.length;y++){let R=p[y];if(R instanceof HTMLElement&&lt(R,l))return R}},It=(c,l,p)=>{p===`${parseInt(p)}`&&(p=parseInt(p)),p||parseInt(p)===0?c.style.setProperty(l,typeof p=="number"?`${p}px`:p):c.style.removeProperty(l)},Ie=function(c){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";c&&(c.style.display=l)},Pe=c=>{c&&(c.style.display="none")},Re=function(c){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";c&&new MutationObserver(()=>{Ot(c,c.innerHTML,l)}).observe(c,{childList:!0,subtree:!0})},Ue=(c,l,p,y)=>{let R=c.querySelector(l);R&&R.style.setProperty(p,y)},Ot=function(c,l){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";l?Ie(c,p):Pe(c)},Ge=c=>!!(c&&(c.offsetWidth||c.offsetHeight||c.getClientRects().length)),No=()=>!Ge(ct())&&!Ge(Ke())&&!Ge(kn()),Oo=c=>c.scrollHeight>c.clientHeight,Vn=c=>{let l=window.getComputedStyle(c),p=parseFloat(l.getPropertyValue("animation-duration")||"0"),y=parseFloat(l.getPropertyValue("transition-duration")||"0");return p>0||y>0},ni=function(c){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=xt();p&&Ge(p)&&(l&&(p.style.transition="none",p.style.width="100%"),setTimeout(()=>{p.style.transition=`width ${c/1e3}s linear`,p.style.width="0%"},10))},Vo=()=>{let c=xt();if(!c)return;let l=parseInt(window.getComputedStyle(c).width);c.style.removeProperty("transition"),c.style.width="100%";let p=parseInt(window.getComputedStyle(c).width),y=l/p*100;c.style.width=`${y}%`},ls=()=>typeof window>"u"||typeof document>"u",wl=`
 <div aria-labelledby="${_.title}" aria-describedby="${_["html-container"]}" class="${_.popup}" tabindex="-1">
   <button type="button" class="${_.close}"></button>
   <ul class="${_["progress-steps"]}"></ul>
   <div class="${_.icon}"></div>
   <img class="${_.image}" />
   <h2 class="${_.title}" id="${_.title}"></h2>
   <div class="${_["html-container"]}" id="${_["html-container"]}"></div>
   <input class="${_.input}" id="${_.input}" />
   <input type="file" class="${_.file}" />
   <div class="${_.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${_.select}" id="${_.select}"></select>
   <div class="${_.radio}"></div>
   <label class="${_.checkbox}">
     <input type="checkbox" id="${_.checkbox}" />
     <span class="${_.label}"></span>
   </label>
   <textarea class="${_.textarea}" id="${_.textarea}"></textarea>
   <div class="${_["validation-message"]}" id="${_["validation-message"]}"></div>
   <div class="${_.actions}">
     <div class="${_.loader}"></div>
     <button type="button" class="${_.confirm}"></button>
     <button type="button" class="${_.deny}"></button>
     <button type="button" class="${_.cancel}"></button>
   </div>
   <div class="${_.footer}"></div>
   <div class="${_["timer-progress-bar-container"]}">
     <div class="${_["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),vl=()=>{let c=b();return c?(c.remove(),ut([document.documentElement,document.body],[_["no-backdrop"],_["toast-shown"],_["has-column"]]),!0):!1},Et=()=>{a.currentInstance.resetValidationMessage()},Mo=()=>{let c=C(),l=Nt(c,_.input),p=Nt(c,_.file),y=c.querySelector(`.${_.range} input`),R=c.querySelector(`.${_.range} output`),B=Nt(c,_.select),ne=c.querySelector(`.${_.checkbox} input`),he=Nt(c,_.textarea);l.oninput=Et,p.onchange=Et,B.onchange=Et,ne.onchange=Et,he.oninput=Et,y.oninput=()=>{Et(),R.value=y.value},y.onchange=()=>{Et(),R.value=y.value}},Fo=c=>typeof c=="string"?document.querySelector(c):c,fr=c=>{let l=C();l.setAttribute("role",c.toast?"alert":"dialog"),l.setAttribute("aria-live",c.toast?"polite":"assertive"),c.toast||l.setAttribute("aria-modal","true")},us=c=>{window.getComputedStyle(c).direction==="rtl"&&ie(b(),_.rtl)},ds=c=>{let l=vl();if(ls()){G("SweetAlert2 requires document to initialize");return}let p=document.createElement("div");p.className=_.container,l&&ie(p,_["no-transition"]),ze(p,wl);let y=Fo(c.target);y.appendChild(p),fr(c),us(y),Mo()},Tt=(c,l)=>{c instanceof HTMLElement?l.appendChild(c):typeof c=="object"?Lo(c,l):c&&ze(l,c)},Lo=(c,l)=>{c.jquery?ri(l,c):ze(l,c.toString())},ri=(c,l)=>{if(c.textContent="",0 in l)for(let p=0;p in l;p++)c.appendChild(l[p].cloneNode(!0));else c.appendChild(l.cloneNode(!0))},Uo=(c,l)=>{let p=bt(),y=Dn();!p||!y||(!l.showConfirmButton&&!l.showDenyButton&&!l.showCancelButton?Pe(p):Ie(p),Qe(p,l,"actions"),pr(p,y,l),ze(y,l.loaderHtml||""),Qe(y,l,"loader"))};function pr(c,l,p){let y=ct(),R=Ke(),B=kn();!y||!R||!B||(Ne(y,"confirm",p),Ne(R,"deny",p),Ne(B,"cancel",p),Bo(y,R,B,p),p.reverseButtons&&(p.toast?(c.insertBefore(B,y),c.insertBefore(R,y)):(c.insertBefore(B,l),c.insertBefore(R,l),c.insertBefore(y,l))))}function Bo(c,l,p,y){if(!y.buttonsStyling){ut([c,l,p],_.styled);return}ie([c,l,p],_.styled),y.confirmButtonColor&&(c.style.backgroundColor=y.confirmButtonColor,ie(c,_["default-outline"])),y.denyButtonColor&&(l.style.backgroundColor=y.denyButtonColor,ie(l,_["default-outline"])),y.cancelButtonColor&&(p.style.backgroundColor=y.cancelButtonColor,ie(p,_["default-outline"]))}function Ne(c,l,p){let y=j(l);Ot(c,p[`show${y}Button`],"inline-block"),ze(c,p[`${l}ButtonText`]||""),c.setAttribute("aria-label",p[`${l}ButtonAriaLabel`]||""),c.className=_[l],Qe(c,p,`${l}Button`)}let jo=(c,l)=>{let p=ss();p&&(ze(p,l.closeButtonHtml||""),Qe(p,l,"closeButton"),Ot(p,l.showCloseButton),p.setAttribute("aria-label",l.closeButtonAriaLabel||""))},mr=(c,l)=>{let p=b();p&&(gr(p,l.backdrop),bl(p,l.position),Il(p,l.grow),Qe(p,l,"container"))};function gr(c,l){typeof l=="string"?c.style.background=l:l||ie([document.documentElement,document.body],_["no-backdrop"])}function bl(c,l){l&&(l in _?ie(c,_[l]):(N('The "position" parameter is not valid, defaulting to "center"'),ie(c,_.center)))}function Il(c,l){l&&ie(c,_[`grow-${l}`])}var le={innerParams:new WeakMap,domCache:new WeakMap};let El=["input","file","range","select","radio","checkbox","textarea"],Tl=(c,l)=>{let p=C();if(!p)return;let y=le.innerParams.get(c),R=!y||l.input!==y.input;El.forEach(B=>{let ne=Nt(p,_[B]);ne&&(hs(B,l.inputAttributes),ne.className=_[B],R&&Pe(ne))}),l.input&&(R&&ii(l),si(l))},ii=c=>{if(!c.input)return;if(!_e[c.input]){G(`Unexpected type of input! Expected ${Object.keys(_e).join(" | ")}, got "${c.input}"`);return}let l=fs(c.input);if(!l)return;let p=_e[c.input](l,c);Ie(l),c.inputAutoFocus&&setTimeout(()=>{as(p)})},qo=c=>{for(let l=0;l<c.attributes.length;l++){let p=c.attributes[l].name;["id","type","value","style"].includes(p)||c.removeAttribute(p)}},hs=(c,l)=>{let p=C();if(!p)return;let y=ti(p,c);if(y){qo(y);for(let R in l)y.setAttribute(R,l[R])}},si=c=>{if(!c.input)return;let l=fs(c.input);l&&Qe(l,c,"input")},_t=(c,l)=>{!c.placeholder&&l.inputPlaceholder&&(c.placeholder=l.inputPlaceholder)},Mn=(c,l,p)=>{if(p.inputLabel){let y=document.createElement("label"),R=_["input-label"];y.setAttribute("for",c.id),y.className=R,typeof p.customClass=="object"&&ie(y,p.customClass.inputLabel),y.innerText=p.inputLabel,l.insertAdjacentElement("beforebegin",y)}},fs=c=>{let l=C();if(l)return Nt(l,_[c]||_.input)},Fn=(c,l)=>{["string","number"].includes(typeof l)?c.value=`${l}`:v(l)||N(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof l}"`)},_e={};_e.text=_e.email=_e.password=_e.number=_e.tel=_e.url=_e.search=_e.date=_e["datetime-local"]=_e.time=_e.week=_e.month=(c,l)=>(Fn(c,l.inputValue),Mn(c,c,l),_t(c,l),c.type=l.input,c),_e.file=(c,l)=>(Mn(c,c,l),_t(c,l),c),_e.range=(c,l)=>{let p=c.querySelector("input"),y=c.querySelector("output");return Fn(p,l.inputValue),p.type=l.input,Fn(y,l.inputValue),Mn(p,c,l),c},_e.select=(c,l)=>{if(c.textContent="",l.inputPlaceholder){let p=document.createElement("option");ze(p,l.inputPlaceholder),p.value="",p.disabled=!0,p.selected=!0,c.appendChild(p)}return Mn(c,c,l),c},_e.radio=c=>(c.textContent="",c),_e.checkbox=(c,l)=>{let p=ti(C(),"checkbox");p.value="1",p.checked=!!l.inputValue;let y=c.querySelector("span");return ze(y,l.inputPlaceholder||l.inputLabel),p},_e.textarea=(c,l)=>{Fn(c,l.inputValue),_t(c,l),Mn(c,c,l);let p=y=>parseInt(window.getComputedStyle(y).marginLeft)+parseInt(window.getComputedStyle(y).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let y=parseInt(window.getComputedStyle(C()).width),R=()=>{if(!document.body.contains(c))return;let B=c.offsetWidth+p(c);B>y?C().style.width=`${B}px`:It(C(),"width",l.width)};new MutationObserver(R).observe(c,{attributes:!0,attributeFilter:["style"]})}}),c};let $o=(c,l)=>{let p=is();p&&(Re(p),Qe(p,l,"htmlContainer"),l.html?(Tt(l.html,p),Ie(p,"block")):l.text?(p.textContent=l.text,Ie(p,"block")):Pe(p),Tl(c,l))},zo=(c,l)=>{let p=Do();p&&(Re(p),Ot(p,l.footer,"block"),l.footer&&Tt(l.footer,p),Qe(p,l,"footer"))},Al=(c,l)=>{let p=le.innerParams.get(c),y=I();if(y){if(p&&l.icon===p.icon){Vt(y,l),_r(y,l);return}if(!l.icon&&!l.iconHtml){Pe(y);return}if(l.icon&&Object.keys(x).indexOf(l.icon)===-1){G(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${l.icon}"`),Pe(y);return}Ie(y),Vt(y,l),_r(y,l),ie(y,l.showClass&&l.showClass.icon)}},_r=(c,l)=>{for(let[p,y]of Object.entries(x))l.icon!==p&&ut(c,y);ie(c,l.icon&&x[l.icon]),ms(c,l),Go(),Qe(c,l,"icon")},Go=()=>{let c=C();if(!c)return;let l=window.getComputedStyle(c).getPropertyValue("background-color"),p=c.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let y=0;y<p.length;y++)p[y].style.backgroundColor=l},ps=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,yr=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Vt=(c,l)=>{if(!l.icon&&!l.iconHtml)return;let p=c.innerHTML,y="";l.iconHtml?y=Ho(l.iconHtml):l.icon==="success"?(y=ps,p=p.replace(/ style=".*?"/g,"")):l.icon==="error"?y=yr:l.icon&&(y=Ho({question:"?",warning:"!",info:"i"}[l.icon])),p.trim()!==y.trim()&&ze(c,y)},ms=(c,l)=>{if(l.iconColor){c.style.color=l.iconColor,c.style.borderColor=l.iconColor;for(let p of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Ue(c,p,"background-color",l.iconColor);Ue(c,".swal2-success-ring","border-color",l.iconColor)}},Ho=c=>`<div class="${_["icon-content"]}">${c}</div>`,Wo=(c,l)=>{let p=Pn();if(p){if(!l.imageUrl){Pe(p);return}Ie(p,""),p.setAttribute("src",l.imageUrl),p.setAttribute("alt",l.imageAlt||""),It(p,"width",l.imageWidth),It(p,"height",l.imageHeight),p.className=_.image,Qe(p,l,"image")}},Ko=(c,l)=>{let p=b(),y=C();if(!(!p||!y)){if(l.toast){It(p,"width",l.width),y.style.width="100%";let R=Dn();R&&y.insertBefore(R,I())}else It(y,"width",l.width);It(y,"padding",l.padding),l.color&&(y.style.color=l.color),l.background&&(y.style.background=l.background),Pe(Rn()),Qo(y,l)}},Qo=(c,l)=>{let p=l.showClass||{};c.className=`${_.popup} ${Ge(c)?p.popup:""}`,l.toast?(ie([document.documentElement,document.body],_["toast-shown"]),ie(c,_.toast)):ie(c,_.modal),Qe(c,l,"popup"),typeof l.customClass=="string"&&ie(c,l.customClass),l.icon&&ie(c,_[`icon-${l.icon}`])},gs=(c,l)=>{let p=on();if(!p)return;let{progressSteps:y,currentProgressStep:R}=l;if(!y||y.length===0||R===void 0){Pe(p);return}Ie(p),p.textContent="",R>=y.length&&N("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),y.forEach((B,ne)=>{let he=_s(B);if(p.appendChild(he),ne===R&&ie(he,_["active-progress-step"]),ne!==y.length-1){let be=Jo(l);p.appendChild(be)}})},_s=c=>{let l=document.createElement("li");return ie(l,_["progress-step"]),ze(l,c),l},Jo=c=>{let l=document.createElement("li");return ie(l,_["progress-step-line"]),c.progressStepsDistance&&It(l,"width",c.progressStepsDistance),l},Yo=(c,l)=>{let p=Sn();p&&(Re(p),Ot(p,l.title||l.titleText,"block"),l.title&&Tt(l.title,p),l.titleText&&(p.innerText=l.titleText),Qe(p,l,"title"))},Xo=(c,l)=>{Ko(c,l),mr(c,l),gs(c,l),Al(c,l),Wo(c,l),Yo(c,l),jo(c,l),$o(c,l),Uo(c,l),zo(c,l);let p=C();typeof l.didRender=="function"&&p&&l.didRender(p),a.eventEmitter.emit("didRender",p)},Cl=()=>Ge(C()),ys=()=>{var c;return(c=ct())===null||c===void 0?void 0:c.click()},Zo=()=>{var c;return(c=Ke())===null||c===void 0?void 0:c.click()},Sl=()=>{var c;return(c=kn())===null||c===void 0?void 0:c.click()},rt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),yt=c=>{c.keydownTarget&&c.keydownHandlerAdded&&(c.keydownTarget.removeEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!1)},oi=(c,l,p)=>{yt(c),l.toast||(c.keydownHandler=y=>ai(l,y,p),c.keydownTarget=l.keydownListenerCapture?window:C(),c.keydownListenerCapture=l.keydownListenerCapture,c.keydownTarget.addEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!0)},Ln=(c,l)=>{var p;let y=xn();if(y.length){c=c+l,c===y.length?c=0:c===-1&&(c=y.length-1),y[c].focus();return}(p=C())===null||p===void 0||p.focus()},ws=["ArrowRight","ArrowDown"],me=["ArrowLeft","ArrowUp"],ai=(c,l,p)=>{c&&(l.isComposing||l.keyCode===229||(c.stopKeydownPropagation&&l.stopPropagation(),l.key==="Enter"?wr(l,c):l.key==="Tab"?vr(l):[...ws,...me].includes(l.key)?Pl(l.key):l.key==="Escape"&&ea(l,c,p)))},wr=(c,l)=>{if(!ge(l.allowEnterKey))return;let p=ti(C(),l.input);if(c.target&&p&&c.target instanceof HTMLElement&&c.target.outerHTML===p.outerHTML){if(["textarea","file"].includes(l.input))return;ys(),c.preventDefault()}},vr=c=>{let l=c.target,p=xn(),y=-1;for(let R=0;R<p.length;R++)if(l===p[R]){y=R;break}c.shiftKey?Ln(y,-1):Ln(y,1),c.stopPropagation(),c.preventDefault()},Pl=c=>{let l=bt(),p=ct(),y=Ke(),R=kn();if(!l||!p||!y||!R)return;let B=[p,y,R];if(document.activeElement instanceof HTMLElement&&!B.includes(document.activeElement))return;let ne=ws.includes(c)?"nextElementSibling":"previousElementSibling",he=document.activeElement;if(he){for(let be=0;be<l.children.length;be++){if(he=he[ne],!he)return;if(he instanceof HTMLButtonElement&&Ge(he))break}he instanceof HTMLButtonElement&&he.focus()}},ea=(c,l,p)=>{ge(l.allowEscapeKey)&&(c.preventDefault(),p(rt.esc))};var Un={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Rl=()=>{let c=b();Array.from(document.body.children).forEach(p=>{p.contains(c)||(p.hasAttribute("aria-hidden")&&p.setAttribute("data-previous-aria-hidden",p.getAttribute("aria-hidden")||""),p.setAttribute("aria-hidden","true"))})},ta=()=>{Array.from(document.body.children).forEach(l=>{l.hasAttribute("data-previous-aria-hidden")?(l.setAttribute("aria-hidden",l.getAttribute("data-previous-aria-hidden")||""),l.removeAttribute("data-previous-aria-hidden")):l.removeAttribute("aria-hidden")})},na=typeof window<"u"&&!!window.GestureEvent,br=()=>{if(na&&!lt(document.body,_.iosfix)){let c=document.body.scrollTop;document.body.style.top=`${c*-1}px`,ie(document.body,_.iosfix),Mt()}},Mt=()=>{let c=b();if(!c)return;let l;c.ontouchstart=p=>{l=ra(p)},c.ontouchmove=p=>{l&&(p.preventDefault(),p.stopPropagation())}},ra=c=>{let l=c.target,p=b(),y=is();return!p||!y||ia(c)||sa(c)?!1:l===p||!Oo(p)&&l instanceof HTMLElement&&l.tagName!=="INPUT"&&l.tagName!=="TEXTAREA"&&!(Oo(y)&&y.contains(l))},ia=c=>c.touches&&c.touches.length&&c.touches[0].touchType==="stylus",sa=c=>c.touches&&c.touches.length>1,Bn=()=>{if(lt(document.body,_.iosfix)){let c=parseInt(document.body.style.top,10);ut(document.body,_.iosfix),document.body.style.top="",document.body.scrollTop=c*-1}},kl=()=>{let c=document.createElement("div");c.className=_["scrollbar-measure"],document.body.appendChild(c);let l=c.getBoundingClientRect().width-c.clientWidth;return document.body.removeChild(c),l},jn=null,Dl=c=>{jn===null&&(document.body.scrollHeight>window.innerHeight||c==="scroll")&&(jn=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${jn+kl()}px`)},Ft=()=>{jn!==null&&(document.body.style.paddingRight=`${jn}px`,jn=null)};function oa(c,l,p,y){On()?ye(c,y):(f(p).then(()=>ye(c,y)),yt(a)),na?(l.setAttribute("style","display:none !important"),l.removeAttribute("class"),l.innerHTML=""):l.remove(),Nn()&&(Ft(),Bn(),ta()),xl()}function xl(){ut([document.documentElement,document.body],[_.shown,_["height-auto"],_["no-backdrop"],_["toast-shown"]])}function it(c){c=Ir(c);let l=Un.swalPromiseResolve.get(this),p=ci(this);this.isAwaitingPromise?c.isDismissed||(At(this),l(c)):p&&l(c)}let ci=c=>{let l=C();if(!l)return!1;let p=le.innerParams.get(c);if(!p||lt(l,p.hideClass.popup))return!1;ut(l,p.showClass.popup),ie(l,p.hideClass.popup);let y=b();return ut(y,p.showClass.backdrop),ie(y,p.hideClass.backdrop),aa(c,l,p),!0};function vs(c){let l=Un.swalPromiseReject.get(this);At(this),l&&l(c)}let At=c=>{c.isAwaitingPromise&&(delete c.isAwaitingPromise,le.innerParams.get(c)||c._destroy())},Ir=c=>typeof c>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},c),aa=(c,l,p)=>{let y=b(),R=Vn(l);typeof p.willClose=="function"&&p.willClose(l),a.eventEmitter.emit("willClose",l),R?bs(c,l,y,p.returnFocus,p.didClose):oa(c,y,p.returnFocus,p.didClose)},bs=(c,l,p,y,R)=>{a.swalCloseEventFinishedCallback=oa.bind(null,c,p,y,R);let B=function(ne){ne.target===l&&(a.swalCloseEventFinishedCallback(),delete a.swalCloseEventFinishedCallback,l.removeEventListener("animationend",B),l.removeEventListener("transitionend",B))};l.addEventListener("animationend",B),l.addEventListener("transitionend",B)},ye=(c,l)=>{setTimeout(()=>{typeof l=="function"&&l.bind(c.params)(),a.eventEmitter.emit("didClose"),c._destroy&&c._destroy()})},qn=c=>{let l=C();if(l||new Ia,l=C(),!l)return;let p=Dn();On()?Pe(I()):Nl(l,c),Ie(p),l.setAttribute("data-loading","true"),l.setAttribute("aria-busy","true"),l.focus()},Nl=(c,l)=>{let p=bt(),y=Dn();!p||!y||(!l&&Ge(ct())&&(l=ct()),Ie(p),l&&(Pe(l),y.setAttribute("data-button-to-replace",l.className),p.insertBefore(y,l)),ie([c,p],_.loading))},ca=(c,l)=>{l.input==="select"||l.input==="radio"?Ct(c,l):["text","email","number","tel","textarea"].some(p=>p===l.input)&&(re(l.inputValue)||v(l.inputValue))&&(qn(ct()),ha(c,l))},la=(c,l)=>{let p=c.getInput();if(!p)return null;switch(l.input){case"checkbox":return ua(p);case"radio":return li(p);case"file":return da(p);default:return l.inputAutoTrim?p.value.trim():p.value}},ua=c=>c.checked?1:0,li=c=>c.checked?c.value:null,da=c=>c.files&&c.files.length?c.getAttribute("multiple")!==null?c.files:c.files[0]:null,Ct=(c,l)=>{let p=C();if(!p)return;let y=R=>{l.input==="select"?Ol(p,Tr(R),l):l.input==="radio"&&Er(p,Tr(R),l)};re(l.inputOptions)||v(l.inputOptions)?(qn(ct()),S(l.inputOptions).then(R=>{c.hideLoading(),y(R)})):typeof l.inputOptions=="object"?y(l.inputOptions):G(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof l.inputOptions}`)},ha=(c,l)=>{let p=c.getInput();p&&(Pe(p),S(l.inputValue).then(y=>{p.value=l.input==="number"?`${parseFloat(y)||0}`:`${y}`,Ie(p),p.focus(),c.hideLoading()}).catch(y=>{G(`Error in inputValue promise: ${y}`),p.value="",Ie(p),p.focus(),c.hideLoading()}))};function Ol(c,l,p){let y=Nt(c,_.select);if(!y)return;let R=(B,ne,he)=>{let be=document.createElement("option");be.value=he,ze(be,ne),be.selected=ui(he,p.inputValue),B.appendChild(be)};l.forEach(B=>{let ne=B[0],he=B[1];if(Array.isArray(he)){let be=document.createElement("optgroup");be.label=ne,be.disabled=!1,y.appendChild(be),he.forEach(pi=>R(be,pi[1],pi[0]))}else R(y,he,ne)}),y.focus()}function Er(c,l,p){let y=Nt(c,_.radio);if(!y)return;l.forEach(B=>{let ne=B[0],he=B[1],be=document.createElement("input"),pi=document.createElement("label");be.type="radio",be.name=_.radio,be.value=ne,ui(ne,p.inputValue)&&(be.checked=!0);let Ml=document.createElement("span");ze(Ml,he),Ml.className=_.label,pi.appendChild(be),pi.appendChild(Ml),y.appendChild(pi)});let R=y.querySelectorAll("input");R.length&&R[0].focus()}let Tr=c=>{let l=[];return c instanceof Map?c.forEach((p,y)=>{let R=p;typeof R=="object"&&(R=Tr(R)),l.push([y,R])}):Object.keys(c).forEach(p=>{let y=c[p];typeof y=="object"&&(y=Tr(y)),l.push([p,y])}),l},ui=(c,l)=>!!l&&l.toString()===c.toString(),di=c=>{let l=le.innerParams.get(c);c.disableButtons(),l.input?pa(c,"confirm"):Ar(c,!0)},fa=c=>{let l=le.innerParams.get(c);c.disableButtons(),l.returnInputValueOnDeny?pa(c,"deny"):an(c,!1)},hi=(c,l)=>{c.disableButtons(),l(rt.cancel)},pa=(c,l)=>{let p=le.innerParams.get(c);if(!p.input){G(`The "input" parameter is needed to be set when using returnInputValueOn${j(l)}`);return}let y=c.getInput(),R=la(c,p);p.inputValidator?ma(c,R,l):y&&!y.checkValidity()?(c.enableButtons(),c.showValidationMessage(p.validationMessage||y.validationMessage)):l==="deny"?an(c,R):Ar(c,R)},ma=(c,l,p)=>{let y=le.innerParams.get(c);c.disableInput(),Promise.resolve().then(()=>S(y.inputValidator(l,y.validationMessage))).then(B=>{c.enableButtons(),c.enableInput(),B?c.showValidationMessage(B):p==="deny"?an(c,l):Ar(c,l)})},an=(c,l)=>{let p=le.innerParams.get(c||void 0);p.showLoaderOnDeny&&qn(Ke()),p.preDeny?(c.isAwaitingPromise=!0,Promise.resolve().then(()=>S(p.preDeny(l,p.validationMessage))).then(R=>{R===!1?(c.hideLoading(),At(c)):c.close({isDenied:!0,value:typeof R>"u"?l:R})}).catch(R=>Es(c||void 0,R))):c.close({isDenied:!0,value:l})},Is=(c,l)=>{c.close({isConfirmed:!0,value:l})},Es=(c,l)=>{c.rejectPromise(l)},Ar=(c,l)=>{let p=le.innerParams.get(c||void 0);p.showLoaderOnConfirm&&qn(),p.preConfirm?(c.resetValidationMessage(),c.isAwaitingPromise=!0,Promise.resolve().then(()=>S(p.preConfirm(l,p.validationMessage))).then(R=>{Ge(Rn())||R===!1?(c.hideLoading(),At(c)):Is(c,typeof R>"u"?l:R)}).catch(R=>Es(c||void 0,R))):Is(c,l)};function $n(){let c=le.innerParams.get(this);if(!c)return;let l=le.domCache.get(this);Pe(l.loader),On()?c.icon&&Ie(I()):ga(l),ut([l.popup,l.actions],_.loading),l.popup.removeAttribute("aria-busy"),l.popup.removeAttribute("data-loading"),l.confirmButton.disabled=!1,l.denyButton.disabled=!1,l.cancelButton.disabled=!1}let ga=c=>{let l=c.popup.getElementsByClassName(c.loader.getAttribute("data-button-to-replace"));l.length?Ie(l[0],"inline-block"):No()&&Pe(c.actions)};function Cr(){let c=le.innerParams.get(this),l=le.domCache.get(this);return l?ti(l.popup,c.input):null}function Ts(c,l,p){let y=le.domCache.get(c);l.forEach(R=>{y[R].disabled=p})}function As(c,l){let p=C();if(!(!p||!c))if(c.type==="radio"){let y=p.querySelectorAll(`[name="${_.radio}"]`);for(let R=0;R<y.length;R++)y[R].disabled=l}else c.disabled=l}function Lt(){Ts(this,["confirmButton","denyButton","cancelButton"],!1)}function Cs(){Ts(this,["confirmButton","denyButton","cancelButton"],!0)}function Ss(){As(this.getInput(),!1)}function Ps(){As(this.getInput(),!0)}function Rs(c){let l=le.domCache.get(this),p=le.innerParams.get(this);ze(l.validationMessage,c),l.validationMessage.className=_["validation-message"],p.customClass&&p.customClass.validationMessage&&ie(l.validationMessage,p.customClass.validationMessage),Ie(l.validationMessage);let y=this.getInput();y&&(y.setAttribute("aria-invalid","true"),y.setAttribute("aria-describedby",_["validation-message"]),as(y),ie(y,_.inputerror))}function Sr(){let c=le.domCache.get(this);c.validationMessage&&Pe(c.validationMessage);let l=this.getInput();l&&(l.removeAttribute("aria-invalid"),l.removeAttribute("aria-describedby"),ut(l,_.inputerror))}let ke={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},_a=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],ya={allowEnterKey:void 0},zn=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],o=c=>Object.prototype.hasOwnProperty.call(ke,c),u=c=>_a.indexOf(c)!==-1,h=c=>ya[c],g=c=>{o(c)||N(`Unknown parameter "${c}"`)},P=c=>{zn.includes(c)&&N(`The parameter "${c}" is incompatible with toasts`)},D=c=>{let l=h(c);l&&te(c,l)},L=c=>{c.backdrop===!1&&c.allowOutsideClick&&N('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let l in c)g(l),c.toast&&P(l),D(l)};function de(c){let l=C(),p=le.innerParams.get(this);if(!l||lt(l,p.hideClass.popup)){N("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let y=Oe(c),R=Object.assign({},p,y);Xo(this,R),le.innerParams.set(this,R),Object.defineProperties(this,{params:{value:Object.assign({},this.params,c),writable:!1,enumerable:!0}})}let Oe=c=>{let l={};return Object.keys(c).forEach(p=>{u(p)?l[p]=c[p]:N(`Invalid parameter to update: ${p}`)}),l};function ae(){let c=le.domCache.get(this),l=le.innerParams.get(this);if(!l){Ve(this);return}c.popup&&a.swalCloseEventFinishedCallback&&(a.swalCloseEventFinishedCallback(),delete a.swalCloseEventFinishedCallback),typeof l.didDestroy=="function"&&l.didDestroy(),a.eventEmitter.emit("didDestroy"),Be(this)}let Be=c=>{Ve(c),delete c.params,delete a.keydownHandler,delete a.keydownTarget,delete a.currentInstance},Ve=c=>{c.isAwaitingPromise?(Ut(le,c),c.isAwaitingPromise=!0):(Ut(Un,c),Ut(le,c),delete c.isAwaitingPromise,delete c.disableButtons,delete c.enableButtons,delete c.getInput,delete c.disableInput,delete c.enableInput,delete c.hideLoading,delete c.disableLoading,delete c.showValidationMessage,delete c.resetValidationMessage,delete c.close,delete c.closePopup,delete c.closeModal,delete c.closeToast,delete c.rejectPromise,delete c.update,delete c._destroy)},Ut=(c,l)=>{for(let p in c)c[p].delete(l)};var dt=Object.freeze({__proto__:null,_destroy:ae,close:it,closeModal:it,closePopup:it,closeToast:it,disableButtons:Cs,disableInput:Ps,disableLoading:$n,enableButtons:Lt,enableInput:Ss,getInput:Cr,handleAwaitingPromise:At,hideLoading:$n,rejectPromise:vs,resetValidationMessage:Sr,showValidationMessage:Rs,update:de});let fi=(c,l,p)=>{c.toast?ks(c,l,p):(ky(l),Dy(l),xy(c,l,p))},ks=(c,l,p)=>{l.popup.onclick=()=>{c&&(Ry(c)||c.timer||c.input)||p(rt.close)}},Ry=c=>!!(c.showConfirmButton||c.showDenyButton||c.showCancelButton||c.showCloseButton),wa=!1,ky=c=>{c.popup.onmousedown=()=>{c.container.onmouseup=function(l){c.container.onmouseup=()=>{},l.target===c.container&&(wa=!0)}}},Dy=c=>{c.container.onmousedown=l=>{l.target===c.container&&l.preventDefault(),c.popup.onmouseup=function(p){c.popup.onmouseup=()=>{},(p.target===c.popup||p.target instanceof HTMLElement&&c.popup.contains(p.target))&&(wa=!0)}}},xy=(c,l,p)=>{l.container.onclick=y=>{if(wa){wa=!1;return}y.target===l.container&&ge(c.allowOutsideClick)&&p(rt.backdrop)}},Ny=c=>typeof c=="object"&&c.jquery,Nf=c=>c instanceof Element||Ny(c),Oy=c=>{let l={};return typeof c[0]=="object"&&!Nf(c[0])?Object.assign(l,c[0]):["title","html","icon"].forEach((p,y)=>{let R=c[y];typeof R=="string"||Nf(R)?l[p]=R:R!==void 0&&G(`Unexpected type of ${p}! Expected "string" or "Element", got ${typeof R}`)}),l};function Vy(){for(var c=arguments.length,l=new Array(c),p=0;p<c;p++)l[p]=arguments[p];return new this(...l)}function My(c){class l extends this{_main(y,R){return super._main(y,Object.assign({},c,R))}}return l}let Fy=()=>a.timeout&&a.timeout.getTimerLeft(),Of=()=>{if(a.timeout)return Vo(),a.timeout.stop()},Vf=()=>{if(a.timeout){let c=a.timeout.start();return ni(c),c}},Ly=()=>{let c=a.timeout;return c&&(c.running?Of():Vf())},Uy=c=>{if(a.timeout){let l=a.timeout.increase(c);return ni(l,!0),l}},By=()=>!!(a.timeout&&a.timeout.isRunning()),Mf=!1,Vl={};function jy(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Vl[c]=this,Mf||(document.body.addEventListener("click",qy),Mf=!0)}let qy=c=>{for(let l=c.target;l&&l!==document;l=l.parentNode)for(let p in Vl){let y=l.getAttribute(p);if(y){Vl[p].fire({template:y});return}}};class $y{constructor(){this.events={}}_getHandlersByEventName(l){return typeof this.events[l]>"u"&&(this.events[l]=[]),this.events[l]}on(l,p){let y=this._getHandlersByEventName(l);y.includes(p)||y.push(p)}once(l,p){var y=this;let R=function(){y.removeListener(l,R);for(var B=arguments.length,ne=new Array(B),he=0;he<B;he++)ne[he]=arguments[he];p.apply(y,ne)};this.on(l,R)}emit(l){for(var p=arguments.length,y=new Array(p>1?p-1:0),R=1;R<p;R++)y[R-1]=arguments[R];this._getHandlersByEventName(l).forEach(B=>{try{B.apply(this,y)}catch(ne){console.error(ne)}})}removeListener(l,p){let y=this._getHandlersByEventName(l),R=y.indexOf(p);R>-1&&y.splice(R,1)}removeAllListeners(l){this.events[l]!==void 0&&(this.events[l].length=0)}reset(){this.events={}}}a.eventEmitter=new $y;var zy=Object.freeze({__proto__:null,argsToParams:Oy,bindClickHandler:jy,clickCancel:Sl,clickConfirm:ys,clickDeny:Zo,enableLoading:qn,fire:Vy,getActions:bt,getCancelButton:kn,getCloseButton:ss,getConfirmButton:ct,getContainer:b,getDenyButton:Ke,getFocusableElements:xn,getFooter:Do,getHtmlContainer:is,getIcon:I,getIconContent:vt,getImage:Pn,getInputLabel:Le,getLoader:Dn,getPopup:C,getProgressSteps:on,getTimerLeft:Fy,getTimerProgressBar:xt,getTitle:Sn,getValidationMessage:Rn,increaseTimer:Uy,isDeprecatedParameter:h,isLoading:os,isTimerRunning:By,isUpdatableParameter:u,isValidParameter:o,isVisible:Cl,mixin:My,off:(c,l)=>{if(!c){a.eventEmitter.reset();return}l?a.eventEmitter.removeListener(c,l):a.eventEmitter.removeAllListeners(c)},on:(c,l)=>{a.eventEmitter.on(c,l)},once:(c,l)=>{a.eventEmitter.once(c,l)},resumeTimer:Vf,showLoading:qn,stopTimer:Of,toggleTimer:Ly});class Gy{constructor(l,p){this.callback=l,this.remaining=p,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(l){let p=this.running;return p&&this.stop(),this.remaining+=l,p&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let Ff=["swal-title","swal-html","swal-footer"],Hy=c=>{let l=typeof c.template=="string"?document.querySelector(c.template):c.template;if(!l)return{};let p=l.content;return ew(p),Object.assign(Wy(p),Ky(p),Qy(p),Jy(p),Yy(p),Xy(p),Zy(p,Ff))},Wy=c=>{let l={};return Array.from(c.querySelectorAll("swal-param")).forEach(y=>{Pr(y,["name","value"]);let R=y.getAttribute("name"),B=y.getAttribute("value");!R||!B||(typeof ke[R]=="boolean"?l[R]=B!=="false":typeof ke[R]=="object"?l[R]=JSON.parse(B):l[R]=B)}),l},Ky=c=>{let l={};return Array.from(c.querySelectorAll("swal-function-param")).forEach(y=>{let R=y.getAttribute("name"),B=y.getAttribute("value");!R||!B||(l[R]=new Function(`return ${B}`)())}),l},Qy=c=>{let l={};return Array.from(c.querySelectorAll("swal-button")).forEach(y=>{Pr(y,["type","color","aria-label"]);let R=y.getAttribute("type");!R||!["confirm","cancel","deny"].includes(R)||(l[`${R}ButtonText`]=y.innerHTML,l[`show${j(R)}Button`]=!0,y.hasAttribute("color")&&(l[`${R}ButtonColor`]=y.getAttribute("color")),y.hasAttribute("aria-label")&&(l[`${R}ButtonAriaLabel`]=y.getAttribute("aria-label")))}),l},Jy=c=>{let l={},p=c.querySelector("swal-image");return p&&(Pr(p,["src","width","height","alt"]),p.hasAttribute("src")&&(l.imageUrl=p.getAttribute("src")||void 0),p.hasAttribute("width")&&(l.imageWidth=p.getAttribute("width")||void 0),p.hasAttribute("height")&&(l.imageHeight=p.getAttribute("height")||void 0),p.hasAttribute("alt")&&(l.imageAlt=p.getAttribute("alt")||void 0)),l},Yy=c=>{let l={},p=c.querySelector("swal-icon");return p&&(Pr(p,["type","color"]),p.hasAttribute("type")&&(l.icon=p.getAttribute("type")),p.hasAttribute("color")&&(l.iconColor=p.getAttribute("color")),l.iconHtml=p.innerHTML),l},Xy=c=>{let l={},p=c.querySelector("swal-input");p&&(Pr(p,["type","label","placeholder","value"]),l.input=p.getAttribute("type")||"text",p.hasAttribute("label")&&(l.inputLabel=p.getAttribute("label")),p.hasAttribute("placeholder")&&(l.inputPlaceholder=p.getAttribute("placeholder")),p.hasAttribute("value")&&(l.inputValue=p.getAttribute("value")));let y=Array.from(c.querySelectorAll("swal-input-option"));return y.length&&(l.inputOptions={},y.forEach(R=>{Pr(R,["value"]);let B=R.getAttribute("value");if(!B)return;let ne=R.innerHTML;l.inputOptions[B]=ne})),l},Zy=(c,l)=>{let p={};for(let y in l){let R=l[y],B=c.querySelector(R);B&&(Pr(B,[]),p[R.replace(/^swal-/,"")]=B.innerHTML.trim())}return p},ew=c=>{let l=Ff.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(c.children).forEach(p=>{let y=p.tagName.toLowerCase();l.includes(y)||N(`Unrecognized element <${y}>`)})},Pr=(c,l)=>{Array.from(c.attributes).forEach(p=>{l.indexOf(p.name)===-1&&N([`Unrecognized attribute "${p.name}" on <${c.tagName.toLowerCase()}>.`,`${l.length?`Allowed attributes are: ${l.join(", ")}`:"To set the value, use HTML within the element."}`])})},Lf=10,tw=c=>{let l=b(),p=C();typeof c.willOpen=="function"&&c.willOpen(p),a.eventEmitter.emit("willOpen",p);let R=window.getComputedStyle(document.body).overflowY;iw(l,p,c),setTimeout(()=>{nw(l,p)},Lf),Nn()&&(rw(l,c.scrollbarPadding,R),Rl()),!On()&&!a.previousActiveElement&&(a.previousActiveElement=document.activeElement),typeof c.didOpen=="function"&&setTimeout(()=>c.didOpen(p)),a.eventEmitter.emit("didOpen",p),ut(l,_["no-transition"])},va=c=>{let l=C();if(c.target!==l)return;let p=b();l.removeEventListener("animationend",va),l.removeEventListener("transitionend",va),p.style.overflowY="auto"},nw=(c,l)=>{Vn(l)?(c.style.overflowY="hidden",l.addEventListener("animationend",va),l.addEventListener("transitionend",va)):c.style.overflowY="auto"},rw=(c,l,p)=>{br(),l&&p!=="hidden"&&Dl(p),setTimeout(()=>{c.scrollTop=0})},iw=(c,l,p)=>{ie(c,p.showClass.backdrop),p.animation?(l.style.setProperty("opacity","0","important"),Ie(l,"grid"),setTimeout(()=>{ie(l,p.showClass.popup),l.style.removeProperty("opacity")},Lf)):Ie(l,"grid"),ie([document.documentElement,document.body],_.shown),p.heightAuto&&p.backdrop&&!p.toast&&ie([document.documentElement,document.body],_["height-auto"])};var Uf={email:(c,l)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(c)?Promise.resolve():Promise.resolve(l||"Invalid email address"),url:(c,l)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(c)?Promise.resolve():Promise.resolve(l||"Invalid URL")};function sw(c){c.inputValidator||(c.input==="email"&&(c.inputValidator=Uf.email),c.input==="url"&&(c.inputValidator=Uf.url))}function ow(c){(!c.target||typeof c.target=="string"&&!document.querySelector(c.target)||typeof c.target!="string"&&!c.target.appendChild)&&(N('Target parameter is not valid, defaulting to "body"'),c.target="body")}function aw(c){sw(c),c.showLoaderOnConfirm&&!c.preConfirm&&N(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),ow(c),typeof c.title=="string"&&(c.title=c.title.split(`
`).join("<br />")),ds(c)}let Bt;var ba=new WeakMap;class Ce{constructor(){if(r(this,ba,void 0),typeof window>"u")return;Bt=this;for(var l=arguments.length,p=new Array(l),y=0;y<l;y++)p[y]=arguments[y];let R=Object.freeze(this.constructor.argsToParams(p));this.params=R,this.isAwaitingPromise=!1,i(ba,this,this._main(Bt.params))}_main(l){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(L(Object.assign({},p,l)),a.currentInstance){let B=Un.swalPromiseResolve.get(a.currentInstance),{isAwaitingPromise:ne}=a.currentInstance;a.currentInstance._destroy(),ne||B({isDismissed:!0}),Nn()&&ta()}a.currentInstance=Bt;let y=lw(l,p);aw(y),Object.freeze(y),a.timeout&&(a.timeout.stop(),delete a.timeout),clearTimeout(a.restoreFocusTimeout);let R=uw(Bt);return Xo(Bt,y),le.innerParams.set(Bt,y),cw(Bt,R,y)}then(l){return t(ba,this).then(l)}finally(l){return t(ba,this).finally(l)}}let cw=(c,l,p)=>new Promise((y,R)=>{let B=ne=>{c.close({isDismissed:!0,dismiss:ne})};Un.swalPromiseResolve.set(c,y),Un.swalPromiseReject.set(c,R),l.confirmButton.onclick=()=>{di(c)},l.denyButton.onclick=()=>{fa(c)},l.cancelButton.onclick=()=>{hi(c,B)},l.closeButton.onclick=()=>{B(rt.close)},fi(p,l,B),oi(a,p,B),ca(c,p),tw(p),dw(a,p,B),hw(l,p),setTimeout(()=>{l.container.scrollTop=0})}),lw=(c,l)=>{let p=Hy(c),y=Object.assign({},ke,l,p,c);return y.showClass=Object.assign({},ke.showClass,y.showClass),y.hideClass=Object.assign({},ke.hideClass,y.hideClass),y.animation===!1&&(y.showClass={backdrop:"swal2-noanimation"},y.hideClass={}),y},uw=c=>{let l={popup:C(),container:b(),actions:bt(),confirmButton:ct(),denyButton:Ke(),cancelButton:kn(),loader:Dn(),closeButton:ss(),validationMessage:Rn(),progressSteps:on()};return le.domCache.set(c,l),l},dw=(c,l,p)=>{let y=xt();Pe(y),l.timer&&(c.timeout=new Gy(()=>{p("timer"),delete c.timeout},l.timer),l.timerProgressBar&&(Ie(y),Qe(y,l,"timerProgressBar"),setTimeout(()=>{c.timeout&&c.timeout.running&&ni(l.timer)})))},hw=(c,l)=>{if(!l.toast){if(!ge(l.allowEnterKey)){te("allowEnterKey"),mw();return}fw(c)||pw(c,l)||Ln(-1,1)}},fw=c=>{let l=c.popup.querySelectorAll("[autofocus]");for(let p of l)if(p instanceof HTMLElement&&Ge(p))return p.focus(),!0;return!1},pw=(c,l)=>l.focusDeny&&Ge(c.denyButton)?(c.denyButton.focus(),!0):l.focusCancel&&Ge(c.cancelButton)?(c.cancelButton.focus(),!0):l.focusConfirm&&Ge(c.confirmButton)?(c.confirmButton.focus(),!0):!1,mw=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let c=new Date,l=localStorage.getItem("swal-initiation");l?(c.getTime()-Date.parse(l))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let p=document.createElement("audio");p.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",p.loop=!0,document.body.appendChild(p),setTimeout(()=>{p.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${c}`)}Ce.prototype.disableButtons=Cs,Ce.prototype.enableButtons=Lt,Ce.prototype.getInput=Cr,Ce.prototype.disableInput=Ps,Ce.prototype.enableInput=Ss,Ce.prototype.hideLoading=$n,Ce.prototype.disableLoading=$n,Ce.prototype.showValidationMessage=Rs,Ce.prototype.resetValidationMessage=Sr,Ce.prototype.close=it,Ce.prototype.closePopup=it,Ce.prototype.closeModal=it,Ce.prototype.closeToast=it,Ce.prototype.rejectPromise=vs,Ce.prototype.update=de,Ce.prototype._destroy=ae,Object.assign(Ce,zy),Object.keys(dt).forEach(c=>{Ce[c]=function(){return Bt&&Bt[c]?Bt[c](...arguments):null}}),Ce.DismissReason=rt,Ce.version="11.14.4";let Ia=Ce;return Ia.default=Ia,Ia});typeof Jt<"u"&&Jt.Sweetalert2&&(Jt.swal=Jt.sweetAlert=Jt.Swal=Jt.SweetAlert=Jt.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});var fp=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(J(Sa),J(Ca))}}static{this.\u0275dir=ft({type:n})}}return n})(),pp=(()=>{class n extends fp{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ql(n)))(i||n)}})()}static{this.\u0275dir=ft({type:n,features:[$t]})}}return n})(),Ua=new tt("");var _w={provide:Ua,useExisting:Rr(()=>Yn),multi:!0};function yw(){let n=Hl()?Hl().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var ww=new tt(""),Yn=(()=>{class n extends fp{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!yw())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(J(Sa),J(Ca),J(ww,8))}}static{this.\u0275dir=ft({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ee("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[xr([_w]),$t]})}}return n})();function Kn(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function mp(n){return n!=null&&typeof n.length=="number"}var Ba=new tt(""),Zl=new tt(""),vw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,pt=class{static min(e){return bw(e)}static max(e){return Iw(e)}static required(e){return gp(e)}static requiredTrue(e){return Ew(e)}static email(e){return Tw(e)}static minLength(e){return Aw(e)}static maxLength(e){return Cw(e)}static pattern(e){return Sw(e)}static nullValidator(e){return Da(e)}static compose(e){return Ip(e)}static composeAsync(e){return Tp(e)}};function bw(n){return e=>{if(Kn(e.value)||Kn(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Iw(n){return e=>{if(Kn(e.value)||Kn(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function gp(n){return Kn(n.value)?{required:!0}:null}function Ew(n){return n.value===!0?null:{required:!0}}function Tw(n){return Kn(n.value)||vw.test(n.value)?null:{email:!0}}function Aw(n){return e=>Kn(e.value)||!mp(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function Cw(n){return e=>mp(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Sw(n){if(!n)return Da;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Kn(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Da(n){return null}function _p(n){return n!=null}function yp(n){return Jf(n)?jl(n):n}function wp(n){let e={};return n.forEach(t=>{e=t!=null?et(et({},e),t):e}),Object.keys(e).length===0?null:e}function vp(n,e){return e.map(t=>t(n))}function Pw(n){return!n.validate}function bp(n){return n.map(e=>Pw(e)?e:t=>e.validate(t))}function Ip(n){if(!n)return null;let e=n.filter(_p);return e.length==0?null:function(t){return wp(vp(t,e))}}function Ep(n){return n!=null?Ip(bp(n)):null}function Tp(n){if(!n)return null;let e=n.filter(_p);return e.length==0?null:function(t){let r=vp(t,e).map(yp);return $f(r).pipe(xs(wp))}}function Ap(n){return n!=null?Tp(bp(n)):null}function sp(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Cp(n){return n._rawValidators}function Sp(n){return n._rawAsyncValidators}function Wl(n){return n?Array.isArray(n)?n:[n]:[]}function xa(n,e){return Array.isArray(n)?n.includes(e):n===e}function op(n,e){let t=Wl(e);return Wl(n).forEach(i=>{xa(t,i)||t.push(i)}),t}function ap(n,e){return Wl(e).filter(t=>!xa(n,t))}var Na=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ep(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ap(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Nr=class extends Na{get formDirective(){return null}get path(){return null}},Qn=class extends Na{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Oa=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Rw={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},dC=ht(et({},Rw),{"[class.ng-submitted]":"isSubmitted"}),Ti=(()=>{class n extends Oa{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(J(Qn,2))}}static{this.\u0275dir=ft({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&$l("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[$t]})}}return n})(),Pp=(()=>{class n extends Oa{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(J(Nr,10))}}static{this.\u0275dir=ft({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&$l("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[$t]})}}return n})();var Ls="VALID",ka="INVALID",bi="PENDING",Us="DISABLED",Jn=class{},Va=class extends Jn{constructor(e,t){super(),this.value=e,this.source=t}},Bs=class extends Jn{constructor(e,t){super(),this.pristine=e,this.source=t}},js=class extends Jn{constructor(e,t){super(),this.touched=e,this.source=t}},Ii=class extends Jn{constructor(e,t){super(),this.status=e,this.source=t}},Kl=class extends Jn{constructor(e){super(),this.source=e}},Ql=class extends Jn{constructor(e){super(),this.source=e}};function eu(n){return(ja(n)?n.validators:n)||null}function kw(n){return Array.isArray(n)?Ep(n):n||null}function tu(n,e){return(ja(e)?e.asyncValidators:n)||null}function Dw(n){return Array.isArray(n)?Ap(n):n||null}function ja(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Rp(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Ea(1e3,"");if(!r[t])throw new Ea(1001,"")}function kp(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Ea(1002,"")})}var Ei=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Fs(()=>this.statusReactive()),this.statusReactive=Vs(void 0),this._pristine=Fs(()=>this.pristineReactive()),this.pristineReactive=Vs(!0),this._touched=Fs(()=>this.touchedReactive()),this.touchedReactive=Vs(!1),this._events=new Bf,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Wn(this.statusReactive)}set status(e){Wn(()=>this.statusReactive.set(e))}get valid(){return this.status===Ls}get invalid(){return this.status===ka}get pending(){return this.status==bi}get disabled(){return this.status===Us}get enabled(){return this.status!==Us}get pristine(){return Wn(this.pristineReactive)}set pristine(e){Wn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Wn(this.touchedReactive)}set touched(e){Wn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(op(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(op(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ap(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ap(e,this._rawAsyncValidators))}hasValidator(e){return xa(this._rawValidators,e)}hasAsyncValidator(e){return xa(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ht(et({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new js(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new js(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ht(et({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Bs(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Bs(!0,r))}markAsPending(e={}){this.status=bi;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ii(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ht(et({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Us,this.errors=null,this._forEachChild(i=>{i.disable(ht(et({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Va(this.value,r)),this._events.next(new Ii(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ht(et({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ls,this._forEachChild(r=>{r.enable(ht(et({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ht(et({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ls||this.status===bi)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Va(this.value,t)),this._events.next(new Ii(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ht(et({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Us:Ls}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=bi,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=yp(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ii(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new mi,this.statusChanges=new mi}_calculateStatus(){return this._allControlsDisabled()?Us:this.errors?ka:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bi)?bi:this._anyControlsHaveStatus(ka)?ka:Ls}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Bs(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new js(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ja(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=kw(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Dw(this._rawAsyncValidators)}},Ma=class extends Ei{constructor(e,t,r){super(eu(t),tu(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){kp(this,!0,e),Object.keys(e).forEach(r=>{Rp(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Jl=class extends Ma{};var $s=new tt("CallSetDisabledState",{providedIn:"root",factory:()=>zs}),zs="always";function Dp(n,e){return[...e.path,n]}function Yl(n,e,t=zs){nu(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Nw(n,e),Vw(n,e),Ow(n,e),xw(n,e)}function cp(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),La(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Fa(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function xw(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function nu(n,e){let t=Cp(n);e.validator!==null?n.setValidators(sp(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Sp(n);e.asyncValidator!==null?n.setAsyncValidators(sp(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Fa(e._rawValidators,i),Fa(e._rawAsyncValidators,i)}function La(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=Cp(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(a=>a!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=Sp(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(a=>a!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return Fa(e._rawValidators,r),Fa(e._rawAsyncValidators,r),t}function Nw(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&xp(n,e)})}function Ow(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&xp(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function xp(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Vw(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Mw(n,e){n==null,nu(n,e)}function Fw(n,e){return La(n,e)}function Np(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Lw(n){return Object.getPrototypeOf(n.constructor)===pp}function Uw(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Op(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===Yn?t=s:Lw(s)?r=s:i=s}),i||r||t||null}function Bw(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function lp(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function up(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var qs=class extends Ei{constructor(e=null,t,r){super(eu(t),tu(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ja(t)&&(t.nonNullable||t.initialValueIsDefault)&&(up(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){lp(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){lp(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){up(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var jw=n=>n instanceof qs;var qw={provide:Qn,useExisting:Rr(()=>Gs)},dp=Promise.resolve(),Gs=(()=>{class n extends Qn{constructor(t,r,i,s,a,d){super(),this._changeDetectorRef=a,this.callSetDisabledState=d,this.control=new qs,this._registered=!1,this.name="",this.update=new mi,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Op(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Np(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Yl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){dp.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Gl(r);dp.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Dp(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(J(Nr,9),J(Ba,10),J(Zl,10),J(Ua,10),J(Xf,8),J($s,8))}}static{this.\u0275dir=ft({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xr([qw]),$t,Os]})}}return n})(),Vp=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ft({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var $w={provide:Ua,useExisting:Rr(()=>ru),multi:!0};var zw=(()=>{class n{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=kr({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ru=(()=>{class n extends pp{constructor(t,r,i,s){super(t,r),this._registry=i,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=Ns($s,{optional:!0})??zs}ngOnInit(){this._control=this._injector.get(Qn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(r){return new(r||n)(J(Sa),J(Ca),J(zw),J(jt))}}static{this.\u0275dir=ft({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&Ee("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[xr([$w]),$t]})}}return n})();var Mp=new tt("");var Gw={provide:Nr,useExisting:Rr(()=>iu)},iu=(()=>{class n extends Nr{get submitted(){return Wn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Fs(()=>this._submittedReactive()),this._submittedReactive=Vs(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new mi,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(La(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Yl(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){cp(t.control||null,t,!1),Bw(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),Uw(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Kl(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Ql(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(cp(r||null,t),jw(i)&&(Yl(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);Mw(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&Fw(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){nu(this.form,this),this._oldForm&&La(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(J(Ba,10),J(Zl,10),J($s,8))}}static{this.\u0275dir=ft({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ee("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xr([Gw]),$t,Os]})}}return n})();var Hw={provide:Qn,useExisting:Rr(()=>su)},su=(()=>{class n extends Qn{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new mi,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Op(this,s)}ngOnChanges(t){this._added||this._setUpControl(),Np(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Dp(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(J(Nr,13),J(Ba,10),J(Zl,10),J(Ua,10),J(Mp,8))}}static{this.\u0275dir=ft({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[xr([Hw]),$t,Os]})}}return n})();var Ww=(()=>{class n{constructor(){this._validator=Da}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Da,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ft({type:n,features:[Os]})}}return n})();var Kw={provide:Ba,useExisting:Rr(()=>ou),multi:!0};var ou=(()=>{class n extends Ww{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Gl,this.createValidator=t=>gp}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ql(n)))(i||n)}})()}static{this.\u0275dir=ft({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Wf("required",i._enabled?"":null)},inputs:{required:"required"},features:[xr([Kw]),$t]})}}return n})();var Fp=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Aa({type:n})}static{this.\u0275inj=Ta({})}}return n})(),Xl=class extends Ei{constructor(e,t,r){super(eu(t),tu(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){kp(this,!1,e),e.forEach((r,i)=>{Rp(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function hp(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Lp=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),s={};return hp(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Ma(i,s)}record(t,r=null){let i=this._reduceControls(t);return new Jl(i,r)}control(t,r,i){let s={};return this.useNonNullable?(hp(r)?s=r:(s.validators=r,s.asyncValidators=i),new qs(t,ht(et({},s),{nonNullable:!0}))):new qs(t,r,i)}array(t,r,i){let s=t.map(a=>this._createControl(a));return new Xl(s,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof qs)return t;if(t instanceof Ei)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(r,i,s)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=kr({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Xn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:$s,useValue:t.callSetDisabledState??zs}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Aa({type:n})}static{this.\u0275inj=Ta({imports:[Fp]})}}return n})(),Up=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Mp,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:$s,useValue:t.callSetDisabledState??zs}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Aa({type:n})}static{this.\u0275inj=Ta({imports:[Fp]})}}return n})();var jp=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Qw=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],a=n[t++],d=n[t++],f=((i&7)<<18|(s&63)<<12|(a&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{let s=n[t++],a=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},qp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],a=i+1<n.length,d=a?n[i+1]:0,f=i+2<n.length,m=f?n[i+2]:0,w=s>>2,_=(s&3)<<4|d>>4,k=(d&15)<<2|m>>6,x=m&63;f||(x=64,a||(k=64)),r.push(t[w],t[_],t[k],t[x])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(jp(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Qw(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],d=i<n.length?t[n.charAt(i)]:0;++i;let m=i<n.length?t[n.charAt(i)]:64;++i;let _=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||d==null||m==null||_==null)throw new lu;let k=s<<2|d>>4;if(r.push(k),m!==64){let x=d<<4&240|m>>2;if(r.push(x),_!==64){let U=m<<6&192|_;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},lu=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Jw=function(n){let e=jp(n);return qp.encodeByteArray(e,!0)},Hs=function(n){return Jw(n).replace(/\./g,"")},du=function(n){try{return qp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Yw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Xw=()=>Yw().__FIREBASE_DEFAULTS__,Zw=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ev=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&du(n[1]);return e&&JSON.parse(e)},$a=()=>{try{return Xw()||Zw()||ev()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hu=n=>{var e,t;return(t=(e=$a())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},za=n=>{let e=hu(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},fu=()=>{var n;return(n=$a())===null||n===void 0?void 0:n.config},pu=n=>{var e;return(e=$a())===null||e===void 0?void 0:e[`_${n}`]};var qa=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Ga(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Hs(JSON.stringify(t)),Hs(JSON.stringify(a)),""].join(".")}function je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $p(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function tv(){var n;let e=(n=$a())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zp(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gp(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Hp(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wp(){let n=je();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Kp(){return!tv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mu(){try{return typeof indexedDB=="object"}catch{return!1}}function Qp(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var nv="FirebaseError",nt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=nv,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dn.prototype.create)}},dn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?rv(s,r):"Error",d=`${this.serviceName}: ${a} (${i}).`;return new nt(i,d,r)}};function rv(n,e){return n.replace(iv,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var iv=/\{\$([^}]+)}/g;function Jp(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Or(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],a=e[i];if(Bp(s)&&Bp(a)){if(!Or(s,a))return!1}else if(s!==a)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function Bp(n){return n!==null&&typeof n=="object"}function Ws(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ai(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ci(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Yp(n,e){let t=new uu(n,e);return t.subscribe.bind(t)}var uu=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");sv(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=cu),i.error===void 0&&(i.error=cu),i.complete===void 0&&(i.complete=cu);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function sv(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function cu(){}var pC=4*60*60*1e3;function qe(n){return n&&n._delegate?n._delegate:n}var at=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Vr="[DEFAULT]";var gu=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new qa;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(av(e))try{this.getOrInitializeService({instanceIdentifier:Vr})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Vr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Vr){return this.instances.has(e)}getOptions(e=Vr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,a]of this.instancesDeferred.entries()){let d=this.normalizeInstanceIdentifier(s);r===d&&a.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ov(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vr){return this.component?this.component.multipleInstances?e:Vr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function ov(n){return n===Vr?void 0:n}function av(n){return n.instantiationMode==="EAGER"}var Ha=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new gu(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var cv=[],se=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(se||{}),lv={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},uv=se.INFO,dv={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},hv=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=dv[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Zn=class{constructor(e){this.name=e,this._logLevel=uv,this._logHandler=hv,this._userLogHandler=null,cv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}};var fv=(n,e)=>e.some(t=>n instanceof t),Xp,Zp;function pv(){return Xp||(Xp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mv(){return Zp||(Zp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var em=new WeakMap,yu=new WeakMap,tm=new WeakMap,_u=new WeakMap,vu=new WeakMap;function gv(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(Gt(n.result)),i()},a=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&em.set(t,n)}).catch(()=>{}),vu.set(e,n),e}function _v(n){if(yu.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});yu.set(n,e)}var wu={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return yu.get(n);if(e==="objectStoreNames")return n.objectStoreNames||tm.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Gt(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function nm(n){wu=n(wu)}function yv(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Wa(this),e,...t);return tm.set(r,e.sort?e.sort():[e]),Gt(r)}:mv().includes(n)?function(...e){return n.apply(Wa(this),e),Gt(em.get(this))}:function(...e){return Gt(n.apply(Wa(this),e))}}function wv(n){return typeof n=="function"?yv(n):(n instanceof IDBTransaction&&_v(n),fv(n,pv())?new Proxy(n,wu):n)}function Gt(n){if(n instanceof IDBRequest)return gv(n);if(_u.has(n))return _u.get(n);let e=wv(n);return e!==n&&(_u.set(n,e),vu.set(e,n)),e}var Wa=n=>vu.get(n);function im(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let a=indexedDB.open(n,e),d=Gt(a);return r&&a.addEventListener("upgradeneeded",f=>{r(Gt(a.result),f.oldVersion,f.newVersion,Gt(a.transaction),f)}),t&&a.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}var vv=["get","getKey","getAll","getAllKeys","count"],bv=["put","add","delete","clear"],bu=new Map;function rm(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(bu.get(e))return bu.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=bv.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vv.includes(t)))return;let s=function(a,...d){return E(this,null,function*(){let f=this.transaction(a,i?"readwrite":"readonly"),m=f.store;return r&&(m=m.index(d.shift())),(yield Promise.all([m[t](...d),i&&f.done]))[0]})};return bu.set(e,s),s}nm(n=>ht(et({},n),{get:(e,t,r)=>rm(e,t)||n.get(e,t,r),has:(e,t)=>!!rm(e,t)||n.has(e,t)}));var Eu=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Iv(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Iv(n){let e=n.getComponent();return e?.type==="VERSION"}var Tu="@firebase/app",sm="0.10.13";var hn=new Zn("@firebase/app"),Ev="@firebase/app-compat",Tv="@firebase/analytics-compat",Av="@firebase/analytics",Cv="@firebase/app-check-compat",Sv="@firebase/app-check",Pv="@firebase/auth",Rv="@firebase/auth-compat",kv="@firebase/database",Dv="@firebase/data-connect",xv="@firebase/database-compat",Nv="@firebase/functions",Ov="@firebase/functions-compat",Vv="@firebase/installations",Mv="@firebase/installations-compat",Fv="@firebase/messaging",Lv="@firebase/messaging-compat",Uv="@firebase/performance",Bv="@firebase/performance-compat",jv="@firebase/remote-config",qv="@firebase/remote-config-compat",$v="@firebase/storage",zv="@firebase/storage-compat",Gv="@firebase/firestore",Hv="@firebase/vertexai-preview",Wv="@firebase/firestore-compat",Kv="firebase",Qv="10.14.1";var Au="[DEFAULT]",Jv={[Tu]:"fire-core",[Ev]:"fire-core-compat",[Av]:"fire-analytics",[Tv]:"fire-analytics-compat",[Sv]:"fire-app-check",[Cv]:"fire-app-check-compat",[Pv]:"fire-auth",[Rv]:"fire-auth-compat",[kv]:"fire-rtdb",[Dv]:"fire-data-connect",[xv]:"fire-rtdb-compat",[Nv]:"fire-fn",[Ov]:"fire-fn-compat",[Vv]:"fire-iid",[Mv]:"fire-iid-compat",[Fv]:"fire-fcm",[Lv]:"fire-fcm-compat",[Uv]:"fire-perf",[Bv]:"fire-perf-compat",[jv]:"fire-rc",[qv]:"fire-rc-compat",[$v]:"fire-gcs",[zv]:"fire-gcs-compat",[Gv]:"fire-fst",[Wv]:"fire-fst-compat",[Hv]:"fire-vertex","fire-js":"fire-js",[Kv]:"fire-js-all"};var Ks=new Map,Yv=new Map,Cu=new Map;function om(n,e){try{n.container.addComponent(e)}catch(t){hn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ht(n){let e=n.name;if(Cu.has(e))return hn.debug(`There were multiple attempts to register component ${e}.`),!1;Cu.set(e,n);for(let t of Ks.values())om(t,n);for(let t of Yv.values())om(t,n);return!0}function Mr(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function St(n){return n.settings!==void 0}var Xv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},er=new dn("app","Firebase",Xv);var Su=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new at("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}};var Wt=Qv;function Js(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Au,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw er.create("bad-app-name",{appName:String(i)});if(t||(t=fu()),!t)throw er.create("no-options");let s=Ks.get(i);if(s){if(Or(t,s.options)&&Or(r,s.config))return s;throw er.create("duplicate-app",{appName:i})}let a=new Ha(i);for(let f of Cu.values())a.addComponent(f);let d=new Su(t,r,a);return Ks.set(i,d),d}function tr(n=Au){let e=Ks.get(n);if(!e&&n===Au&&fu())return Js();if(!e)throw er.create("no-app",{appName:n});return e}function Ka(){return Array.from(Ks.values())}function we(n,e,t){var r;let i=(r=Jv[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){let d=[`Unable to register library "${i}" with version "${e}":`];s&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&d.push("and"),a&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hn.warn(d.join(" "));return}Ht(new at(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Zv="firebase-heartbeat-database",e0=1,Qs="firebase-heartbeat-store",Iu=null;function um(){return Iu||(Iu=im(Zv,e0,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Qs)}catch(t){console.warn(t)}}}}).catch(n=>{throw er.create("idb-open",{originalErrorMessage:n.message})})),Iu}function t0(n){return E(this,null,function*(){try{let t=(yield um()).transaction(Qs),r=yield t.objectStore(Qs).get(dm(n));return yield t.done,r}catch(e){if(e instanceof nt)hn.warn(e.message);else{let t=er.create("idb-get",{originalErrorMessage:e?.message});hn.warn(t.message)}}})}function am(n,e){return E(this,null,function*(){try{let r=(yield um()).transaction(Qs,"readwrite");yield r.objectStore(Qs).put(e,dm(n)),yield r.done}catch(t){if(t instanceof nt)hn.warn(t.message);else{let r=er.create("idb-set",{originalErrorMessage:t?.message});hn.warn(r.message)}}})}function dm(n){return`${n.name}!${n.options.appId}`}var n0=1024,r0=30*24*60*60*1e3,Pu=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Ru(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=cm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let d=new Date(a.date).valueOf();return Date.now()-d<=r0}),this._storage.overwrite(this._heartbeatsCache))}catch(r){hn.warn(r)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=cm(),{heartbeatsToSend:r,unsentEntries:i}=i0(this._heartbeatsCache.heartbeats),s=Hs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return hn.warn(t),""}})}};function cm(){return new Date().toISOString().substring(0,10)}function i0(n,e=n0){let t=[],r=n.slice();for(let i of n){let s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),lm(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),lm(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Ru=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return mu()?Qp().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield t0(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return am(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return am(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function lm(n){return Hs(JSON.stringify({version:2,heartbeats:n})).length}function s0(n){Ht(new at("platform-logger",e=>new Eu(e),"PRIVATE")),Ht(new at("heartbeat",e=>new Pu(e),"PRIVATE")),we(Tu,sm,n),we(Tu,sm,"esm2017"),we("fire-js","")}s0("");var o0="firebase",a0="10.14.1";we(o0,a0,"app");var fn=new zl("ANGULARFIRE2_VERSION");function Pi(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(a=>a.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Lr=(n,e)=>{let t=e?[e]:Ka(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r},nr=class{constructor(){return Lr(c0)}},c0="app-check";function Si(){}var Qa=class{zone;delegate;constructor(e,t=qf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(a){i.runGuarded(()=>{e.apply(this,[a])})};return this.delegate.schedule(s,t,r)}},ku=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Si,{},Si,Si)),t.pipe(zf({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},rr=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Qa(Zone.current)),this.insideAngular=t.run(()=>new Qa(Zone.current,jf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(Gf(qt))};static \u0275prov=kr({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ja(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function l0(n){return Ja().ngZone.runOutsideAngular(()=>n())}function Fr(n){return Ja().ngZone.run(()=>n())}function u0(n){return d0(Ja())(n)}function d0(n){return function(t){return t=t.lift(new ku(n.ngZone)),t.pipe(Bl(n.outsideAngular),Ul(n.insideAngular))}}var h0=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Fr(()=>n.apply(void 0,r))},mt=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=Fr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Si,{},Si,Si))),r[s]=h0(r[s],t));let i=l0(()=>n.apply(this,r));if(!e)if(i instanceof Ds){let s=Ja();return i.pipe(Bl(s.outsideAngular),Ul(s.insideAngular))}else return Fr(()=>i);return i instanceof Ds?i.pipe(u0):i instanceof Promise?Fr(()=>new Promise((s,a)=>i.then(d=>Fr(()=>s(d)),d=>Fr(()=>a(d))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Fr(()=>i)};var Pt=class{constructor(e){return e}},pn=class{constructor(){return Ka()}};function f0(n){return n&&n.length===1?n[0]:new Pt(tr())}var Du=new tt("angularfire2._apps"),p0={provide:Pt,useFactory:f0,deps:[[new He,Du]]},m0={provide:pn,deps:[[new He,Du]]};function g0(n){return(e,t)=>{let r=t.get(Hf);we("angularfire",fn.full,"core"),we("angularfire",fn.full,"app"),we("angular",Qf.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Pt(i)}}function hm(n,...e){return Hn([p0,m0,{provide:Du,useFactory:g0(n),multi:!0,deps:[qt,jt,rr,...e]}])}var fm=mt(Js,!0);function km(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Dm=km,xm=new dn("auth","Firebase",km());var nc=new Zn("@firebase/auth");function _0(n,...e){nc.logLevel<=se.WARN&&nc.warn(`Auth (${Wt}): ${n}`,...e)}function Xa(n,...e){nc.logLevel<=se.ERROR&&nc.error(`Auth (${Wt}): ${n}`,...e)}function Qt(n,...e){throw ed(n,...e)}function Ur(n,...e){return ed(n,...e)}function Nm(n,e,t){let r=Object.assign(Object.assign({},Dm()),{[e]:t});return new dn("auth","Firebase",r).create(e,{appName:n.name})}function _n(n){return Nm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ed(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return xm.create(n,...e)}function W(n,e,...t){if(!n)throw ed(e,...t)}function mn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Xa(e),new Error(e)}function sr(n,e){n||mn(e)}function Vu(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function y0(){return pm()==="http:"||pm()==="https:"}function pm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function w0(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y0()||Gp()||"connection"in navigator)?navigator.onLine:!0}function v0(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Br=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,sr(t>e,"Short delay should be less than long delay!"),this.isMobile=$p()||Hp()}get(){return w0()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function td(n,e){sr(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var rc=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var b0={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var I0=new Br(3e4,6e4);function or(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ar(s,a,d,f){return E(this,arguments,function*(n,e,t,r,i={}){return Om(n,i,()=>E(this,null,function*(){let m={},w={};r&&(e==="GET"?w=r:m={body:JSON.stringify(r)});let _=Ws(Object.assign({key:n.config.apiKey},w)).slice(1),k=yield n._getAdditionalHeaders();k["Content-Type"]="application/json",n.languageCode&&(k["X-Firebase-Locale"]=n.languageCode);let x=Object.assign({method:e,headers:k},m);return zp()||(x.referrerPolicy="no-referrer"),rc.fetch()(Vm(n,n.config.apiHost,t,_),x)}))})}function Om(n,e,t){return E(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},b0),e);try{let i=new Mu(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let a=yield s.json();if("needConfirmation"in a)throw Ya(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{let d=s.ok?a.errorMessage:a.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ya(n,"credential-already-in-use",a);if(f==="EMAIL_EXISTS")throw Ya(n,"email-already-in-use",a);if(f==="USER_DISABLED")throw Ya(n,"user-disabled",a);let w=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Nm(n,w,m);Qt(n,w)}}catch(i){if(i instanceof nt)throw i;Qt(n,"network-request-failed",{message:String(i)})}})}function io(s,a,d,f){return E(this,arguments,function*(n,e,t,r,i={}){let m=yield ar(n,e,t,r,i);return"mfaPendingCredential"in m&&Qt(n,"multi-factor-auth-required",{_serverResponse:m}),m})}function Vm(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?td(n.config,i):`${n.config.apiScheme}://${i}`}function E0(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Mu=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),I0.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ya(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Ur(n,e,r);return i.customData._tokenResponse=t,i}function mm(n){return n!==void 0&&n.enterprise!==void 0}var Fu=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return E0(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function T0(n,e){return E(this,null,function*(){return ar(n,"GET","/v2/recaptchaConfig",or(n,e))})}function A0(n,e){return E(this,null,function*(){return ar(n,"POST","/v1/accounts:delete",e)})}function Mm(n,e){return E(this,null,function*(){return ar(n,"POST","/v1/accounts:lookup",e)})}function Ys(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function nd(n,e=!1){return E(this,null,function*(){let t=qe(n),r=yield t.getIdToken(e),i=rd(r);W(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:Ys(xu(i.auth_time)),issuedAtTime:Ys(xu(i.iat)),expirationTime:Ys(xu(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function xu(n){return Number(n)*1e3}function rd(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Xa("JWT malformed, contained fewer than 3 sections"),null;try{let i=du(t);return i?JSON.parse(i):(Xa("Failed to decode base64 JWT payload"),null)}catch(i){return Xa("Caught error parsing JWT payload as JSON",i?.toString()),null}}function gm(n){let e=rd(n);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Zs(n,e,t=!1){return E(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof nt&&C0(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function C0({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Lu=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),t)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var eo=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ys(this.lastLoginAt),this.creationTime=Ys(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ic(n){return E(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Zs(n,Mm(t,{idToken:r}));W(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Fm(s.providerUserInfo):[],d=S0(n.providerData,a),f=n.isAnonymous,m=!(n.email&&s.passwordHash)&&!d?.length,w=f?m:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:d,metadata:new eo(s.createdAt,s.lastLoginAt),isAnonymous:w};Object.assign(n,_)})}function id(n){return E(this,null,function*(){let e=qe(n);yield ic(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function S0(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Fm(n){return n.map(e=>{var{providerId:t}=e,r=Ll(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function P0(n,e){return E(this,null,function*(){let t=yield Om(n,{},()=>E(this,null,function*(){let r=Ws({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,a=Vm(n,i,"/v1/token",`key=${s}`),d=yield n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",rc.fetch()(a,{method:"POST",headers:d,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function R0(n,e){return E(this,null,function*(){return ar(n,"POST","/v2/accounts:revokeToken",or(n,e))})}var Xs=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){W(e.length!==0,"internal-error");let t=gm(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return E(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(W(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield P0(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,a=new n;return r&&(W(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return mn("not implemented")}};function ir(n,e){W(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ri=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Ll(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new eo(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let t=yield Zs(this,this.stsTokenManager.getToken(this.auth,e));return W(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return nd(this,e)}reload(){return id(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield ic(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(St(this.auth.app))return Promise.reject(_n(this.auth));let e=yield this.getIdToken();return yield Zs(this,A0(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,a,d,f,m,w;let _=(r=t.displayName)!==null&&r!==void 0?r:void 0,k=(i=t.email)!==null&&i!==void 0?i:void 0,x=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,U=(a=t.photoURL)!==null&&a!==void 0?a:void 0,j=(d=t.tenantId)!==null&&d!==void 0?d:void 0,N=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,G=(m=t.createdAt)!==null&&m!==void 0?m:void 0,ee=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:X,emailVerified:te,isAnonymous:ge,providerData:re,stsTokenManager:S}=t;W(X&&S,e,"internal-error");let v=Xs.fromJSON(this.name,S);W(typeof X=="string",e,"internal-error"),ir(_,e.name),ir(k,e.name),W(typeof te=="boolean",e,"internal-error"),W(typeof ge=="boolean",e,"internal-error"),ir(x,e.name),ir(U,e.name),ir(j,e.name),ir(N,e.name),ir(G,e.name),ir(ee,e.name);let b=new n({uid:X,auth:e,email:k,emailVerified:te,displayName:_,isAnonymous:ge,photoURL:U,phoneNumber:x,tenantId:j,stsTokenManager:v,createdAt:G,lastLoginAt:ee});return re&&Array.isArray(re)&&(b.providerData=re.map(T=>Object.assign({},T))),N&&(b._redirectEventId=N),b}static _fromIdTokenResponse(e,t,r=!1){return E(this,null,function*(){let i=new Xs;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ic(s),s})}static _fromGetAccountInfoResponse(e,t,r){return E(this,null,function*(){let i=t.users[0];W(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?Fm(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,d=new Xs;d.updateFromIdToken(r);let f=new n({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:a}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new eo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(f,m),f})}};var _m=new Map;function gn(n){sr(n instanceof Function,"Expected a class definition");let e=_m.get(n);return e?(sr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_m.set(n,e),e)}var k0=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(t,r){return E(this,null,function*(){this.storage[t]=r})}_get(t){return E(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return E(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Uu=k0;function Za(n,e,t){return`firebase:${n}:${e}:${t}`}var sc=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Za(this.userKey,i.apiKey,s),this.fullPersistenceKey=Za("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ri._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return E(this,null,function*(){if(!t.length)return new n(gn(Uu),e,r);let i=(yield Promise.all(t.map(m=>E(this,null,function*(){if(yield m._isAvailable())return m})))).filter(m=>m),s=i[0]||gn(Uu),a=Za(r,e.config.apiKey,e.name),d=null;for(let m of t)try{let w=yield m._get(a);if(w){let _=Ri._fromJSON(e,w);m!==s&&(d=_),s=m;break}}catch{}let f=i.filter(m=>m._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new n(s,e,r):(s=f[0],d&&(yield s._set(a,d.toJSON())),yield Promise.all(t.map(m=>E(this,null,function*(){if(m!==s)try{yield m._remove(a)}catch{}}))),new n(s,e,r))})}};function ym(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jm(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lm(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($m(e))return"Blackberry";if(zm(e))return"Webos";if(Um(e))return"Safari";if((e.includes("chrome/")||Bm(e))&&!e.includes("edge/"))return"Chrome";if(qm(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Lm(n=je()){return/firefox\//i.test(n)}function Um(n=je()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bm(n=je()){return/crios\//i.test(n)}function jm(n=je()){return/iemobile/i.test(n)}function qm(n=je()){return/android/i.test(n)}function $m(n=je()){return/blackberry/i.test(n)}function zm(n=je()){return/webos/i.test(n)}function sd(n=je()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function D0(n=je()){var e;return sd(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function x0(){return Wp()&&document.documentMode===10}function Gm(n=je()){return sd(n)||qm(n)||zm(n)||$m(n)||/windows phone/i.test(n)||jm(n)}function Hm(n,e=[]){let t;switch(n){case"Browser":t=ym(je());break;case"Worker":t=`${ym(je())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wt}/${r}`}var Bu=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((a,d)=>{try{let f=e(s);a(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function N0(t){return E(this,arguments,function*(n,e={}){return ar(n,"GET","/v2/passwordPolicy",or(n,e))})}var O0=6,ju=class{constructor(e){var t,r,i,s;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=a.minPasswordLength)!==null&&t!==void 0?t:O0,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,a,d;let f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(s=f.containsUppercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsNumericCharacter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var qu=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oc(this),this.idTokenSubscription=new oc(this),this.beforeStateQueue=new Bu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xm,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gn(t)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield sc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let t=yield Mm(this,{idToken:e}),r=yield Ri._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var t;if(St(this.app)){let a=this.app.settings.authIdToken;return a?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(d,d))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=i?._redirectEventId,f=yield this.tryRedirectSignIn(e);(!a||a===d)&&f?.user&&(i=f.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield ic(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=v0()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(St(this.app))return Promise.reject(_n(this));let t=e?qe(e):null;return t&&W(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return E(this,null,function*(){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return St(this.app)?Promise.reject(_n(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return St(this.app)?Promise.reject(_n(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(gn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield N0(this),t=new ju(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield R0(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&gn(e)||this._popupRedirectResolver;W(t,this,"argument-error"),this.redirectPersistenceManager=yield sc.create(this,[gn(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),a=!1,d=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(d,this,"internal-error"),d.then(()=>{a||s(this.currentUser)}),typeof t=="function"){let f=e.addObserver(t,r,i);return()=>{a=!0,f()}}else{let f=e.addObserver(t);return()=>{a=!0,f()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hm(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return E(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&_0(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function qr(n){return qe(n)}var oc=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yp(t=>this.observer=t)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var fc={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V0(n){fc=n}function Wm(n){return fc.loadJS(n)}function M0(){return fc.recaptchaEnterpriseScript}function F0(){return fc.gapiScript}function Km(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var L0="recaptcha-enterprise",U0="NO_RECAPTCHA",$u=class{constructor(e){this.type=L0,this.auth=qr(e)}verify(e="verify",t=!1){return E(this,null,function*(){function r(s){return E(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((a,d)=>E(this,null,function*(){T0(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{let m=new Fu(f);return s.tenantId==null?s._agentRecaptchaConfig=m:s._tenantRecaptchaConfigs[s.tenantId]=m,a(m.siteKey)}}).catch(f=>{d(f)})}))})}function i(s,a,d){let f=window.grecaptcha;mm(f)?f.enterprise.ready(()=>{f.enterprise.execute(s,{action:e}).then(m=>{a(m)}).catch(()=>{a(U0)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(d=>{if(!t&&mm(window.grecaptcha))i(d,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let f=M0();f.length!==0&&(f+=d),Wm(f).then(()=>{i(d,s,a)}).catch(m=>{a(m)})}}).catch(d=>{a(d)})})})}};function wm(n,e,t,r=!1){return E(this,null,function*(){let i=new $u(n),s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}let a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function zu(n,e,t,r){return E(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield wm(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(s=>E(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let a=yield wm(n,e,t,t==="getOobCode");return r(n,a)}else return Promise.reject(s)}))})}function od(n,e){let t=Mr(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(Or(s,e??{}))return i;Qt(i,"already-initialized")}return t.initialize({options:e})}function B0(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(gn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function ad(n,e,t){let r=qr(n);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=Qm(e),{host:a,port:d}=j0(e),f=d===null?"":`:${d}`;r.config.emulator={url:`${s}//${a}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:d,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||q0()}function Qm(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function j0(n){let e=Qm(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:vm(r.substr(s.length+1))}}else{let[s,a]=r.split(":");return{host:s,port:vm(a)}}}function vm(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function q0(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var to=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return mn("not implemented")}_getIdTokenResponse(e){return mn("not implemented")}_linkToIdToken(e,t){return mn("not implemented")}_getReauthenticationResolver(e){return mn("not implemented")}};function $0(n,e){return E(this,null,function*(){return ar(n,"POST","/v1/accounts:signUp",e)})}function z0(n,e){return E(this,null,function*(){return io(n,"POST","/v1/accounts:signInWithPassword",or(n,e))})}function G0(n,e){return E(this,null,function*(){return io(n,"POST","/v1/accounts:signInWithEmailLink",or(n,e))})}function H0(n,e){return E(this,null,function*(){return io(n,"POST","/v1/accounts:signInWithEmailLink",or(n,e))})}var no=class n extends to{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return E(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zu(e,t,"signInWithPassword",z0);case"emailLink":return G0(e,{email:this._email,oobCode:this._password});default:Qt(e,"internal-error")}})}_linkToIdToken(e,t){return E(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zu(e,r,"signUpPassword",$0);case"emailLink":return H0(e,{idToken:t,email:this._email,oobCode:this._password});default:Qt(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Nu(n,e){return E(this,null,function*(){return io(n,"POST","/v1/accounts:signInWithIdp",or(n,e))})}function W0(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function K0(n){let e=Ai(Ci(n)).link,t=e?Ai(Ci(e)).deep_link_id:null,r=Ai(Ci(n)).deep_link_id;return(r?Ai(Ci(r)).link:null)||r||t||e||n}var ac=class n{constructor(e){var t,r,i,s,a,d;let f=Ai(Ci(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,w=(r=f.oobCode)!==null&&r!==void 0?r:null,_=W0((i=f.mode)!==null&&i!==void 0?i:null);W(m&&w&&_,"argument-error"),this.apiKey=m,this.operation=_,this.code=w,this.continueUrl=(s=f.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=f.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){let t=K0(e);try{return new n(t)}catch{return null}}};var Jm=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return no._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=ac.parseLink(r);return W(i,"argument-error"),no._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),cc=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Gu=class extends cc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Q0(n,e){return E(this,null,function*(){return io(n,"POST","/v1/accounts:signUp",or(n,e))})}var ki=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return E(this,null,function*(){let s=yield Ri._fromIdTokenResponse(e,r,i),a=bm(r);return new n({user:s,providerId:a,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=bm(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function bm(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Hu=class n extends nt{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function Ym(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Hu._fromErrorAndOperation(n,s,e,r):s})}function J0(n,e,t=!1){return E(this,null,function*(){let r=yield Zs(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ki._forOperation(n,"link",r)})}function Y0(n,e,t=!1){return E(this,null,function*(){let{auth:r}=n;if(St(r.app))return Promise.reject(_n(r));let i="reauthenticate";try{let s=yield Zs(n,Ym(r,i,e,n),t);W(s.idToken,r,"internal-error");let a=rd(s.idToken);W(a,r,"internal-error");let{sub:d}=a;return W(n.uid===d,r,"user-mismatch"),ki._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Qt(r,"user-mismatch"),s}})}function Xm(n,e,t=!1){return E(this,null,function*(){if(St(n.app))return Promise.reject(_n(n));let r="signIn",i=yield Ym(n,r,e),s=yield ki._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function cd(n,e){return E(this,null,function*(){return Xm(qr(n),e)})}function Zm(n){return E(this,null,function*(){let e=qr(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function ld(n,e,t){return E(this,null,function*(){if(St(n.app))return Promise.reject(_n(n));let r=qr(n),a=yield zu(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Q0).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Zm(n),f}),d=yield ki._fromIdTokenResponse(r,"signIn",a);return yield r._updateCurrentUser(d.user),d})}function ud(n,e,t){return St(n.app)?Promise.reject(_n(n)):cd(qe(n),Jm.credential(e,t)).catch(r=>E(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Zm(n),r}))}function dd(n,e,t,r){return qe(n).onIdTokenChanged(e,t,r)}function hd(n,e,t){return qe(n).beforeAuthStateChanged(e,t)}function pc(n,e,t,r){return qe(n).onAuthStateChanged(e,t,r)}var lc="__sak";var uc=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lc,"1"),this.storage.removeItem(lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var X0=1e3,Z0=10,eb=(()=>{class n extends uc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gm(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((d,f,m)=>{this.notifyListeners(d,m)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let d=this.storage.getItem(i);!r&&this.localCache[i]===d||this.notifyListeners(i,d)},a=this.storage.getItem(i);x0()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Z0):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},X0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return E(this,null,function*(){yield Gn(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return E(this,null,function*(){let r=yield Gn(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return E(this,null,function*(){yield Gn(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),eg=eb;var tb=(()=>{class n extends uc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),fd=tb;function nb(n){return Promise.all(n.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var rb=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return E(this,null,function*(){let r=t,{eventId:i,eventType:s,data:a}=r.data,d=this.handlersMap[s];if(!d?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let f=Array.from(d).map(w=>E(this,null,function*(){return w(r.origin,a)})),m=yield nb(f);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:m})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function tg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Wu=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((d,f)=>{let m=tg("",20);i.port1.start();let w=setTimeout(()=>{f(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(_){let k=_;if(k.data.eventId===m)switch(k.data.status){case"ack":clearTimeout(w),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),d(k.data.response);break;default:clearTimeout(w),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})})}};function Kt(){return window}function ib(n){Kt().location.href=n}function ng(){return typeof Kt().WorkerGlobalScope<"u"&&typeof Kt().importScripts=="function"}function sb(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function ob(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function ab(){return ng()?self:null}var rg="firebaseLocalStorageDb",cb=1,dc="firebaseLocalStorage",ig="fbase_key",jr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function mc(n,e){return n.transaction([dc],e?"readwrite":"readonly").objectStore(dc)}function lb(){let n=indexedDB.deleteDatabase(rg);return new jr(n).toPromise()}function Ku(){let n=indexedDB.open(rg,cb);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(dc,{keyPath:ig})}catch(i){t(i)}}),n.addEventListener("success",()=>E(this,null,function*(){let r=n.result;r.objectStoreNames.contains(dc)?e(r):(r.close(),yield lb(),e(yield Ku()))}))})}function Im(n,e,t){return E(this,null,function*(){let r=mc(n,!0).put({[ig]:e,value:t});return new jr(r).toPromise()})}function ub(n,e){return E(this,null,function*(){let t=mc(n,!1).get(e),r=yield new jr(t).toPromise();return r===void 0?null:r.value})}function Em(n,e){let t=mc(n,!0).delete(e);return new jr(t).toPromise()}var db=800,hb=3,fb=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield Ku(),this.db)})}_withRetries(t){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>hb)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return ng()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=rb._getInstance(ab()),this.receiver._subscribe("keyChanged",(t,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var t,r;if(this.activeServiceWorker=yield sb(),!this.activeServiceWorker)return;this.sender=new Wu(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||ob()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Ku();return yield Im(t,lc,"1"),yield Em(t,lc),!0}catch{}return!1})}_withPendingWrite(t){return E(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>Im(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return E(this,null,function*(){let r=yield this._withRetries(i=>ub(i,t));return this.localCache[t]=r,r})}_remove(t){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>Em(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return E(this,null,function*(){let t=yield this._withRetries(s=>{let a=mc(s,!1).getAll();return new jr(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:a}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),db)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),sg=fb;var aS=Km("rcb"),cS=new Br(3e4,6e4);function pb(n,e){return e?gn(e):(W(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ro=class extends to{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Nu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Nu(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function mb(n){return Xm(n.auth,new ro(n),n.bypassAuthState)}function gb(n){let{auth:e,user:t}=n;return W(t,e,"internal-error"),Y0(t,new ro(n),n.bypassAuthState)}function _b(n){return E(this,null,function*(){let{auth:e,user:t}=n;return W(t,e,"internal-error"),J0(t,new ro(n),n.bypassAuthState)})}var Qu=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:a,type:d}=e;if(a){this.reject(a);return}let f={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(d)(f))}catch(m){this.reject(m)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mb;case"linkViaPopup":case"linkViaRedirect":return _b;case"reauthViaPopup":case"reauthViaRedirect":return gb;default:Qt(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var lS=new Br(2e3,1e4);var yb="pendingRedirect",ec=new Map,Ju=class n extends Qu{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=ec.get(this.auth._key());if(!e){try{let r=(yield wb(this.resolver,this.auth))?yield Gn(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ec.set(this.auth._key(),e)}return this.bypassAuthState||ec.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return Gn(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Gn(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function wb(n,e){return E(this,null,function*(){let t=Ib(e),r=bb(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function vb(n,e){ec.set(n._key(),e)}function bb(n){return gn(n._redirectPersistence)}function Ib(n){return Za(yb,n.config.apiKey,n.name)}function Eb(n,e,t=!1){return E(this,null,function*(){if(St(n.app))return Promise.reject(_n(n));let r=qr(n),i=pb(r,e),a=yield new Ju(r,i,t).execute();return a&&!t&&(delete a.user._redirectEventId,yield r._persistUserIfCurrent(a.user),yield r._setRedirectUser(null,e)),a})}var Tb=10*60*1e3,Yu=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ab(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!og(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ur(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Tb&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tm(e))}saveEventToCache(e){this.cachedEventUids.add(Tm(e)),this.lastProcessedEventTime=Date.now()}};function Tm(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function og({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Ab(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return og(n);default:return!1}}function Cb(t){return E(this,arguments,function*(n,e={}){return ar(n,"GET","/v1/projects",e)})}var Sb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pb=/^https?/;function Rb(n){return E(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield Cb(n);for(let t of e)try{if(kb(t))return}catch{}Qt(n,"unauthorized-domain")})}function kb(n){let e=Vu(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let a=new URL(n);return a.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===r}if(!Pb.test(t))return!1;if(Sb.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Db=new Br(3e4,6e4);function Am(){let n=Kt().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function xb(n){return new Promise((e,t)=>{var r,i,s;function a(){Am(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Am(),t(Ur(n,"network-request-failed"))},timeout:Db.get()})}if(!((i=(r=Kt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Kt().gapi)===null||s===void 0)&&s.load)a();else{let d=Km("iframefcb");return Kt()[d]=()=>{gapi.load?a():t(Ur(n,"network-request-failed"))},Wm(`${F0()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw tc=null,e})}var tc=null;function Nb(n){return tc=tc||xb(n),tc}var Ob=new Br(5e3,15e3),Vb="__/auth/iframe",Mb="emulator/auth/iframe",Fb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Lb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ub(n){let e=n.config;W(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?td(e,Mb):`https://${n.config.authDomain}/${Vb}`,r={apiKey:e.apiKey,appName:n.name,v:Wt},i=Lb.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Ws(r).slice(1)}`}function Bb(n){return E(this,null,function*(){let e=yield Nb(n),t=Kt().gapi;return W(t,n,"internal-error"),e.open({where:document.body,url:Ub(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fb,dontclear:!0},r=>new Promise((i,s)=>E(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let a=Ur(n,"network-request-failed"),d=Kt().setTimeout(()=>{s(a)},Ob.get());function f(){Kt().clearTimeout(d),i(r)}r.ping(f).then(f,()=>{s(a)})})))})}var jb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qb=500,$b=600,zb="_blank",Gb="http://localhost",hc=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Hb(n,e,t,r=qb,i=$b){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),d="",f=Object.assign(Object.assign({},jb),{width:r.toString(),height:i.toString(),top:s,left:a}),m=je().toLowerCase();t&&(d=Bm(m)?zb:t),Lm(m)&&(e=e||Gb,f.scrollbars="yes");let w=Object.entries(f).reduce((k,[x,U])=>`${k}${x}=${U},`,"");if(D0(m)&&d!=="_self")return Wb(e||"",d),new hc(null);let _=window.open(e||"",d,w);W(_,n,"popup-blocked");try{_.focus()}catch{}return new hc(_)}function Wb(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var Kb="__/auth/handler",Qb="emulator/auth/handler",Jb=encodeURIComponent("fac");function Cm(n,e,t,r,i,s){return E(this,null,function*(){W(n.config.authDomain,n,"auth-domain-config-required"),W(n.config.apiKey,n,"invalid-api-key");let a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Wt,eventId:i};if(e instanceof cc){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",Jp(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(let[w,_]of Object.entries(s||{}))a[w]=_}if(e instanceof Gu){let w=e.getScopes().filter(_=>_!=="");w.length>0&&(a.scopes=w.join(","))}n.tenantId&&(a.tid=n.tenantId);let d=a;for(let w of Object.keys(d))d[w]===void 0&&delete d[w];let f=yield n._getAppCheckToken(),m=f?`#${Jb}=${encodeURIComponent(f)}`:"";return`${Yb(n)}?${Ws(d).slice(1)}${m}`})}function Yb({config:n}){return n.emulator?td(n,Qb):`https://${n.authDomain}/${Kb}`}var Ou="webStorageSupport",Xu=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fd,this._completeRedirectFn=Eb,this._overrideRedirectResult=vb}_openPopup(e,t,r,i){return E(this,null,function*(){var s;sr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let a=yield Cm(e,t,r,Vu(),i);return Hb(e,a,tg())})}_openRedirect(e,t,r,i){return E(this,null,function*(){yield this._originValidation(e);let s=yield Cm(e,t,r,Vu(),i);return ib(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(sr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return E(this,null,function*(){let t=yield Bb(e),r=new Yu(e);return t.register("authEvent",i=>(W(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ou,{type:Ou},i=>{var s;let a=(s=i?.[0])===null||s===void 0?void 0:s[Ou];a!==void 0&&t(!!a),Qt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Rb(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Gm()||Um()||sd()}},ag=Xu;var Sm="@firebase/auth",Pm="1.7.9";var Zu=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Xb(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zb(n){Ht(new at("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:d}=r.options;W(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});let f={apiKey:a,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hm(n)},m=new qu(r,i,s,f);return B0(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ht(new at("auth-internal",e=>{let t=qr(e.getProvider("auth").getImmediate());return(r=>new Zu(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),we(Sm,Pm,Xb(n)),we(Sm,Pm,"esm2017")}var eI=5*60,tI=pu("authIdTokenMaxAge")||eI,Rm=null,nI=n=>e=>E(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>tI)return;let i=t?.token;Rm!==i&&(Rm=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function so(n=tr()){let e=Mr(n,"auth");if(e.isInitialized())return e.getImmediate();let t=od(n,{popupRedirectResolver:ag,persistence:[sg,eg,fd]}),r=pu("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let a=nI(s.toString());hd(t,a,()=>a(t.currentUser)),dd(t,d=>a(d))}}let i=hu("auth");return i&&ad(t,`http://${i}`),t}function rI(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}V0({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Ur("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",rI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Zb("Browser");var cg="auth",Rt=class{constructor(e){return e}},$r=class{constructor(){return Lr(cg)}};var pd=new tt("angularfire2.auth-instances");function WI(n,e){let t=Pi(cg,n,e);return t&&new Rt(t)}function KI(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Rt(r)}}var QI={provide:$r,deps:[[new He,pd]]},JI={provide:Rt,useFactory:WI,deps:[[new He,pd],Pt]};function lg(n,...e){return we("angularfire",fn.full,"auth"),Hn([JI,QI,{provide:pd,useFactory:KI(n),multi:!0,deps:[qt,jt,rr,pn,[new He,nr],...e]}])}var ug=mt(ld,!0);var dg=mt(so,!0);var hg=mt(ud,!0);var uy=Fl(gc());var fg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pg={};var cr,_d;(function(){var n;function e(S,v){function b(){}b.prototype=v.prototype,S.D=v.prototype,S.prototype=new b,S.prototype.constructor=S,S.C=function(T,A,C){for(var I=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)I[vt-2]=arguments[vt];return v.prototype[A].apply(T,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,v,b){b||(b=0);var T=Array(16);if(typeof v=="string")for(var A=0;16>A;++A)T[A]=v.charCodeAt(b++)|v.charCodeAt(b++)<<8|v.charCodeAt(b++)<<16|v.charCodeAt(b++)<<24;else for(A=0;16>A;++A)T[A]=v[b++]|v[b++]<<8|v[b++]<<16|v[b++]<<24;v=S.g[0],b=S.g[1],A=S.g[2];var C=S.g[3],I=v+(C^b&(A^C))+T[0]+3614090360&4294967295;v=b+(I<<7&4294967295|I>>>25),I=C+(A^v&(b^A))+T[1]+3905402710&4294967295,C=v+(I<<12&4294967295|I>>>20),I=A+(b^C&(v^b))+T[2]+606105819&4294967295,A=C+(I<<17&4294967295|I>>>15),I=b+(v^A&(C^v))+T[3]+3250441966&4294967295,b=A+(I<<22&4294967295|I>>>10),I=v+(C^b&(A^C))+T[4]+4118548399&4294967295,v=b+(I<<7&4294967295|I>>>25),I=C+(A^v&(b^A))+T[5]+1200080426&4294967295,C=v+(I<<12&4294967295|I>>>20),I=A+(b^C&(v^b))+T[6]+2821735955&4294967295,A=C+(I<<17&4294967295|I>>>15),I=b+(v^A&(C^v))+T[7]+4249261313&4294967295,b=A+(I<<22&4294967295|I>>>10),I=v+(C^b&(A^C))+T[8]+1770035416&4294967295,v=b+(I<<7&4294967295|I>>>25),I=C+(A^v&(b^A))+T[9]+2336552879&4294967295,C=v+(I<<12&4294967295|I>>>20),I=A+(b^C&(v^b))+T[10]+4294925233&4294967295,A=C+(I<<17&4294967295|I>>>15),I=b+(v^A&(C^v))+T[11]+2304563134&4294967295,b=A+(I<<22&4294967295|I>>>10),I=v+(C^b&(A^C))+T[12]+1804603682&4294967295,v=b+(I<<7&4294967295|I>>>25),I=C+(A^v&(b^A))+T[13]+4254626195&4294967295,C=v+(I<<12&4294967295|I>>>20),I=A+(b^C&(v^b))+T[14]+2792965006&4294967295,A=C+(I<<17&4294967295|I>>>15),I=b+(v^A&(C^v))+T[15]+1236535329&4294967295,b=A+(I<<22&4294967295|I>>>10),I=v+(A^C&(b^A))+T[1]+4129170786&4294967295,v=b+(I<<5&4294967295|I>>>27),I=C+(b^A&(v^b))+T[6]+3225465664&4294967295,C=v+(I<<9&4294967295|I>>>23),I=A+(v^b&(C^v))+T[11]+643717713&4294967295,A=C+(I<<14&4294967295|I>>>18),I=b+(C^v&(A^C))+T[0]+3921069994&4294967295,b=A+(I<<20&4294967295|I>>>12),I=v+(A^C&(b^A))+T[5]+3593408605&4294967295,v=b+(I<<5&4294967295|I>>>27),I=C+(b^A&(v^b))+T[10]+38016083&4294967295,C=v+(I<<9&4294967295|I>>>23),I=A+(v^b&(C^v))+T[15]+3634488961&4294967295,A=C+(I<<14&4294967295|I>>>18),I=b+(C^v&(A^C))+T[4]+3889429448&4294967295,b=A+(I<<20&4294967295|I>>>12),I=v+(A^C&(b^A))+T[9]+568446438&4294967295,v=b+(I<<5&4294967295|I>>>27),I=C+(b^A&(v^b))+T[14]+3275163606&4294967295,C=v+(I<<9&4294967295|I>>>23),I=A+(v^b&(C^v))+T[3]+4107603335&4294967295,A=C+(I<<14&4294967295|I>>>18),I=b+(C^v&(A^C))+T[8]+1163531501&4294967295,b=A+(I<<20&4294967295|I>>>12),I=v+(A^C&(b^A))+T[13]+2850285829&4294967295,v=b+(I<<5&4294967295|I>>>27),I=C+(b^A&(v^b))+T[2]+4243563512&4294967295,C=v+(I<<9&4294967295|I>>>23),I=A+(v^b&(C^v))+T[7]+1735328473&4294967295,A=C+(I<<14&4294967295|I>>>18),I=b+(C^v&(A^C))+T[12]+2368359562&4294967295,b=A+(I<<20&4294967295|I>>>12),I=v+(b^A^C)+T[5]+4294588738&4294967295,v=b+(I<<4&4294967295|I>>>28),I=C+(v^b^A)+T[8]+2272392833&4294967295,C=v+(I<<11&4294967295|I>>>21),I=A+(C^v^b)+T[11]+1839030562&4294967295,A=C+(I<<16&4294967295|I>>>16),I=b+(A^C^v)+T[14]+4259657740&4294967295,b=A+(I<<23&4294967295|I>>>9),I=v+(b^A^C)+T[1]+2763975236&4294967295,v=b+(I<<4&4294967295|I>>>28),I=C+(v^b^A)+T[4]+1272893353&4294967295,C=v+(I<<11&4294967295|I>>>21),I=A+(C^v^b)+T[7]+4139469664&4294967295,A=C+(I<<16&4294967295|I>>>16),I=b+(A^C^v)+T[10]+3200236656&4294967295,b=A+(I<<23&4294967295|I>>>9),I=v+(b^A^C)+T[13]+681279174&4294967295,v=b+(I<<4&4294967295|I>>>28),I=C+(v^b^A)+T[0]+3936430074&4294967295,C=v+(I<<11&4294967295|I>>>21),I=A+(C^v^b)+T[3]+3572445317&4294967295,A=C+(I<<16&4294967295|I>>>16),I=b+(A^C^v)+T[6]+76029189&4294967295,b=A+(I<<23&4294967295|I>>>9),I=v+(b^A^C)+T[9]+3654602809&4294967295,v=b+(I<<4&4294967295|I>>>28),I=C+(v^b^A)+T[12]+3873151461&4294967295,C=v+(I<<11&4294967295|I>>>21),I=A+(C^v^b)+T[15]+530742520&4294967295,A=C+(I<<16&4294967295|I>>>16),I=b+(A^C^v)+T[2]+3299628645&4294967295,b=A+(I<<23&4294967295|I>>>9),I=v+(A^(b|~C))+T[0]+4096336452&4294967295,v=b+(I<<6&4294967295|I>>>26),I=C+(b^(v|~A))+T[7]+1126891415&4294967295,C=v+(I<<10&4294967295|I>>>22),I=A+(v^(C|~b))+T[14]+2878612391&4294967295,A=C+(I<<15&4294967295|I>>>17),I=b+(C^(A|~v))+T[5]+4237533241&4294967295,b=A+(I<<21&4294967295|I>>>11),I=v+(A^(b|~C))+T[12]+1700485571&4294967295,v=b+(I<<6&4294967295|I>>>26),I=C+(b^(v|~A))+T[3]+2399980690&4294967295,C=v+(I<<10&4294967295|I>>>22),I=A+(v^(C|~b))+T[10]+4293915773&4294967295,A=C+(I<<15&4294967295|I>>>17),I=b+(C^(A|~v))+T[1]+2240044497&4294967295,b=A+(I<<21&4294967295|I>>>11),I=v+(A^(b|~C))+T[8]+1873313359&4294967295,v=b+(I<<6&4294967295|I>>>26),I=C+(b^(v|~A))+T[15]+4264355552&4294967295,C=v+(I<<10&4294967295|I>>>22),I=A+(v^(C|~b))+T[6]+2734768916&4294967295,A=C+(I<<15&4294967295|I>>>17),I=b+(C^(A|~v))+T[13]+1309151649&4294967295,b=A+(I<<21&4294967295|I>>>11),I=v+(A^(b|~C))+T[4]+4149444226&4294967295,v=b+(I<<6&4294967295|I>>>26),I=C+(b^(v|~A))+T[11]+3174756917&4294967295,C=v+(I<<10&4294967295|I>>>22),I=A+(v^(C|~b))+T[2]+718787259&4294967295,A=C+(I<<15&4294967295|I>>>17),I=b+(C^(A|~v))+T[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(A+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+C&4294967295}r.prototype.u=function(S,v){v===void 0&&(v=S.length);for(var b=v-this.blockSize,T=this.B,A=this.h,C=0;C<v;){if(A==0)for(;C<=b;)i(this,S,C),C+=this.blockSize;if(typeof S=="string"){for(;C<v;)if(T[A++]=S.charCodeAt(C++),A==this.blockSize){i(this,T),A=0;break}}else for(;C<v;)if(T[A++]=S[C++],A==this.blockSize){i(this,T),A=0;break}}this.h=A,this.o+=v},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;var b=8*this.o;for(v=S.length-8;v<S.length;++v)S[v]=b&255,b/=256;for(this.u(S),S=Array(16),v=b=0;4>v;++v)for(var T=0;32>T;T+=8)S[b++]=this.g[v]>>>T&255;return S};function s(S,v){var b=d;return Object.prototype.hasOwnProperty.call(b,S)?b[S]:b[S]=v(S)}function a(S,v){this.h=v;for(var b=[],T=!0,A=S.length-1;0<=A;A--){var C=S[A]|0;T&&C==v||(b[A]=C,T=!1)}this.g=b}var d={};function f(S){return-128<=S&&128>S?s(S,function(v){return new a([v|0],0>v?-1:0)}):new a([S|0],0>S?-1:0)}function m(S){if(isNaN(S)||!isFinite(S))return _;if(0>S)return N(m(-S));for(var v=[],b=1,T=0;S>=b;T++)v[T]=S/b|0,b*=4294967296;return new a(v,0)}function w(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return N(w(S.substring(1),v));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=m(Math.pow(v,8)),T=_,A=0;A<S.length;A+=8){var C=Math.min(8,S.length-A),I=parseInt(S.substring(A,A+C),v);8>C?(C=m(Math.pow(v,C)),T=T.j(C).add(m(I))):(T=T.j(b),T=T.add(m(I)))}return T}var _=f(0),k=f(1),x=f(16777216);n=a.prototype,n.m=function(){if(j(this))return-N(this).m();for(var S=0,v=1,b=0;b<this.g.length;b++){var T=this.i(b);S+=(0<=T?T:4294967296+T)*v,v*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(U(this))return"0";if(j(this))return"-"+N(this).toString(S);for(var v=m(Math.pow(S,6)),b=this,T="";;){var A=te(b,v).g;b=G(b,A.j(v));var C=((0<b.g.length?b.g[0]:b.h)>>>0).toString(S);if(b=A,U(b))return C+T;for(;6>C.length;)C="0"+C;T=C+T}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function U(S){if(S.h!=0)return!1;for(var v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function j(S){return S.h==-1}n.l=function(S){return S=G(this,S),j(S)?-1:U(S)?0:1};function N(S){for(var v=S.g.length,b=[],T=0;T<v;T++)b[T]=~S.g[T];return new a(b,~S.h).add(k)}n.abs=function(){return j(this)?N(this):this},n.add=function(S){for(var v=Math.max(this.g.length,S.g.length),b=[],T=0,A=0;A<=v;A++){var C=T+(this.i(A)&65535)+(S.i(A)&65535),I=(C>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);T=I>>>16,C&=65535,I&=65535,b[A]=I<<16|C}return new a(b,b[b.length-1]&-2147483648?-1:0)};function G(S,v){return S.add(N(v))}n.j=function(S){if(U(this)||U(S))return _;if(j(this))return j(S)?N(this).j(N(S)):N(N(this).j(S));if(j(S))return N(this.j(N(S)));if(0>this.l(x)&&0>S.l(x))return m(this.m()*S.m());for(var v=this.g.length+S.g.length,b=[],T=0;T<2*v;T++)b[T]=0;for(T=0;T<this.g.length;T++)for(var A=0;A<S.g.length;A++){var C=this.i(T)>>>16,I=this.i(T)&65535,vt=S.i(A)>>>16,Sn=S.i(A)&65535;b[2*T+2*A]+=I*Sn,ee(b,2*T+2*A),b[2*T+2*A+1]+=C*Sn,ee(b,2*T+2*A+1),b[2*T+2*A+1]+=I*vt,ee(b,2*T+2*A+1),b[2*T+2*A+2]+=C*vt,ee(b,2*T+2*A+2)}for(T=0;T<v;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=v;T<2*v;T++)b[T]=0;return new a(b,0)};function ee(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function X(S,v){this.g=S,this.h=v}function te(S,v){if(U(v))throw Error("division by zero");if(U(S))return new X(_,_);if(j(S))return v=te(N(S),v),new X(N(v.g),N(v.h));if(j(v))return v=te(S,N(v)),new X(N(v.g),v.h);if(30<S.g.length){if(j(S)||j(v))throw Error("slowDivide_ only works with positive integers.");for(var b=k,T=v;0>=T.l(S);)b=ge(b),T=ge(T);var A=re(b,1),C=re(T,1);for(T=re(T,2),b=re(b,2);!U(T);){var I=C.add(T);0>=I.l(S)&&(A=A.add(b),C=I),T=re(T,1),b=re(b,1)}return v=G(S,A.j(v)),new X(A,v)}for(A=_;0<=S.l(v);){for(b=Math.max(1,Math.floor(S.m()/v.m())),T=Math.ceil(Math.log(b)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),C=m(b),I=C.j(v);j(I)||0<I.l(S);)b-=T,C=m(b),I=C.j(v);U(C)&&(C=k),A=A.add(C),S=G(S,I)}return new X(A,S)}n.A=function(S){return te(this,S).h},n.and=function(S){for(var v=Math.max(this.g.length,S.g.length),b=[],T=0;T<v;T++)b[T]=this.i(T)&S.i(T);return new a(b,this.h&S.h)},n.or=function(S){for(var v=Math.max(this.g.length,S.g.length),b=[],T=0;T<v;T++)b[T]=this.i(T)|S.i(T);return new a(b,this.h|S.h)},n.xor=function(S){for(var v=Math.max(this.g.length,S.g.length),b=[],T=0;T<v;T++)b[T]=this.i(T)^S.i(T);return new a(b,this.h^S.h)};function ge(S){for(var v=S.g.length+1,b=[],T=0;T<v;T++)b[T]=S.i(T)<<1|S.i(T-1)>>>31;return new a(b,S.h)}function re(S,v){var b=v>>5;v%=32;for(var T=S.g.length-b,A=[],C=0;C<T;C++)A[C]=0<v?S.i(C+b)>>>v|S.i(C+b+1)<<32-v:S.i(C+b);return new a(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_d=pg.Md5=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=m,a.fromString=w,cr=pg.Integer=a}).apply(typeof fg<"u"?fg:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yn={};var yd,YI,Di,wd,oo,yc,vd,bd,Id;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,h){return o==Array.prototype||o==Object.prototype||(o[u]=h.value),o};function t(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var u=0;u<o.length;++u){var h=o[u];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(o,u){if(u)e:{var h=r;o=o.split(".");for(var g=0;g<o.length-1;g++){var P=o[g];if(!(P in h))break e;h=h[P]}o=o[o.length-1],g=h[o],u=u(g),u!=g&&u!=null&&e(h,o,{configurable:!0,writable:!0,value:u})}}function s(o,u){o instanceof String&&(o+="");var h=0,g=!1,P={next:function(){if(!g&&h<o.length){var D=h++;return{value:u(D,o[D]),done:!1}}return g=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}i("Array.prototype.values",function(o){return o||function(){return s(this,function(u,h){return h})}});var a=a||{},d=this||self;function f(o){var u=typeof o;return u=u!="object"?u:o?Array.isArray(o)?"array":u:"null",u=="array"||u=="object"&&typeof o.length=="number"}function m(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function w(o,u,h){return o.call.apply(o.bind,arguments)}function _(o,u,h){if(!o)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,g),o.apply(u,P)}}return function(){return o.apply(u,arguments)}}function k(o,u,h){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:_,k.apply(null,arguments)}function x(o,u){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),o.apply(this,g)}}function U(o,u){function h(){}h.prototype=u.prototype,o.aa=u.prototype,o.prototype=new h,o.prototype.constructor=o,o.Qb=function(g,P,D){for(var L=Array(arguments.length-2),de=2;de<arguments.length;de++)L[de-2]=arguments[de];return u.prototype[P].apply(g,L)}}function j(o){let u=o.length;if(0<u){let h=Array(u);for(let g=0;g<u;g++)h[g]=o[g];return h}return[]}function N(o,u){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(f(g)){let P=o.length||0,D=g.length||0;o.length=P+D;for(let L=0;L<D;L++)o[P+L]=g[L]}else o.push(g)}}class G{constructor(u,h){this.i=u,this.j=h,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function ee(o){return/^[\s\xa0]*$/.test(o)}function X(){var o=d.navigator;return o&&(o=o.userAgent)?o:""}function te(o){return te[" "](o),o}te[" "]=function(){};var ge=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function re(o,u,h){for(let g in o)u.call(h,o[g],g,o)}function S(o,u){for(let h in o)u.call(void 0,o[h],h,o)}function v(o){let u={};for(let h in o)u[h]=o[h];return u}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(o,u){let h,g;for(let P=1;P<arguments.length;P++){g=arguments[P];for(h in g)o[h]=g[h];for(let D=0;D<b.length;D++)h=b[D],Object.prototype.hasOwnProperty.call(g,h)&&(o[h]=g[h])}}function A(o){var u=1;o=o.split(":");let h=[];for(;0<u&&o.length;)h.push(o.shift()),u--;return o.length&&h.push(o.join(":")),h}function C(o){d.setTimeout(()=>{throw o},0)}function I(){var o=Rn;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class vt{constructor(){this.h=this.g=null}add(u,h){let g=Sn.get();g.set(u,h),this.h?this.h.next=g:this.g=g,this.h=g}}var Sn=new G(()=>new is,o=>o.reset());class is{constructor(){this.next=this.g=this.h=null}set(u,h){this.h=u,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Pn,on=!1,Rn=new vt,ct=()=>{let o=d.Promise.resolve(void 0);Pn=()=>{o.then(kn)}};var kn=()=>{for(var o;o=I();){try{o.h.call(o.g)}catch(h){C(h)}var u=Sn;u.j(o),100>u.h&&(u.h++,o.next=u.g,u.g=o)}on=!1};function Ke(){this.s=this.s,this.C=this.C}Ke.prototype.s=!1,Ke.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ke.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Le(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}Le.prototype.h=function(){this.defaultPrevented=!0};var Dn=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{let h=()=>{};d.addEventListener("test",h,u),d.removeEventListener("test",h,u)}catch{}return o}();function bt(o,u){if(Le.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var h=this.type=o.type,g=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget){if(ge){e:{try{te(u.nodeName);var P=!0;break e}catch{}P=!1}P||(u=null)}}else h=="mouseover"?u=o.fromElement:h=="mouseout"&&(u=o.toElement);this.relatedTarget=u,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Do[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&bt.aa.h.call(this)}}U(bt,Le);var Do={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),ss=0;function yl(o,u,h,g,P){this.listener=o,this.proxy=null,this.src=u,this.type=h,this.capture=!!g,this.ha=P,this.key=++ss,this.da=this.fa=!1}function xn(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Nn(o){this.src=o,this.g={},this.h=0}Nn.prototype.add=function(o,u,h,g,P){var D=o.toString();o=this.g[D],o||(o=this.g[D]=[],this.h++);var L=os(o,u,g,P);return-1<L?(u=o[L],h||(u.fa=!1)):(u=new yl(u,this.src,D,!!g,P),u.fa=h,o.push(u)),u};function On(o,u){var h=u.type;if(h in o.g){var g=o.g[h],P=Array.prototype.indexOf.call(g,u,void 0),D;(D=0<=P)&&Array.prototype.splice.call(g,P,1),D&&(xn(u),o.g[h].length==0&&(delete o.g[h],o.h--))}}function os(o,u,h,g){for(var P=0;P<o.length;++P){var D=o[P];if(!D.da&&D.listener==u&&D.capture==!!h&&D.ha==g)return P}return-1}var ze="closure_lm_"+(1e6*Math.random()|0),lt={};function xo(o,u,h,g,P){if(g&&g.once)return as(o,u,h,g,P);if(Array.isArray(u)){for(var D=0;D<u.length;D++)xo(o,u[D],h,g,P);return null}return h=Pe(h),o&&o[xt]?o.K(u,h,m(g)?!!g.capture:!!g,P):Qe(o,u,h,!1,g,P)}function Qe(o,u,h,g,P,D){if(!u)throw Error("Invalid event type");var L=m(P)?!!P.capture:!!P,de=It(o);if(de||(o[ze]=de=new Nn(o)),h=de.add(u,h,g,L,D),h.proxy)return h;if(g=ti(),h.proxy=g,g.src=o,g.listener=h,o.addEventListener)Dn||(P=L),P===void 0&&(P=!1),o.addEventListener(u.toString(),g,P);else if(o.attachEvent)o.attachEvent(ut(u.toString()),g);else if(o.addListener&&o.removeListener)o.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function ti(){function o(h){return u.call(o.src,o.listener,h)}let u=Nt;return o}function as(o,u,h,g,P){if(Array.isArray(u)){for(var D=0;D<u.length;D++)as(o,u[D],h,g,P);return null}return h=Pe(h),o&&o[xt]?o.L(u,h,m(g)?!!g.capture:!!g,P):Qe(o,u,h,!0,g,P)}function cs(o,u,h,g,P){if(Array.isArray(u))for(var D=0;D<u.length;D++)cs(o,u[D],h,g,P);else g=m(g)?!!g.capture:!!g,h=Pe(h),o&&o[xt]?(o=o.i,u=String(u).toString(),u in o.g&&(D=o.g[u],h=os(D,h,g,P),-1<h&&(xn(D[h]),Array.prototype.splice.call(D,h,1),D.length==0&&(delete o.g[u],o.h--)))):o&&(o=It(o))&&(u=o.g[u.toString()],o=-1,u&&(o=os(u,h,g,P)),(h=-1<o?u[o]:null)&&ie(h))}function ie(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[xt])On(u.i,o);else{var h=o.type,g=o.proxy;u.removeEventListener?u.removeEventListener(h,g,o.capture):u.detachEvent?u.detachEvent(ut(h),g):u.addListener&&u.removeListener&&u.removeListener(g),(h=It(u))?(On(h,o),h.h==0&&(h.src=null,u[ze]=null)):xn(o)}}}function ut(o){return o in lt?lt[o]:lt[o]="on"+o}function Nt(o,u){if(o.da)o=!0;else{u=new bt(u,this);var h=o.listener,g=o.ha||o.src;o.fa&&ie(o),o=h.call(g,u)}return o}function It(o){return o=o[ze],o instanceof Nn?o:null}var Ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pe(o){return typeof o=="function"?o:(o[Ie]||(o[Ie]=function(u){return o.handleEvent(u)}),o[Ie])}function Re(){Ke.call(this),this.i=new Nn(this),this.M=this,this.F=null}U(Re,Ke),Re.prototype[xt]=!0,Re.prototype.removeEventListener=function(o,u,h,g){cs(this,o,u,h,g)};function Ue(o,u){var h,g=o.F;if(g)for(h=[];g;g=g.F)h.push(g);if(o=o.M,g=u.type||u,typeof u=="string")u=new Le(u,o);else if(u instanceof Le)u.target=u.target||o;else{var P=u;u=new Le(g,o),T(u,P)}if(P=!0,h)for(var D=h.length-1;0<=D;D--){var L=u.g=h[D];P=Ot(L,g,!0,u)&&P}if(L=u.g=o,P=Ot(L,g,!0,u)&&P,P=Ot(L,g,!1,u)&&P,h)for(D=0;D<h.length;D++)L=u.g=h[D],P=Ot(L,g,!1,u)&&P}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var o=this.i,u;for(u in o.g){for(var h=o.g[u],g=0;g<h.length;g++)xn(h[g]);delete o.g[u],o.h--}}this.F=null},Re.prototype.K=function(o,u,h,g){return this.i.add(String(o),u,!1,h,g)},Re.prototype.L=function(o,u,h,g){return this.i.add(String(o),u,!0,h,g)};function Ot(o,u,h,g){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();for(var P=!0,D=0;D<u.length;++D){var L=u[D];if(L&&!L.da&&L.capture==h){var de=L.listener,Oe=L.ha||L.src;L.fa&&On(o.i,L),P=de.call(Oe,g)!==!1&&P}}return P&&!g.defaultPrevented}function Ge(o,u,h){if(typeof o=="function")h&&(o=k(o,h));else if(o&&typeof o.handleEvent=="function")o=k(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:d.setTimeout(o,u||0)}function No(o){o.g=Ge(()=>{o.g=null,o.i&&(o.i=!1,No(o))},o.l);let u=o.h;o.h=null,o.m.apply(null,u)}class Oo extends Ke{constructor(u,h){super(),this.m=u,this.l=h,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:No(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vn(o){Ke.call(this),this.h=o,this.g={}}U(Vn,Ke);var ni=[];function Vo(o){re(o.g,function(u,h){this.g.hasOwnProperty(h)&&ie(u)},o),o.g={}}Vn.prototype.N=function(){Vn.aa.N.call(this),Vo(this)},Vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ls=d.JSON.stringify,wl=d.JSON.parse,vl=class{stringify(o){return d.JSON.stringify(o,void 0)}parse(o){return d.JSON.parse(o,void 0)}};function Et(){}Et.prototype.h=null;function Mo(o){return o.h||(o.h=o.i())}function Fo(){}var fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function us(){Le.call(this,"d")}U(us,Le);function ds(){Le.call(this,"c")}U(ds,Le);var Tt={},Lo=null;function ri(){return Lo=Lo||new Re}Tt.La="serverreachability";function Uo(o){Le.call(this,Tt.La,o)}U(Uo,Le);function pr(o){let u=ri();Ue(u,new Uo(u))}Tt.STAT_EVENT="statevent";function Bo(o,u){Le.call(this,Tt.STAT_EVENT,o),this.stat=u}U(Bo,Le);function Ne(o){let u=ri();Ue(u,new Bo(u,o))}Tt.Ma="timingevent";function jo(o,u){Le.call(this,Tt.Ma,o),this.size=u}U(jo,Le);function mr(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){o()},u)}function gr(){this.g=!0}gr.prototype.xa=function(){this.g=!1};function bl(o,u,h,g,P,D){o.info(function(){if(o.g)if(D)for(var L="",de=D.split("&"),Oe=0;Oe<de.length;Oe++){var ae=de[Oe].split("=");if(1<ae.length){var Be=ae[0];ae=ae[1];var Ve=Be.split("_");L=2<=Ve.length&&Ve[1]=="type"?L+(Be+"="+ae+"&"):L+(Be+"=redacted&")}}else L=null;else L=D;return"XMLHTTP REQ ("+g+") [attempt "+P+"]: "+u+`
`+h+`
`+L})}function Il(o,u,h,g,P,D,L){o.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+P+"]: "+u+`
`+h+`
`+D+" "+L})}function le(o,u,h,g){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+Tl(o,h)+(g?" "+g:"")})}function El(o,u){o.info(function(){return"TIMEOUT: "+u})}gr.prototype.info=function(){};function Tl(o,u){if(!o.g)return u;if(!u)return null;try{var h=JSON.parse(u);if(h){for(o=0;o<h.length;o++)if(Array.isArray(h[o])){var g=h[o];if(!(2>g.length)){var P=g[1];if(Array.isArray(P)&&!(1>P.length)){var D=P[0];if(D!="noop"&&D!="stop"&&D!="close")for(var L=1;L<P.length;L++)P[L]=""}}}}return ls(h)}catch{return u}}var ii={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hs;function si(){}U(si,Et),si.prototype.g=function(){return new XMLHttpRequest},si.prototype.i=function(){return{}},hs=new si;function _t(o,u,h,g){this.j=o,this.i=u,this.l=h,this.R=g||1,this.U=new Vn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mn}function Mn(){this.i=null,this.g="",this.h=!1}var fs={},Fn={};function _e(o,u,h){o.L=1,o.v=ai(yt(u)),o.m=h,o.P=!0,$o(o,null)}function $o(o,u){o.F=Date.now(),_r(o),o.A=yt(o.v);var h=o.A,g=o.R;Array.isArray(g)||(g=[String(g)]),sa(h.i,"t",g),o.C=0,h=o.j.J,o.h=new Mn,o.g=Ps(o.j,h?u:null,!o.m),0<o.O&&(o.M=new Oo(k(o.Y,o,o.g),o.O)),u=o.U,h=o.g,g=o.ca;var P="readystatechange";Array.isArray(P)||(P&&(ni[0]=P.toString()),P=ni);for(var D=0;D<P.length;D++){var L=xo(h,P[D],g||u.handleEvent,!1,u.h||u);if(!L)break;u.g[L.key]=L}u=o.H?v(o.H):{},o.m?(o.u||(o.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,u)):(o.u="GET",o.g.ea(o.A,o.u,null,u)),pr(),bl(o.i,o.u,o.A,o.l,o.R,o.m)}_t.prototype.ca=function(o){o=o.target;let u=this.M;u&&Ct(o)==3?u.j():this.Y(o)},_t.prototype.Y=function(o){try{if(o==this.g)e:{let Ve=Ct(this.g);var u=this.g.Ba();let Ut=this.g.Z();if(!(3>Ve)&&(Ve!=3||this.g&&(this.h.h||this.g.oa()||ha(this.g)))){this.J||Ve!=4||u==7||(u==8||0>=Ut?pr(3):pr(2)),ps(this);var h=this.g.Z();this.X=h;t:if(zo(this)){var g=ha(this.g);o="";var P=g.length,D=Ct(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vt(this),yr(this);var L="";break t}this.h.i=new d.TextDecoder}for(u=0;u<P;u++)this.h.h=!0,o+=this.h.i.decode(g[u],{stream:!(D&&u==P-1)});g.length=0,this.h.g+=o,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=h==200,Il(this.i,this.u,this.A,this.l,this.R,Ve,h),this.o){if(this.T&&!this.K){t:{if(this.g){var de,Oe=this.g;if((de=Oe.g?Oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(de)){var ae=de;break t}}ae=null}if(h=ae)le(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ms(this,h);else{this.o=!1,this.s=3,Ne(12),Vt(this),yr(this);break e}}if(this.P){h=!0;let dt;for(;!this.J&&this.C<L.length;)if(dt=Al(this,L),dt==Fn){Ve==4&&(this.s=4,Ne(14),h=!1),le(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==fs){this.s=4,Ne(15),le(this.i,this.l,L,"[Invalid Chunk]"),h=!1;break}else le(this.i,this.l,dt,null),ms(this,dt);if(zo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||L.length!=0||this.h.h||(this.s=1,Ne(16),h=!1),this.o=this.o&&h,!h)le(this.i,this.l,L,"[Invalid Chunked Response]"),Vt(this),yr(this);else if(0<L.length&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.ba&&!Be.M&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),$n(Be),Be.M=!0,Ne(11))}}else le(this.i,this.l,L,null),ms(this,L);Ve==4&&Vt(this),this.o&&!this.J&&(Ve==4?Ts(this.j,this):(this.o=!1,_r(this)))}else Ol(this.g),h==400&&0<L.indexOf("Unknown SID")?(this.s=3,Ne(12)):(this.s=0,Ne(13)),Vt(this),yr(this)}}}catch{}finally{}};function zo(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Al(o,u){var h=o.C,g=u.indexOf(`
`,h);return g==-1?Fn:(h=Number(u.substring(h,g)),isNaN(h)?fs:(g+=1,g+h>u.length?Fn:(u=u.slice(g,g+h),o.C=g+h,u)))}_t.prototype.cancel=function(){this.J=!0,Vt(this)};function _r(o){o.S=Date.now()+o.I,Go(o,o.I)}function Go(o,u){if(o.B!=null)throw Error("WatchDog timer not null");o.B=mr(k(o.ba,o),u)}function ps(o){o.B&&(d.clearTimeout(o.B),o.B=null)}_t.prototype.ba=function(){this.B=null;let o=Date.now();0<=o-this.S?(El(this.i,this.A),this.L!=2&&(pr(),Ne(17)),Vt(this),this.s=2,yr(this)):Go(this,this.S-o)};function yr(o){o.j.G==0||o.J||Ts(o.j,o)}function Vt(o){ps(o);var u=o.M;u&&typeof u.ma=="function"&&u.ma(),o.M=null,Vo(o.U),o.g&&(u=o.g,o.g=null,u.abort(),u.ma())}function ms(o,u){try{var h=o.j;if(h.G!=0&&(h.g==o||gs(h.h,o))){if(!o.K&&gs(h.h,o)&&h.G==3){try{var g=h.Da.g.parse(u)}catch{g=null}if(Array.isArray(g)&&g.length==3){var P=g;if(P[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<o.F)Cr(h),di(h);else break e;Ar(h),Ne(18)}}else h.za=P[1],0<h.za-h.T&&37500>P[2]&&h.F&&h.v==0&&!h.C&&(h.C=mr(k(h.Za,h),6e3));if(1>=Qo(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Lt(h,11)}else if((o.K||h.g==o)&&Cr(h),!ee(u))for(P=h.Da.g.parse(u),u=0;u<P.length;u++){let ae=P[u];if(h.T=ae[0],ae=ae[1],h.G==2)if(ae[0]=="c"){h.K=ae[1],h.ia=ae[2];let Be=ae[3];Be!=null&&(h.la=Be,h.j.info("VER="+h.la));let Ve=ae[4];Ve!=null&&(h.Aa=Ve,h.j.info("SVER="+h.Aa));let Ut=ae[5];Ut!=null&&typeof Ut=="number"&&0<Ut&&(g=1.5*Ut,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let dt=o.g;if(dt){let fi=dt.g?dt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fi){var D=g.h;D.g||fi.indexOf("spdy")==-1&&fi.indexOf("quic")==-1&&fi.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(_s(D,D.h),D.h=null))}if(g.D){let ks=dt.g?dt.g.getResponseHeader("X-HTTP-Session-Id"):null;ks&&(g.ya=ks,me(g.I,g.D,ks))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-o.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var L=o;if(g.qa=Ss(g,g.J?g.ia:null,g.W),L.K){Jo(g.h,L);var de=L,Oe=g.L;Oe&&(de.I=Oe),de.B&&(ps(de),_r(de)),g.g=L}else Es(g);0<h.i.length&&hi(h)}else ae[0]!="stop"&&ae[0]!="close"||Lt(h,7);else h.G==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?Lt(h,7):ui(h):ae[0]!="noop"&&h.l&&h.l.ta(ae),h.v=0)}}pr(4)}catch{}}var Ho=class{constructor(o,u){this.g=o,this.map=u}};function Wo(o){this.l=o||10,d.PerformanceNavigationTiming?(o=d.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ko(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Qo(o){return o.h?1:o.g?o.g.size:0}function gs(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function _s(o,u){o.g?o.g.add(u):o.h=u}function Jo(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}Wo.prototype.cancel=function(){if(this.i=Yo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let o of this.g.values())o.cancel();this.g.clear()}};function Yo(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let u=o.i;for(let h of o.g.values())u=u.concat(h.D);return u}return j(o.i)}function Xo(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(f(o)){for(var u=[],h=o.length,g=0;g<h;g++)u.push(o[g]);return u}u=[],h=0;for(g in o)u[h++]=o[g];return u}function Cl(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(f(o)||typeof o=="string"){var u=[];o=o.length;for(var h=0;h<o;h++)u.push(h);return u}u=[],h=0;for(let g in o)u[h++]=g;return u}}}function ys(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(f(o)||typeof o=="string")Array.prototype.forEach.call(o,u,void 0);else for(var h=Cl(o),g=Xo(o),P=g.length,D=0;D<P;D++)u.call(void 0,g[D],h&&h[D],o)}var Zo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sl(o,u){if(o){o=o.split("&");for(var h=0;h<o.length;h++){var g=o[h].indexOf("="),P=null;if(0<=g){var D=o[h].substring(0,g);P=o[h].substring(g+1)}else D=o[h];u(D,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function rt(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof rt){this.h=o.h,oi(this,o.j),this.o=o.o,this.g=o.g,Ln(this,o.s),this.l=o.l;var u=o.i,h=new br;h.i=u.i,u.g&&(h.g=new Map(u.g),h.h=u.h),ws(this,h),this.m=o.m}else o&&(u=String(o).match(Zo))?(this.h=!1,oi(this,u[1]||"",!0),this.o=wr(u[2]||""),this.g=wr(u[3]||"",!0),Ln(this,u[4]),this.l=wr(u[5]||"",!0),ws(this,u[6]||"",!0),this.m=wr(u[7]||"")):(this.h=!1,this.i=new br(null,this.h))}rt.prototype.toString=function(){var o=[],u=this.j;u&&o.push(vr(u,ea,!0),":");var h=this.g;return(h||u=="file")&&(o.push("//"),(u=this.o)&&o.push(vr(u,ea,!0),"@"),o.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&o.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&o.push("/"),o.push(vr(h,h.charAt(0)=="/"?Rl:Un,!0))),(h=this.i.toString())&&o.push("?",h),(h=this.m)&&o.push("#",vr(h,na)),o.join("")};function yt(o){return new rt(o)}function oi(o,u,h){o.j=h?wr(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function Ln(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.s=u}else o.s=null}function ws(o,u,h){u instanceof br?(o.i=u,kl(o.i,o.h)):(h||(u=vr(u,ta)),o.i=new br(u,o.h))}function me(o,u,h){o.i.set(u,h)}function ai(o){return me(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function wr(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function vr(o,u,h){return typeof o=="string"?(o=encodeURI(o).replace(u,Pl),h&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Pl(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var ea=/[#\/\?@]/g,Un=/[#\?:]/g,Rl=/[#\?]/g,ta=/[#\?@]/g,na=/#/g;function br(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function Mt(o){o.g||(o.g=new Map,o.h=0,o.i&&Sl(o.i,function(u,h){o.add(decodeURIComponent(u.replace(/\+/g," ")),h)}))}n=br.prototype,n.add=function(o,u){Mt(this),this.i=null,o=Bn(this,o);var h=this.g.get(o);return h||this.g.set(o,h=[]),h.push(u),this.h+=1,this};function ra(o,u){Mt(o),u=Bn(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function ia(o,u){return Mt(o),u=Bn(o,u),o.g.has(u)}n.forEach=function(o,u){Mt(this),this.g.forEach(function(h,g){h.forEach(function(P){o.call(u,P,g,this)},this)},this)},n.na=function(){Mt(this);let o=Array.from(this.g.values()),u=Array.from(this.g.keys()),h=[];for(let g=0;g<u.length;g++){let P=o[g];for(let D=0;D<P.length;D++)h.push(u[g])}return h},n.V=function(o){Mt(this);let u=[];if(typeof o=="string")ia(this,o)&&(u=u.concat(this.g.get(Bn(this,o))));else{o=Array.from(this.g.values());for(let h=0;h<o.length;h++)u=u.concat(o[h])}return u},n.set=function(o,u){return Mt(this),this.i=null,o=Bn(this,o),ia(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},n.get=function(o,u){return o?(o=this.V(o),0<o.length?String(o[0]):u):u};function sa(o,u,h){ra(o,u),0<h.length&&(o.i=null,o.g.set(Bn(o,u),j(h)),o.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let o=[],u=Array.from(this.g.keys());for(var h=0;h<u.length;h++){var g=u[h];let D=encodeURIComponent(String(g)),L=this.V(g);for(g=0;g<L.length;g++){var P=D;L[g]!==""&&(P+="="+encodeURIComponent(String(L[g]))),o.push(P)}}return this.i=o.join("&")};function Bn(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function kl(o,u){u&&!o.j&&(Mt(o),o.i=null,o.g.forEach(function(h,g){var P=g.toLowerCase();g!=P&&(ra(this,g),sa(this,P,h))},o)),o.j=u}function jn(o,u){let h=new gr;if(d.Image){let g=new Image;g.onload=x(Ft,h,"TestLoadImage: loaded",!0,u,g),g.onerror=x(Ft,h,"TestLoadImage: error",!1,u,g),g.onabort=x(Ft,h,"TestLoadImage: abort",!1,u,g),g.ontimeout=x(Ft,h,"TestLoadImage: timeout",!1,u,g),d.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=o}else u(!1)}function Dl(o,u){let h=new gr,g=new AbortController,P=setTimeout(()=>{g.abort(),Ft(h,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:g.signal}).then(D=>{clearTimeout(P),D.ok?Ft(h,"TestPingServer: ok",!0,u):Ft(h,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(P),Ft(h,"TestPingServer: error",!1,u)})}function Ft(o,u,h,g,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),g(h)}catch{}}function oa(){this.g=new vl}function xl(o,u,h){let g=h||"";try{ys(o,function(P,D){let L=P;m(P)&&(L=ls(P)),u.push(g+D+"="+encodeURIComponent(L))})}catch(P){throw u.push(g+"type="+encodeURIComponent("_badmap")),P}}function it(o){this.l=o.Ub||null,this.j=o.eb||!1}U(it,Et),it.prototype.g=function(){return new ci(this.l,this.j)},it.prototype.i=function(o){return function(){return o}}({});function ci(o,u){Re.call(this),this.D=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(ci,Re),n=ci.prototype,n.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=u,this.readyState=1,Ir(this)},n.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(u.body=o),(this.D||d).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,At(this)),this.readyState=0},n.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function vs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}n.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?At(this):Ir(this),this.readyState==3&&vs(this)}},n.Ra=function(o){this.g&&(this.response=this.responseText=o,At(this))},n.Qa=function(o){this.g&&(this.response=o,At(this))},n.ga=function(){this.g&&At(this)};function At(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Ir(o)}n.setRequestHeader=function(o,u){this.u.append(o,u)},n.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let o=[],u=this.h.entries();for(var h=u.next();!h.done;)h=h.value,o.push(h[0]+": "+h[1]),h=u.next();return o.join(`\r
`)};function Ir(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function aa(o){let u="";return re(o,function(h,g){u+=g,u+=":",u+=h,u+=`\r
`}),u}function bs(o,u,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=aa(h),typeof o=="string"?h!=null&&encodeURIComponent(String(h)):me(o,u,h))}function ye(o){Re.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(ye,Re);var qn=/^https?$/i,Nl=["POST","PUT"];n=ye.prototype,n.Ha=function(o){this.J=o},n.ea=function(o,u,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hs.g(),this.v=this.o?Mo(this.o):Mo(hs),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(D){ca(this,D);return}if(o=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var P in g)h.set(P,g[P]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let D of g.keys())h.set(D,g.get(D));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(D=>D.toLowerCase()=="content-type"),P=d.FormData&&o instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Nl,u,void 0))||g||P||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[D,L]of h)this.g.setRequestHeader(D,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{da(this),this.u=!0,this.g.send(o),this.u=!1}catch(D){ca(this,D)}};function ca(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.m=5,la(o),li(o)}function la(o){o.A||(o.A=!0,Ue(o,"complete"),Ue(o,"error"))}n.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Ue(this,"complete"),Ue(this,"abort"),li(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ua(this):this.bb())},n.bb=function(){ua(this)};function ua(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Ct(o)!=4||o.Z()!=2)){if(o.u&&Ct(o)==4)Ge(o.Ea,0,o);else if(Ue(o,"readystatechange"),Ct(o)==4){o.h=!1;try{let L=o.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var h;if(!(h=u)){var g;if(g=L===0){var P=String(o.D).match(Zo)[1]||null;!P&&d.self&&d.self.location&&(P=d.self.location.protocol.slice(0,-1)),g=!qn.test(P?P.toLowerCase():"")}h=g}if(h)Ue(o,"complete"),Ue(o,"success");else{o.m=6;try{var D=2<Ct(o)?o.g.statusText:""}catch{D=""}o.l=D+" ["+o.Z()+"]",la(o)}}finally{li(o)}}}}function li(o,u){if(o.g){da(o);let h=o.g,g=o.v[0]?()=>{}:null;o.g=null,o.v=null,u||Ue(o,"ready");try{h.onreadystatechange=g}catch{}}}function da(o){o.I&&(d.clearTimeout(o.I),o.I=null)}n.isActive=function(){return!!this.g};function Ct(o){return o.g?o.g.readyState:0}n.Z=function(){try{return 2<Ct(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),wl(u)}};function ha(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ol(o){let u={};o=(o.g&&2<=Ct(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<o.length;g++){if(ee(o[g]))continue;var h=A(o[g]);let P=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let D=u[P]||[];u[P]=D,D.push(h)}S(u,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Er(o,u,h){return h&&h.internalChannelParams&&h.internalChannelParams[o]||u}function Tr(o){this.Aa=0,this.i=[],this.j=new gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Er("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Er("baseRetryDelayMs",5e3,o),this.cb=Er("retryDelaySeedMs",1e4,o),this.Wa=Er("forwardChannelMaxRetries",2,o),this.wa=Er("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Wo(o&&o.concurrentRequestLimit),this.Da=new oa,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Tr.prototype,n.la=8,n.G=1,n.connect=function(o,u,h,g){Ne(0),this.W=o,this.H=u||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=Ss(this,null,this.W),hi(this)};function ui(o){if(fa(o),o.G==3){var u=o.U++,h=yt(o.I);if(me(h,"SID",o.K),me(h,"RID",u),me(h,"TYPE","terminate"),an(o,h),u=new _t(o,o.j,u),u.L=2,u.v=ai(yt(h)),h=!1,d.navigator&&d.navigator.sendBeacon)try{h=d.navigator.sendBeacon(u.v.toString(),"")}catch{}!h&&d.Image&&(new Image().src=u.v,h=!0),h||(u.g=Ps(u.j,null),u.g.ea(u.v)),u.F=Date.now(),_r(u)}Cs(o)}function di(o){o.g&&($n(o),o.g.cancel(),o.g=null)}function fa(o){di(o),o.u&&(d.clearTimeout(o.u),o.u=null),Cr(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&d.clearTimeout(o.s),o.s=null)}function hi(o){if(!Ko(o.h)&&!o.s){o.s=!0;var u=o.Ga;Pn||ct(),on||(Pn(),on=!0),Rn.add(u,o),o.B=0}}function pa(o,u){return Qo(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=u.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=mr(k(o.Ga,o,u),As(o,o.B)),o.B++,!0)}n.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;let P=new _t(this,this.j,o),D=this.o;if(this.S&&(D?(D=v(D),T(D,this.S)):D=this.S),this.m!==null||this.O||(P.H=D,D=null),this.P)e:{for(var u=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(u+=g,4096<u){u=h;break e}if(u===4096||h===this.i.length-1){u=h+1;break e}}u=1e3}else u=1e3;u=Is(this,P,u),h=yt(this.I),me(h,"RID",o),me(h,"CVER",22),this.D&&me(h,"X-HTTP-Session-Id",this.D),an(this,h),D&&(this.O?u="headers="+encodeURIComponent(String(aa(D)))+"&"+u:this.m&&bs(h,this.m,D)),_s(this.h,P),this.Ua&&me(h,"TYPE","init"),this.P?(me(h,"$req",u),me(h,"SID","null"),P.T=!0,_e(P,h,null)):_e(P,h,u),this.G=2}}else this.G==3&&(o?ma(this,o):this.i.length==0||Ko(this.h)||ma(this))};function ma(o,u){var h;u?h=u.l:h=o.U++;let g=yt(o.I);me(g,"SID",o.K),me(g,"RID",h),me(g,"AID",o.T),an(o,g),o.m&&o.o&&bs(g,o.m,o.o),h=new _t(o,o.j,h,o.B+1),o.m===null&&(h.H=o.o),u&&(o.i=u.D.concat(o.i)),u=Is(o,h,1e3),h.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),_s(o.h,h),_e(h,g,u)}function an(o,u){o.H&&re(o.H,function(h,g){me(u,g,h)}),o.l&&ys({},function(h,g){me(u,g,h)})}function Is(o,u,h){h=Math.min(o.i.length,h);var g=o.l?k(o.l.Na,o.l,o):null;e:{var P=o.i;let D=-1;for(;;){let L=["count="+h];D==-1?0<h?(D=P[0].g,L.push("ofs="+D)):D=0:L.push("ofs="+D);let de=!0;for(let Oe=0;Oe<h;Oe++){let ae=P[Oe].g,Be=P[Oe].map;if(ae-=D,0>ae)D=Math.max(0,P[Oe].g-100),de=!1;else try{xl(Be,L,"req"+ae+"_")}catch{g&&g(Be)}}if(de){g=L.join("&");break e}}}return o=o.i.splice(0,h),u.D=o,g}function Es(o){if(!o.g&&!o.u){o.Y=1;var u=o.Fa;Pn||ct(),on||(Pn(),on=!0),Rn.add(u,o),o.v=0}}function Ar(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=mr(k(o.Fa,o),As(o,o.v)),o.v++,!0)}n.Fa=function(){if(this.u=null,ga(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=mr(k(this.ab,this),o)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ne(10),di(this),ga(this))};function $n(o){o.A!=null&&(d.clearTimeout(o.A),o.A=null)}function ga(o){o.g=new _t(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var u=yt(o.qa);me(u,"RID","rpc"),me(u,"SID",o.K),me(u,"AID",o.T),me(u,"CI",o.F?"0":"1"),!o.F&&o.ja&&me(u,"TO",o.ja),me(u,"TYPE","xmlhttp"),an(o,u),o.m&&o.o&&bs(u,o.m,o.o),o.L&&(o.g.I=o.L);var h=o.g;o=o.ia,h.L=1,h.v=ai(yt(u)),h.m=null,h.P=!0,$o(h,o)}n.Za=function(){this.C!=null&&(this.C=null,di(this),Ar(this),Ne(19))};function Cr(o){o.C!=null&&(d.clearTimeout(o.C),o.C=null)}function Ts(o,u){var h=null;if(o.g==u){Cr(o),$n(o),o.g=null;var g=2}else if(gs(o.h,u))h=u.D,Jo(o.h,u),g=1;else return;if(o.G!=0){if(u.o)if(g==1){h=u.m?u.m.length:0,u=Date.now()-u.F;var P=o.B;g=ri(),Ue(g,new jo(g,h)),hi(o)}else Es(o);else if(P=u.s,P==3||P==0&&0<u.X||!(g==1&&pa(o,u)||g==2&&Ar(o)))switch(h&&0<h.length&&(u=o.h,u.i=u.i.concat(h)),P){case 1:Lt(o,5);break;case 4:Lt(o,10);break;case 3:Lt(o,6);break;default:Lt(o,2)}}}function As(o,u){let h=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(h*=2),h*u}function Lt(o,u){if(o.j.info("Error code "+u),u==2){var h=k(o.fb,o),g=o.Xa;let P=!g;g=new rt(g||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||oi(g,"https"),ai(g),P?jn(g.toString(),h):Dl(g.toString(),h)}else Ne(2);o.G=0,o.l&&o.l.sa(u),Cs(o),fa(o)}n.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))};function Cs(o){if(o.G=0,o.ka=[],o.l){let u=Yo(o.h);(u.length!=0||o.i.length!=0)&&(N(o.ka,u),N(o.ka,o.i),o.h.i.length=0,j(o.i),o.i.length=0),o.l.ra()}}function Ss(o,u,h){var g=h instanceof rt?yt(h):new rt(h);if(g.g!="")u&&(g.g=u+"."+g.g),Ln(g,g.s);else{var P=d.location;g=P.protocol,u=u?u+"."+P.hostname:P.hostname,P=+P.port;var D=new rt(null);g&&oi(D,g),u&&(D.g=u),P&&Ln(D,P),h&&(D.l=h),g=D}return h=o.D,u=o.ya,h&&u&&me(g,h,u),me(g,"VER",o.la),an(o,g),g}function Ps(o,u,h){if(u&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Ca&&!o.pa?new ye(new it({eb:h})):new ye(o.pa),u.Ha(o.J),u}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rs(){}n=Rs.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Sr(){}Sr.prototype.g=function(o,u){return new ke(o,u)};function ke(o,u){Re.call(this),this.g=new Tr(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(o?o["X-WebChannel-Client-Profile"]=u.va:o={"X-WebChannel-Client-Profile":u.va}),this.g.S=o,(o=u&&u.Sb)&&!ee(o)&&(this.g.m=o),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!ee(u)&&(this.g.D=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new zn(this)}U(ke,Re),ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ke.prototype.close=function(){ui(this.g)},ke.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var h={};h.__data__=o,o=h}else this.u&&(h={},h.__data__=ls(o),o=h);u.i.push(new Ho(u.Ya++,o)),u.G==3&&hi(u)},ke.prototype.N=function(){this.g.l=null,delete this.j,ui(this.g),delete this.g,ke.aa.N.call(this)};function _a(o){us.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){e:{for(let h in u){o=h;break e}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}U(_a,us);function ya(){ds.call(this),this.status=1}U(ya,ds);function zn(o){this.g=o}U(zn,Rs),zn.prototype.ua=function(){Ue(this.g,"a")},zn.prototype.ta=function(o){Ue(this.g,new _a(o))},zn.prototype.sa=function(o){Ue(this.g,new ya)},zn.prototype.ra=function(){Ue(this.g,"b")},Sr.prototype.createWebChannel=Sr.prototype.g,ke.prototype.send=ke.prototype.o,ke.prototype.open=ke.prototype.m,ke.prototype.close=ke.prototype.close,Id=yn.createWebChannelTransport=function(){return new Sr},bd=yn.getStatEventTarget=function(){return ri()},vd=yn.Event=Tt,yc=yn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ii.NO_ERROR=0,ii.TIMEOUT=8,ii.HTTP_ERROR=6,oo=yn.ErrorCode=ii,qo.COMPLETE="complete",wd=yn.EventType=qo,Fo.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",Re.prototype.listen=Re.prototype.K,Di=yn.WebChannel=Fo,YI=yn.FetchXmlHttpFactory=it,ye.prototype.listenOnce=ye.prototype.L,ye.prototype.getLastError=ye.prototype.Ka,ye.prototype.getLastErrorCode=ye.prototype.Ba,ye.prototype.getStatus=ye.prototype.Z,ye.prototype.getResponseJson=ye.prototype.Oa,ye.prototype.getResponseText=ye.prototype.oa,ye.prototype.send=ye.prototype.ea,ye.prototype.setWithCredentials=ye.prototype.Ha,yd=yn.XhrIo=ye}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});var mg="@firebase/firestore";var $e=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");var Xi="10.14.0";var Kr=new Zn("@firebase/firestore");function ao(){return Kr.logLevel}function $(n,...e){if(Kr.logLevel<=se.DEBUG){let t=e.map(rf);Kr.debug(`Firestore (${Xi}): ${n}`,...t)}}function vn(n,...e){if(Kr.logLevel<=se.ERROR){let t=e.map(rf);Kr.error(`Firestore (${Xi}): ${n}`,...t)}}function Li(n,...e){if(Kr.logLevel<=se.WARN){let t=e.map(rf);Kr.warn(`Firestore (${Xi}): ${n}`,...t)}}function rf(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function K(n="Unexpected state"){let e=`FIRESTORE (${Xi}) INTERNAL ASSERTION FAILED: `+n;throw vn(e),new Error(e)}function pe(n,e){n||K()}function Y(n,e){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends nt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var wn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Ec=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Sd=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($e.UNAUTHENTICATED))}shutdown(){}},Pd=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Rd=class{constructor(e){this.t=e,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pe(this.o===void 0);let r=this.i,i=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve(),s=new wn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wn,e.enqueueRetryable(()=>i(this.currentUser))};let a=()=>{let f=s;e.enqueueRetryable(()=>E(this,null,function*(){yield f.promise,yield i(this.currentUser)}))},d=f=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){let f=this.t.getImmediate({optional:!0});f?d(f):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wn)}},0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pe(typeof r.accessToken=="string"),new Ec(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return pe(e===null||typeof e=="string"),new $e(e)}},kd=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Dd=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new kd(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t($e.FIRST_PARTY))}shutdown(){}invalidateToken(){}},xd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Nd=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){pe(this.o===void 0);let r=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let a=s.token!==this.R;return this.R=s.token,$("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pe(typeof t.token=="string"),this.R=t.token,new xd(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function XI(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Tc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=XI(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function ue(n,e){return n<e?-1:n>e?1:0}function Ui(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var We=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new z(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new z(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new z(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Z=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new We(0,0))}static max(){return new n(new We(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ac=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&K(),r===void 0?r=e.length-t:r>e.length-t&&K(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),a=t.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Te=class n extends Ac{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},ZI=/^[_a-zA-Z][_a-zA-Z0-9]*$/,gt=class n extends Ac{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return ZI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new z(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},a=!1;for(;i<e.length;){let d=e[i];if(d==="\\"){if(i+1===e.length)throw new z(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new z(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else d==="`"?(a=!a,i++):d!=="."||a?(r+=d,i++):(s(),i++)}if(s(),a)throw new z(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var H=class n{constructor(e){this.path=e}static fromPath(e){return new n(Te.fromString(e))}static fromName(e){return new n(Te.fromString(e).popFirst(5))}static empty(){return new n(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Te.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Te(e.slice()))}};var Od=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Od.UNKNOWN_ID=-1;function eE(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new We(t+1,0):new We(t,r));return new Qr(i,H.empty(),e)}function tE(n){return new Qr(n.readTime,n.key,-1)}var Qr=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(Z.min(),H.empty(),-1)}static max(){return new n(Z.max(),H.empty(),-1)}};function nE(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=H.comparator(n.documentKey,e.documentKey),t!==0?t:ue(n.largestBatchId,e.largestBatchId))}var rE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Vd=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Co(n){return E(this,null,function*(){if(n.code!==O.FAILED_PRECONDITION||n.message!==rE)throw n;$("LocalStore","Unexpectedly lost primary lease")})}var M=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,a=!1;e.forEach(d=>{++i,d.next(()=>{++s,a&&s===i&&t()},f=>r(f))}),a=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,a=new Array(s),d=0;for(let f=0;f<s;f++){let m=f;t(e[m]).next(w=>{a[m]=w,++d,d===s&&r(a)},w=>i(w))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function iE(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function So(n){return n.name==="IndexedDbTransactionError"}var Kg=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function el(n){return n==null}function mo(n){return n===0&&1/n==-1/0}function sE(n){return typeof n=="number"&&Number.isInteger(n)&&!mo(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var oE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],iP=[...oE,"documentOverlays"],aE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cE=aE,lE=[...cE,"indexConfiguration","indexState","indexEntries"];var sP=[...lE,"globals"];function gg(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Qg(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ae=class n{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vi(this.root,e,this.comparator,!0)}},Vi=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Zt=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();let e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}};Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Xe=class n{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cc(this.data.getIterator())}getIteratorFrom(e){return new Cc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Cc=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Xt=class n{constructor(e){this.fields=e,e.sort(gt.comparator)}static empty(){return new n([])}unionWith(e){let t=new Xe(gt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ui(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Sc=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ze=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Sc("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ze.EMPTY_BYTE_STRING=new Ze("");var uE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bn(n){if(pe(!!n),typeof n=="string"){let e=0,t=uE.exec(n);if(pe(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ve(n.seconds),nanos:ve(n.nanos)}}function ve(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ur(n){return typeof n=="string"?Ze.fromBase64String(n):Ze.fromUint8Array(n)}function sf(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function of(n){let e=n.mapValue.fields.__previous_value__;return sf(e)?of(e):e}function go(n){let e=bn(n.mapValue.fields.__local_write_time__.timestampValue);return new We(e.seconds,e.nanos)}var Md=class{constructor(e,t,r,i,s,a,d,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m}},Pc=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var wc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Jr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sf(n)?4:Yg(n)?9007199254740991:Jg(n)?10:11:K()}function nn(n,e){if(n===e)return!0;let t=Jr(n);if(t!==Jr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return go(n).isEqual(go(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let a=bn(i.timestampValue),d=bn(s.timestampValue);return a.seconds===d.seconds&&a.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return ur(i.bytesValue).isEqual(ur(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return ve(i.geoPointValue.latitude)===ve(s.geoPointValue.latitude)&&ve(i.geoPointValue.longitude)===ve(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ve(i.integerValue)===ve(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let a=ve(i.doubleValue),d=ve(s.doubleValue);return a===d?mo(a)===mo(d):isNaN(a)&&isNaN(d)}return!1}(n,e);case 9:return Ui(n.arrayValue.values||[],e.arrayValue.values||[],nn);case 10:case 11:return function(i,s){let a=i.mapValue.fields||{},d=s.mapValue.fields||{};if(gg(a)!==gg(d))return!1;for(let f in a)if(a.hasOwnProperty(f)&&(d[f]===void 0||!nn(a[f],d[f])))return!1;return!0}(n,e);default:return K()}}function _o(n,e){return(n.values||[]).find(t=>nn(t,e))!==void 0}function Bi(n,e){if(n===e)return 0;let t=Jr(n),r=Jr(e);if(t!==r)return ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ue(n.booleanValue,e.booleanValue);case 2:return function(s,a){let d=ve(s.integerValue||s.doubleValue),f=ve(a.integerValue||a.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return _g(n.timestampValue,e.timestampValue);case 4:return _g(go(n),go(e));case 5:return ue(n.stringValue,e.stringValue);case 6:return function(s,a){let d=ur(s),f=ur(a);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(s,a){let d=s.split("/"),f=a.split("/");for(let m=0;m<d.length&&m<f.length;m++){let w=ue(d[m],f[m]);if(w!==0)return w}return ue(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,a){let d=ue(ve(s.latitude),ve(a.latitude));return d!==0?d:ue(ve(s.longitude),ve(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return yg(n.arrayValue,e.arrayValue);case 10:return function(s,a){var d,f,m,w;let _=s.fields||{},k=a.fields||{},x=(d=_.value)===null||d===void 0?void 0:d.arrayValue,U=(f=k.value)===null||f===void 0?void 0:f.arrayValue,j=ue(((m=x?.values)===null||m===void 0?void 0:m.length)||0,((w=U?.values)===null||w===void 0?void 0:w.length)||0);return j!==0?j:yg(x,U)}(n.mapValue,e.mapValue);case 11:return function(s,a){if(s===wc.mapValue&&a===wc.mapValue)return 0;if(s===wc.mapValue)return 1;if(a===wc.mapValue)return-1;let d=s.fields||{},f=Object.keys(d),m=a.fields||{},w=Object.keys(m);f.sort(),w.sort();for(let _=0;_<f.length&&_<w.length;++_){let k=ue(f[_],w[_]);if(k!==0)return k;let x=Bi(d[f[_]],m[w[_]]);if(x!==0)return x}return ue(f.length,w.length)}(n.mapValue,e.mapValue);default:throw K()}}function _g(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ue(n,e);let t=bn(n),r=bn(e),i=ue(t.seconds,r.seconds);return i!==0?i:ue(t.nanos,r.nanos)}function yg(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=Bi(t[i],r[i]);if(s)return s}return ue(t.length,r.length)}function ji(n){return Fd(n)}function Fd(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=bn(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ur(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return H.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=Fd(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let a of r)s?s=!1:i+=",",i+=`${a}:${Fd(t.fields[a])}`;return i+"}"}(n.mapValue):K()}function Ld(n){return!!n&&"integerValue"in n}function af(n){return!!n&&"arrayValue"in n}function wg(n){return!!n&&"nullValue"in n}function vg(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bc(n){return!!n&&"mapValue"in n}function Jg(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function lo(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Zi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=lo(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lo(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Yg(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var kt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!bc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lo(t)}setAll(e){let t=gt.emptyPath(),r={},i=[];e.forEach((a,d)=>{if(!t.isImmediateParentOf(d)){let f=this.getFieldsMap(t);this.applyChanges(f,r,i),r={},i=[],t=d.popLast()}a?r[d.lastSegment()]=lo(a):i.push(d.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());bc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return nn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];bc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Zi(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(lo(this.value))}};function Xg(n){let e=[];return Zi(n.fields,(t,r)=>{let i=new gt([t]);if(bc(r)){let s=Xg(r.mapValue).fields;if(s.length===0)e.push(i);else for(let a of s)e.push(i.child(a))}else e.push(i)}),new Xt(e)}var Dt=class n{constructor(e,t,r,i,s,a,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=d}static newInvalidDocument(e){return new n(e,0,Z.min(),Z.min(),Z.min(),kt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,Z.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,Z.min(),Z.min(),kt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Z.min(),Z.min(),kt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var qi=class{constructor(e,t){this.position=e,this.inclusive=t}};function bg(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],a=n.position[i];if(s.field.isKeyField()?r=H.comparator(H.fromName(a.referenceValue),t.key):r=Bi(a,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ig(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!nn(n.position[t],e.position[t]))return!1;return!0}var $i=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function dE(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Rc=class{},Fe=class n extends Rc{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Bd(e,t,r):t==="array-contains"?new $d(e,r):t==="in"?new zd(e,r):t==="not-in"?new Gd(e,r):t==="array-contains-any"?new Hd(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new jd(e,r):new qd(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Bi(t,this.value)):t!==null&&Jr(this.value)===Jr(t)&&this.matchesComparison(Bi(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},rn=class n extends Rc{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return Zg(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Zg(n){return n.op==="and"}function e_(n){return hE(n)&&Zg(n)}function hE(n){for(let e of n.filters)if(e instanceof rn)return!1;return!0}function Ud(n){if(n instanceof Fe)return n.field.canonicalString()+n.op.toString()+ji(n.value);if(e_(n))return n.filters.map(e=>Ud(e)).join(",");{let e=n.filters.map(t=>Ud(t)).join(",");return`${n.op}(${e})`}}function t_(n,e){return n instanceof Fe?function(r,i){return i instanceof Fe&&r.op===i.op&&r.field.isEqual(i.field)&&nn(r.value,i.value)}(n,e):n instanceof rn?function(r,i){return i instanceof rn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,d)=>s&&t_(a,i.filters[d]),!0):!1}(n,e):void K()}function n_(n){return n instanceof Fe?function(t){return`${t.field.canonicalString()} ${t.op} ${ji(t.value)}`}(n):n instanceof rn?function(t){return t.op.toString()+" {"+t.getFilters().map(n_).join(" ,")+"}"}(n):"Filter"}var Bd=class extends Fe{constructor(e,t,r){super(e,t,r),this.key=H.fromName(r.referenceValue)}matches(e){let t=H.comparator(e.key,this.key);return this.matchesComparison(t)}},jd=class extends Fe{constructor(e,t){super(e,"in",t),this.keys=r_("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},qd=class extends Fe{constructor(e,t){super(e,"not-in",t),this.keys=r_("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function r_(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>H.fromName(r.referenceValue))}var $d=class extends Fe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return af(t)&&_o(t.arrayValue,this.value)}},zd=class extends Fe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&_o(this.value.arrayValue,t)}},Gd=class extends Fe{constructor(e,t){super(e,"not-in",t)}matches(e){if(_o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!_o(this.value.arrayValue,t)}},Hd=class extends Fe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!af(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>_o(this.value.arrayValue,r))}};var Wd=class{constructor(e,t=null,r=[],i=[],s=null,a=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=d,this.ue=null}};function Eg(n,e=null,t=[],r=[],i=null,s=null,a=null){return new Wd(n,e,t,r,i,s,a)}function cf(n){let e=Y(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Ud(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),el(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ji(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ji(r)).join(",")),e.ue=t}return e.ue}function lf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dE(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!t_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ig(n.startAt,e.startAt)&&Ig(n.endAt,e.endAt)}function Kd(n){return H.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var zi=class{constructor(e,t=null,r=[],i=[],s=null,a="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function fE(n,e,t,r,i,s,a,d){return new zi(n,e,t,r,i,s,a,d)}function uf(n){return new zi(n)}function Tg(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function pE(n){return n.collectionGroup!==null}function uo(n){let e=Y(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let d=new Xe(gt.comparator);return a.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new $i(s,r))}),t.has(gt.keyField().canonicalString())||e.ce.push(new $i(gt.keyField(),r))}return e.ce}function en(n){let e=Y(n);return e.le||(e.le=mE(e,uo(n))),e.le}function mE(n,e){if(n.limitType==="F")return Eg(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new $i(i.field,s)});let t=n.endAt?new qi(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new qi(n.startAt.position,n.startAt.inclusive):null;return Eg(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Qd(n,e,t){return new zi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function tl(n,e){return lf(en(n),en(e))&&n.limitType===e.limitType}function i_(n){return`${cf(en(n))}|lt:${n.limitType}`}function xi(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>n_(i)).join(", ")}]`),el(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ji(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ji(i)).join(",")),`Target(${r})`}(en(n))}; limitType=${n.limitType})`}function nl(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):H.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of uo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(a,d,f){let m=bg(a,d,f);return a.inclusive?m<=0:m<0}(r.startAt,uo(r),i)||r.endAt&&!function(a,d,f){let m=bg(a,d,f);return a.inclusive?m>=0:m>0}(r.endAt,uo(r),i))}(n,e)}function gE(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function s_(n){return(e,t)=>{let r=!1;for(let i of uo(n)){let s=_E(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function _E(n,e,t){let r=n.field.isKeyField()?H.comparator(e.key,t.key):function(s,a,d){let f=a.data.field(s),m=d.data.field(s);return f!==null&&m!==null?Bi(f,m):K()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}var dr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zi(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Qg(this.inner)}size(){return this.innerSize}};var yE=new Ae(H.comparator);function In(){return yE}var o_=new Ae(H.comparator);function co(...n){let e=o_;for(let t of n)e=e.insert(t.key,t);return e}function a_(n){let e=o_;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function zr(){return ho()}function c_(){return ho()}function ho(){return new dr(n=>n.toString(),(n,e)=>n.isEqual(e))}var wE=new Ae(H.comparator),vE=new Xe(H.comparator);function oe(...n){let e=vE;for(let t of n)e=e.add(t);return e}var bE=new Xe(ue);function IE(){return bE}function df(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mo(e)?"-0":e}}function l_(n){return{integerValue:""+n}}function EE(n,e){return sE(e)?l_(e):df(n,e)}var Gi=class{constructor(){this._=void 0}};function TE(n,e,t){return n instanceof Hi?function(i,s){let a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&sf(s)&&(s=of(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(t,e):n instanceof Yr?d_(n,e):n instanceof Xr?h_(n,e):function(i,s){let a=u_(i,s),d=Ag(a)+Ag(i.Pe);return Ld(a)&&Ld(i.Pe)?l_(d):df(i.serializer,d)}(n,e)}function AE(n,e,t){return n instanceof Yr?d_(n,e):n instanceof Xr?h_(n,e):t}function u_(n,e){return n instanceof Wi?function(r){return Ld(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Hi=class extends Gi{},Yr=class extends Gi{constructor(e){super(),this.elements=e}};function d_(n,e){let t=f_(e);for(let r of n.elements)t.some(i=>nn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Xr=class extends Gi{constructor(e){super(),this.elements=e}};function h_(n,e){let t=f_(e);for(let r of n.elements)t=t.filter(i=>!nn(i,r));return{arrayValue:{values:t}}}var Wi=class extends Gi{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function Ag(n){return ve(n.integerValue||n.doubleValue)}function f_(n){return af(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function CE(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Yr&&i instanceof Yr||r instanceof Xr&&i instanceof Xr?Ui(r.elements,i.elements,nn):r instanceof Wi&&i instanceof Wi?nn(r.Pe,i.Pe):r instanceof Hi&&i instanceof Hi}(n.transform,e.transform)}var Jd=class{constructor(e,t){this.version=e,this.transformResults=t}},Wr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ic(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ki=class{};function p_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new kc(n.key,Wr.none()):new Zr(n.key,n.data,Wr.none());{let t=n.data,r=kt.empty(),i=new Xe(gt.comparator);for(let s of e.fields)if(!i.has(s)){let a=t.field(s);a===null&&s.length>1&&(s=s.popLast(),a=t.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new En(n.key,r,new Xt(i.toArray()),Wr.none())}}function SE(n,e,t){n instanceof Zr?function(i,s,a){let d=i.value.clone(),f=Sg(i.fieldTransforms,s,a.transformResults);d.setAll(f),s.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(n,e,t):n instanceof En?function(i,s,a){if(!Ic(i.precondition,s))return void s.convertToUnknownDocument(a.version);let d=Sg(i.fieldTransforms,s,a.transformResults),f=s.data;f.setAll(m_(i)),f.setAll(d),s.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,t)}function fo(n,e,t,r){return n instanceof Zr?function(s,a,d,f){if(!Ic(s.precondition,a))return d;let m=s.value.clone(),w=Pg(s.fieldTransforms,f,a);return m.setAll(w),a.convertToFoundDocument(a.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof En?function(s,a,d,f){if(!Ic(s.precondition,a))return d;let m=Pg(s.fieldTransforms,f,a),w=a.data;return w.setAll(m_(s)),w.setAll(m),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),d===null?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(s,a,d){return Ic(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):d}(n,e,t)}function PE(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=u_(r.transform,i||null);s!=null&&(t===null&&(t=kt.empty()),t.set(r.field,s))}return t||null}function Cg(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ui(r,i,(s,a)=>CE(s,a))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Zr=class extends Ki{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},En=class extends Ki{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function m_(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function Sg(n,e,t){let r=new Map;pe(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],a=s.transform,d=e.data.field(s.field);r.set(s.field,AE(a,d,t[i]))}return r}function Pg(n,e,t){let r=new Map;for(let i of n){let s=i.transform,a=t.data.field(i.field);r.set(i.field,TE(s,a,e))}return r}var kc=class extends Ki{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Yd=class extends Ki{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Xd=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&SE(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=fo(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=fo(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=c_();return this.mutations.forEach(i=>{let s=e.get(i.key),a=s.overlayedDocument,d=this.applyToLocalView(a,s.mutatedFields);d=t.has(i.key)?null:d;let f=p_(a,d);f!==null&&r.set(i.key,f),a.isValidDocument()||a.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),oe())}isEqual(e){return this.batchId===e.batchId&&Ui(this.mutations,e.mutations,(t,r)=>Cg(t,r))&&Ui(this.baseMutations,e.baseMutations,(t,r)=>Cg(t,r))}},Zd=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){pe(e.mutations.length===r.length);let i=function(){return wE}(),s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new n(e,t,r,i)}};var eh=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var th=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var De,ce;function RE(n){switch(n){default:return K();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function g_(n){if(n===void 0)return vn("GRPC error has no .code"),O.UNKNOWN;switch(n){case De.OK:return O.OK;case De.CANCELLED:return O.CANCELLED;case De.UNKNOWN:return O.UNKNOWN;case De.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case De.INTERNAL:return O.INTERNAL;case De.UNAVAILABLE:return O.UNAVAILABLE;case De.UNAUTHENTICATED:return O.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case De.NOT_FOUND:return O.NOT_FOUND;case De.ALREADY_EXISTS:return O.ALREADY_EXISTS;case De.PERMISSION_DENIED:return O.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case De.ABORTED:return O.ABORTED;case De.OUT_OF_RANGE:return O.OUT_OF_RANGE;case De.UNIMPLEMENTED:return O.UNIMPLEMENTED;case De.DATA_LOSS:return O.DATA_LOSS;default:return K()}}(ce=De||(De={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";var Rg=null;function kE(){return new TextEncoder}var DE=new cr([4294967295,4294967295],0);function kg(n){let e=kE().encode(n),t=new _d;return t.update(e),new Uint8Array(t.digest())}function Dg(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new cr([t,r],0),new cr([i,s],0)]}var nh=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Gr(`Invalid padding: ${t}`);if(r<0)throw new Gr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gr(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Gr(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=cr.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(cr.fromNumber(r)));return i.compare(DE)===1&&(i=new cr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=kg(e),[r,i]=Dg(t);for(let s=0;s<this.hashCount;s++){let a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new n(s,i,t);return r.forEach(d=>a.insert(d)),a}insert(e){if(this.Ie===0)return;let t=kg(e),[r,i]=Dg(t);for(let s=0;s<this.hashCount;s++){let a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Gr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Dc=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,yo.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(Z.min(),i,new Ae(ue),In(),oe())}},yo=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,oe(),oe(),oe())}};var Mi=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},xc=class{constructor(e,t){this.targetId=e,this.me=t}},Nc=class{constructor(e,t,r=Ze.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Oc=class{constructor(){this.fe=0,this.ge=Ng(),this.pe=Ze.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=oe(),t=oe(),r=oe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:K()}}),new yo(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=Ng()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,pe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},rh=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=In(),this.qe=xg(),this.Qe=new Ae(ue)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:K()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(Kd(s))if(r===0){let a=new H(s.path);this.Ue(t,a,Dt.newNoDocument(a,Z.min()))}else pe(r===1);else{let a=this.Ye(t);if(a!==r){let d=this.Ze(e),f=d?this.Xe(d,e,a):1;if(f!==0){this.je(t);let m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,m)}Rg?.et(function(w,_,k,x,U){var j,N,G,ee,X,te;let ge={localCacheCount:w,existenceFilterCount:_.count,databaseId:k.database,projectId:k.projectId},re=_.unchangedNames;return re&&(ge.bloomFilter={applied:U===0,hashCount:(j=re?.hashCount)!==null&&j!==void 0?j:0,bitmapLength:(ee=(G=(N=re?.bits)===null||N===void 0?void 0:N.bitmap)===null||G===void 0?void 0:G.length)!==null&&ee!==void 0?ee:0,padding:(te=(X=re?.bits)===null||X===void 0?void 0:X.padding)!==null&&te!==void 0?te:0,mightContain:S=>{var v;return(v=x?.mightContain(S))!==null&&v!==void 0&&v}}),ge}(a,e.me,this.Le.tt(),d,f))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,a,d;try{a=ur(r).toUint8Array()}catch(f){if(f instanceof Sc)return Li("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new nh(a,i,s)}catch(f){return Li(f instanceof Gr?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Ie===0?null:d}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let a=this.Le.tt(),d=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(d)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,a)=>{let d=this.Je(a);if(d){if(s.current&&Kd(d.target)){let f=new H(d.target.path);this.ke.get(f)!==null||this.it(a,f)||this.Ue(a,f,Dt.newNoDocument(f,e))}s.be&&(t.set(a,s.ve()),s.Ce())}});let r=oe();this.qe.forEach((s,a)=>{let d=!0;a.forEachWhile(f=>{let m=this.Je(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));let i=new Dc(e,t,this.Qe,this.ke,r);return this.ke=In(),this.qe=xg(),this.Qe=new Ae(ue),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Oc,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Xe(ue),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||$("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Oc),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function xg(){return new Ae(H.comparator)}function Ng(){return new Ae(H.comparator)}var xE={asc:"ASCENDING",desc:"DESCENDING"},NE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OE={and:"AND",or:"OR"},ih=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function sh(n,e){return n.useProto3Json||el(e)?e:{value:e}}function Vc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function __(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function VE(n,e){return Vc(n,e.toTimestamp())}function tn(n){return pe(!!n),Z.fromTimestamp(function(t){let r=bn(t);return new We(r.seconds,r.nanos)}(n))}function hf(n,e){return oh(n,e).canonicalString()}function oh(n,e){let t=function(i){return new Te(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function y_(n){let e=Te.fromString(n);return pe(E_(e)),e}function ah(n,e){return hf(n.databaseId,e.path)}function Ed(n,e){let t=y_(e);if(t.get(1)!==n.databaseId.projectId)throw new z(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new z(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new H(v_(t))}function w_(n,e){return hf(n.databaseId,e)}function ME(n){let e=y_(n);return e.length===4?Te.emptyPath():v_(e)}function ch(n){return new Te(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function v_(n){return pe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Og(n,e,t){return{name:ah(n,e),fields:t.value.mapValue.fields}}function FE(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(m,w){return m.useProto3Json?(pe(w===void 0||typeof w=="string"),Ze.fromBase64String(w||"")):(pe(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Ze.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),a=e.targetChange.cause,d=a&&function(m){let w=m.code===void 0?O.UNKNOWN:g_(m.code);return new z(w,m.message||"")}(a);t=new Nc(r,i,s,d||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Ed(n,r.document.name),s=tn(r.document.updateTime),a=r.document.createTime?tn(r.document.createTime):Z.min(),d=new kt({mapValue:{fields:r.document.fields}}),f=Dt.newFoundDocument(i,s,a,d),m=r.targetIds||[],w=r.removedTargetIds||[];t=new Mi(m,w,f.key,f)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Ed(n,r.document),s=r.readTime?tn(r.readTime):Z.min(),a=Dt.newNoDocument(i,s),d=r.removedTargetIds||[];t=new Mi([],d,a.key,a)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Ed(n,r.document),s=r.removedTargetIds||[];t=new Mi([],s,i,null)}else{if(!("filter"in e))return K();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,a=new th(i,s),d=r.targetId;t=new xc(d,a)}}return t}function LE(n,e){let t;if(e instanceof Zr)t={update:Og(n,e.key,e.value)};else if(e instanceof kc)t={delete:ah(n,e.key)};else if(e instanceof En)t={update:Og(n,e.key,e.data),updateMask:WE(e.fieldMask)};else{if(!(e instanceof Yd))return K();t={verify:ah(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,a){let d=a.transform;if(d instanceof Hi)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Yr)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Xr)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Wi)return{fieldPath:a.field.canonicalString(),increment:d.Pe};throw K()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:VE(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:K()}(n,e.precondition)),t}function UE(n,e){return n&&n.length>0?(pe(e!==void 0),n.map(t=>function(i,s){let a=i.updateTime?tn(i.updateTime):tn(s);return a.isEqual(Z.min())&&(a=tn(s)),new Jd(a,i.transformResults||[])}(t,e))):[]}function BE(n,e){return{documents:[w_(n,e.path)]}}function jE(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=w_(n,i);let s=function(m){if(m.length!==0)return I_(rn.create(m,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let a=function(m){if(m.length!==0)return m.map(w=>function(k){return{field:Ni(k.field),direction:zE(k.dir)}}(w))}(e.orderBy);a&&(t.structuredQuery.orderBy=a);let d=sh(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{_t:t,parent:i}}function qE(n){let e=ME(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){pe(r===1);let w=t.from[0];w.allDescendants?i=w.collectionId:e=e.child(w.collectionId)}let s=[];t.where&&(s=function(_){let k=b_(_);return k instanceof rn&&e_(k)?k.getFilters():[k]}(t.where));let a=[];t.orderBy&&(a=function(_){return _.map(k=>function(U){return new $i(Oi(U.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(k))}(t.orderBy));let d=null;t.limit&&(d=function(_){let k;return k=typeof _=="object"?_.value:_,el(k)?null:k}(t.limit));let f=null;t.startAt&&(f=function(_){let k=!!_.before,x=_.values||[];return new qi(x,k)}(t.startAt));let m=null;return t.endAt&&(m=function(_){let k=!_.before,x=_.values||[];return new qi(x,k)}(t.endAt)),fE(e,i,a,s,d,"F",f,m)}function $E(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function b_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Oi(t.unaryFilter.field);return Fe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Oi(t.unaryFilter.field);return Fe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Oi(t.unaryFilter.field);return Fe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let a=Oi(t.unaryFilter.field);return Fe.create(a,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(n):n.fieldFilter!==void 0?function(t){return Fe.create(Oi(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return rn.create(t.compositeFilter.filters.map(r=>b_(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K()}}(t.compositeFilter.op))}(n):K()}function zE(n){return xE[n]}function GE(n){return NE[n]}function HE(n){return OE[n]}function Ni(n){return{fieldPath:n.canonicalString()}}function Oi(n){return gt.fromServerFormat(n.fieldPath)}function I_(n){return n instanceof Fe?function(t){if(t.op==="=="){if(vg(t.value))return{unaryFilter:{field:Ni(t.field),op:"IS_NAN"}};if(wg(t.value))return{unaryFilter:{field:Ni(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(vg(t.value))return{unaryFilter:{field:Ni(t.field),op:"IS_NOT_NAN"}};if(wg(t.value))return{unaryFilter:{field:Ni(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ni(t.field),op:GE(t.op),value:t.value}}}(n):n instanceof rn?function(t){let r=t.getFilters().map(i=>I_(i));return r.length===1?r[0]:{compositeFilter:{op:HE(t.op),filters:r}}}(n):K()}function WE(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function E_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var wo=class n{constructor(e,t,r,i,s=Z.min(),a=Z.min(),d=Ze.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var lh=class{constructor(e){this.ct=e}};function KE(n){let e=qE({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Qd(e,e.limit,"L"):e}var Mc=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ve(e.integerValue));else if("doubleValue"in e){let r=ve(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),mo(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=bn(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(ur(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?Yg(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Jg(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):K()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let a="value",d=((i=(r=s[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(ve(d)),this.Vt(a,t),this.Tt(s[a],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),H.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Mc.vt=new Mc;var uh=class{constructor(){this.un=new dh}addToCollectionParentIndex(e,t){return this.un.add(t),M.resolve()}getCollectionParents(e,t){return M.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return M.resolve()}deleteFieldIndex(e,t){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,t){return M.resolve()}getDocumentsMatchingTarget(e,t){return M.resolve(null)}getIndexType(e,t){return M.resolve(0)}getFieldIndexes(e,t){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,t){return M.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,t){return M.resolve(Qr.min())}updateCollectionGroup(e,t,r){return M.resolve()}updateIndexEntries(e,t){return M.resolve()}},dh=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Xe(Te.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xe(Te.comparator)).toArray()}};var aP=new Uint8Array(0);var Yt=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(41943040,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);var vo=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var hh=class{constructor(){this.changes=new dr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?M.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var fh=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var ph=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&fo(r.mutation,i,Xt.empty(),We.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=oe()){let i=zr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let a=co();return s.forEach((d,f)=>{a=a.insert(d,f.overlayedDocument)}),a}))}getOverlayedDocuments(e,t){let r=zr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,oe()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,d)=>{t.set(a,d)})})}computeViews(e,t,r,i){let s=In(),a=ho(),d=function(){return ho()}();return t.forEach((f,m)=>{let w=r.get(m.key);i.has(m.key)&&(w===void 0||w.mutation instanceof En)?s=s.insert(m.key,m):w!==void 0?(a.set(m.key,w.mutation.getFieldMask()),fo(w.mutation,m,w.mutation.getFieldMask(),We.now())):a.set(m.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,s).next(f=>(f.forEach((m,w)=>a.set(m,w)),t.forEach((m,w)=>{var _;return d.set(m,new fh(w,(_=a.get(m))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,t){let r=ho(),i=new Ae((a,d)=>a-d),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(a=>{for(let d of a)d.keys().forEach(f=>{let m=t.get(f);if(m===null)return;let w=r.get(f)||Xt.empty();w=d.applyToLocalView(m,w),r.set(f,w);let _=(i.get(d.batchId)||oe()).add(f);i=i.insert(d.batchId,_)})}).next(()=>{let a=[],d=i.getReverseIterator();for(;d.hasNext();){let f=d.getNext(),m=f.key,w=f.value,_=c_();w.forEach(k=>{if(!s.has(k)){let x=p_(t.get(k),r.get(k));x!==null&&_.set(k,x),s=s.add(k)}}),a.push(this.documentOverlayCache.saveOverlays(e,m,_))}return M.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(a){return H.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):M.resolve(zr()),d=-1,f=s;return a.next(m=>M.forEach(m,(w,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),s.get(w)?M.resolve():this.remoteDocumentCache.getEntry(e,w).next(k=>{f=f.insert(w,k)}))).next(()=>this.populateOverlays(e,m,s)).next(()=>this.computeViews(e,f,m,oe())).next(w=>({batchId:d,changes:a_(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new H(t)).next(r=>{let i=co();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,a=co();return this.indexManager.getCollectionParents(e,s).next(d=>M.forEach(d,f=>{let m=function(_,k){return new zi(k,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next(w=>{w.forEach((_,k)=>{a=a.insert(_,k)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(a=>{s.forEach((f,m)=>{let w=m.getKey();a.get(w)===null&&(a=a.insert(w,Dt.newInvalidDocument(w)))});let d=co();return a.forEach((f,m)=>{let w=s.get(f);w!==void 0&&fo(w.mutation,m,Xt.empty(),We.now()),nl(t,m)&&(d=d.insert(f,m))}),d})}};var mh=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return M.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:tn(i.createTime)}}(t)),M.resolve()}getNamedQuery(e,t){return M.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:KE(i.bundledQuery),readTime:tn(i.readTime)}}(t)),M.resolve()}};var gh=class{constructor(){this.overlays=new Ae(H.comparator),this.Ir=new Map}getOverlay(e,t){return M.resolve(this.overlays.get(t))}getOverlays(e,t){let r=zr();return M.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),M.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(e,t,r){let i=zr(),s=t.length+1,a=new H(t.child("")),d=this.overlays.getIteratorFrom(a);for(;d.hasNext();){let f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return M.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Ae((m,w)=>m-w),a=this.overlays.getIterator();for(;a.hasNext();){let m=a.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let w=s.get(m.largestBatchId);w===null&&(w=zr(),s=s.insert(m.largestBatchId,w)),w.set(m.getKey(),m)}}let d=zr(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,w)=>d.set(m,w)),!(d.size()>=i)););return M.resolve(d)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new eh(t,r));let s=this.Ir.get(t);s===void 0&&(s=oe(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}};var _h=class{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,M.resolve()}};var bo=class{constructor(){this.Tr=new Xe(xe.Er),this.dr=new Xe(xe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new xe(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new xe(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new H(new Te([])),r=new xe(t,e),i=new xe(t,e+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new H(new Te([])),r=new xe(t,e),i=new xe(t,e+1),s=oe();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){let t=new xe(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},xe=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return H.comparator(e.key,t.key)||ue(e.wr,t.wr)}static Ar(e,t){return ue(e.wr,t.wr)||H.comparator(e.key,t.key)}};var yh=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Xe(xe.Er)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new Xd(s,t,r,i);this.mutationQueue.push(a);for(let d of i)this.br=this.br.add(new xe(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return M.resolve(a)}lookupMutationBatch(e,t){return M.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new xe(t,0),i=new xe(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{let d=this.Dr(a.wr);s.push(d)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xe(ue);return t.forEach(i=>{let s=new xe(i,0),a=new xe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],d=>{r=r.add(d.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;H.isDocumentKey(s)||(s=s.child(""));let a=new xe(new H(s),0),d=new Xe(ue);return this.br.forEachWhile(f=>{let m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(d=d.add(f.wr)),!0)},a),M.resolve(this.Cr(d))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){pe(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return M.forEach(t.mutations,i=>{let s=new xe(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new xe(t,0),i=this.br.firstAfterOrEqual(r);return M.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var wh=class{constructor(e){this.Mr=e,this.docs=function(){return new Ae(H.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return M.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(t))}getEntries(e,t){let r=In();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Dt.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=In(),a=t.path,d=new H(a.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){let{key:m,value:{document:w}}=f.getNext();if(!a.isPrefixOf(m.path))break;m.path.length>a.length+1||nE(tE(w),r)<=0||(i.has(w.key)||nl(t,w))&&(s=s.insert(w.key,w.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,t,r,i){K()}Or(e,t){return M.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new vh(this)}getSize(e){return M.resolve(this.size)}},vh=class extends hh{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),M.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var bh=class{constructor(e){this.persistence=e,this.Nr=new dr(t=>cf(t),lf),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Lr=0,this.Br=new bo,this.targetCount=0,this.kr=vo.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),M.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new vo(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,M.resolve()}updateTargetData(e,t){return this.Kn(t),M.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Nr.forEach((a,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return M.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),M.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),M.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return M.resolve(r)}containsKey(e,t){return M.resolve(this.Br.containsKey(t))}};var Ih=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Kg(0),this.Kr=!1,this.Kr=!0,this.$r=new _h,this.referenceDelegate=e(this),this.Ur=new bh(this),this.indexManager=new uh,this.remoteDocumentCache=function(i){return new wh(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new lh(t),this.Gr=new mh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new yh(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){$("MemoryPersistence","Starting transaction:",e);let i=new Eh(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},Eh=class extends Vd{constructor(e){super(),this.currentSequenceNumber=e}},Th=class n{constructor(e){this.persistence=e,this.Jr=new bo,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw K()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),M.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),M.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{let i=H.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,Z.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return M.or([()=>M.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var Ah=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=oe(),i=oe();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var Ch=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Sh=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Kp()?8:iE(je())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Yi(e,t).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;let a=new Ch;return this.Xi(e,t,a).next(d=>{if(s.result=d,this.zi)return this.es(e,t,a,d.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(ao()<=se.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",xi(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):(ao()<=se.DEBUG&&$("QueryEngine","Query:",xi(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ao()<=se.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",xi(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,en(t))):M.resolve())}Yi(e,t){if(Tg(t))return M.resolve(null);let r=en(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Qd(t,null,"F"),r=en(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let a=oe(...s);return this.Ji.getDocuments(e,a).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{let m=this.ts(t,d);return this.ns(t,m,a,f.readTime)?this.Yi(e,Qd(t,null,"F")):this.rs(e,m,t,f)}))})))}Zi(e,t,r,i){return Tg(t)||i.isEqual(Z.min())?M.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let a=this.ts(t,s);return this.ns(t,a,r,i)?M.resolve(null):(ao()<=se.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xi(t)),this.rs(e,a,t,eE(i,-1)).next(d=>d))})}ts(e,t){let r=new Xe(s_(e));return t.forEach((i,s)=>{nl(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return ao()<=se.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",xi(t)),this.Ji.getDocumentsMatchingQuery(e,t,Qr.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(a=>{s=s.insert(a.key,a)}),s))}};var Ph=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Ae(ue),this._s=new dr(s=>cf(s),lf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ph(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function QE(n,e,t,r){return new Ph(n,e,t,r)}function T_(n,e){return E(this,null,function*(){let t=Y(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let a=[],d=[],f=oe();for(let m of i){a.push(m.batchId);for(let w of m.mutations)f=f.add(w.key)}for(let m of s){d.push(m.batchId);for(let w of m.mutations)f=f.add(w.key)}return t.localDocuments.getDocuments(r,f).next(m=>({hs:m,removedBatchIds:a,addedBatchIds:d}))})})})}function JE(n,e){let t=Y(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(d,f,m,w){let _=m.batch,k=_.keys(),x=M.resolve();return k.forEach(U=>{x=x.next(()=>w.getEntry(f,U)).next(j=>{let N=m.docVersions.get(U);pe(N!==null),j.version.compareTo(N)<0&&(_.applyToRemoteDocument(j,m),j.isValidDocument()&&(j.setReadTime(m.commitVersion),w.addEntry(j)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(f,_))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=oe();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function A_(n){let e=Y(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function YE(n,e){let t=Y(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let a=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let d=[];e.targetChanges.forEach((w,_)=>{let k=i.get(_);if(!k)return;d.push(t.Ur.removeMatchingKeys(s,w.removedDocuments,_).next(()=>t.Ur.addMatchingKeys(s,w.addedDocuments,_)));let x=k.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(_)!==null?x=x.withResumeToken(Ze.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):w.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(w.resumeToken,r)),i=i.insert(_,x),function(j,N,G){return j.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(k,x,w)&&d.push(t.Ur.updateTargetData(s,x))});let f=In(),m=oe();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(s,w))}),d.push(XE(s,a,e.documentUpdates).next(w=>{f=w.Ps,m=w.Is})),!r.isEqual(Z.min())){let w=t.Ur.getLastRemoteSnapshotVersion(s).next(_=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));d.push(w)}return M.waitFor(d).next(()=>a.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,f,m)).next(()=>f)}).then(s=>(t.os=i,s))}function XE(n,e,t){let r=oe(),i=oe();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let a=In();return t.forEach((d,f)=>{let m=s.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(Z.min())?(e.removeEntry(d,f.readTime),a=a.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),a=a.insert(d,f)):$("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{Ps:a,Is:i}})}function ZE(n,e){let t=Y(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function eT(n,e){let t=Y(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):t.Ur.allocateTargetId(r).next(a=>(i=new wo(e,a,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function Rh(n,e,t){return E(this,null,function*(){let r=Y(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!So(a))throw a;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function Vg(n,e,t){let r=Y(n),i=Z.min(),s=oe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(f,m,w){let _=Y(f),k=_._s.get(w);return k!==void 0?M.resolve(_.os.get(k)):_.Ur.getTargetData(m,w)}(r,a,en(e)).next(d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,d.targetId).next(f=>{s=f})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,t?i:Z.min(),t?s:oe())).next(d=>(tT(r,gE(e),d),{documents:d,Ts:s})))}function tT(n,e,t){let r=n.us.get(e)||Z.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}var Fc=class{constructor(){this.activeTargetIds=IE()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var kh=class{constructor(){this.so=new Fc,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Fc,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Dh=class{_o(e){}shutdown(){}};var Lc=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var vc=null;function Td(){return vc===null?vc=function(){return 268435456+Math.round(2147483648*Math.random())}():vc++,"0x"+vc.toString(16)}var nT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var xh=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ye="WebChannelConnection",Nh=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,a){let d=Td(),f=this.xo(t,r.toUriEncodedString());$("RestConnection",`Sending RPC '${t}' ${d}:`,f,i);let m={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(m,s,a),this.No(t,f,m,i).then(w=>($("RestConnection",`Received RPC '${t}' ${d}: `,w),w),w=>{throw Li("RestConnection",`RPC '${t}' ${d} failed with error: `,w,"url: ",f,"request:",i),w})}Lo(t,r,i,s,a,d){return this.Mo(t,r,i,s,a)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xi}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>t[a]=s),i&&i.headers.forEach((s,a)=>t[a]=s)}xo(t,r){let i=nT[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let s=Td();return new Promise((a,d)=>{let f=new yd;f.setWithCredentials(!0),f.listenOnce(wd.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case oo.NO_ERROR:let w=f.getResponseJson();$(Ye,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(w)),a(w);break;case oo.TIMEOUT:$(Ye,`RPC '${e}' ${s} timed out`),d(new z(O.DEADLINE_EXCEEDED,"Request time out"));break;case oo.HTTP_ERROR:let _=f.getStatus();if($(Ye,`RPC '${e}' ${s} failed with status:`,_,"response text:",f.getResponseText()),_>0){let k=f.getResponseJson();Array.isArray(k)&&(k=k[0]);let x=k?.error;if(x&&x.status&&x.message){let U=function(N){let G=N.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(G)>=0?G:O.UNKNOWN}(x.status);d(new z(U,x.message))}else d(new z(O.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new z(O.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{$(Ye,`RPC '${e}' ${s} completed.`)}});let m=JSON.stringify(i);$(Ye,`RPC '${e}' ${s} sending request:`,i),f.send(t,"POST",m,r,15)})}Bo(e,t,r){let i=Td(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Id(),d=bd(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Oo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;let w=s.join("");$(Ye,`Creating RPC '${e}' stream ${i}: ${w}`,f);let _=a.createWebChannel(w,f),k=!1,x=!1,U=new xh({Io:N=>{x?$(Ye,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(k||($(Ye,`Opening RPC '${e}' stream ${i} transport.`),_.open(),k=!0),$(Ye,`RPC '${e}' stream ${i} sending:`,N),_.send(N))},To:()=>_.close()}),j=(N,G,ee)=>{N.listen(G,X=>{try{ee(X)}catch(te){setTimeout(()=>{throw te},0)}})};return j(_,Di.EventType.OPEN,()=>{x||($(Ye,`RPC '${e}' stream ${i} transport opened.`),U.yo())}),j(_,Di.EventType.CLOSE,()=>{x||(x=!0,$(Ye,`RPC '${e}' stream ${i} transport closed`),U.So())}),j(_,Di.EventType.ERROR,N=>{x||(x=!0,Li(Ye,`RPC '${e}' stream ${i} transport errored:`,N),U.So(new z(O.UNAVAILABLE,"The operation could not be completed")))}),j(_,Di.EventType.MESSAGE,N=>{var G;if(!x){let ee=N.data[0];pe(!!ee);let X=ee,te=X.error||((G=X[0])===null||G===void 0?void 0:G.error);if(te){$(Ye,`RPC '${e}' stream ${i} received error:`,te);let ge=te.status,re=function(b){let T=De[b];if(T!==void 0)return g_(T)}(ge),S=te.message;re===void 0&&(re=O.INTERNAL,S="Unknown error status: "+ge+" with message "+te.message),x=!0,U.So(new z(re,S)),_.close()}else $(Ye,`RPC '${e}' stream ${i} received:`,ee),U.bo(ee)}}),j(d,vd.STAT_EVENT,N=>{N.stat===yc.PROXY?$(Ye,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===yc.NOPROXY&&$(Ye,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{U.wo()},0),U}};function Ad(){return typeof document<"u"?document:null}function rl(n){return new ih(n,!0)}var Uc=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Bc=class{constructor(e,t,r,i,s,a,d,f){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Uc(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return E(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return E(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return E(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(vn(t.toString()),vn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new z(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>E(this,null,function*(){this.state=0,this.start()}))}I_(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Oh=class extends Bc{constructor(e,t,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=FE(this.serializer,e),r=function(s){if(!("targetChange"in s))return Z.min();let a=s.targetChange;return a.targetIds&&a.targetIds.length?Z.min():a.readTime?tn(a.readTime):Z.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=ch(this.serializer),t.addTarget=function(s,a){let d,f=a.target;if(d=Kd(f)?{documents:BE(s,f)}:{query:jE(s,f)._t},d.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){d.resumeToken=__(s,a.resumeToken);let m=sh(s,a.expectedCount);m!==null&&(d.expectedCount=m)}else if(a.snapshotVersion.compareTo(Z.min())>0){d.readTime=Vc(s,a.snapshotVersion.toTimestamp());let m=sh(s,a.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);let r=$E(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=ch(this.serializer),t.removeTarget=e,this.a_(t)}},Vh=class extends Bc{constructor(e,t,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return pe(!!e.streamToken),this.lastStreamToken=e.streamToken,pe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=UE(e.writeResults,e.commitTime),r=tn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=ch(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>LE(this.serializer,r))};this.a_(t)}};var Mh=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new z(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,oh(t,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(O.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.connection.Lo(e,oh(t,r),i,a,d,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new z(O.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Fh=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(vn(t),this.D_=!1):$("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Lh=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(()=>E(this,null,function*(){ei(this)&&($("RemoteStore","Restarting streams for network reachability change."),yield function(f){return E(this,null,function*(){let m=Y(f);m.L_.add(4),yield Po(m),m.q_.set("Unknown"),m.L_.delete(4),yield il(m)})}(this))}))}),this.q_=new Fh(r,i)}};function il(n){return E(this,null,function*(){if(ei(n))for(let e of n.B_)yield e(!0)})}function Po(n){return E(this,null,function*(){for(let e of n.B_)yield e(!1)})}function C_(n,e){let t=Y(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),gf(t)?mf(t):es(t).r_()&&pf(t,e))}function ff(n,e){let t=Y(n),r=es(t);t.N_.delete(e),r.r_()&&S_(t,e),t.N_.size===0&&(r.r_()?r.o_():ei(t)&&t.q_.set("Unknown"))}function pf(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}es(n).A_(e)}function S_(n,e){n.Q_.xe(e),es(n).R_(e)}function mf(n){n.Q_=new rh({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),es(n).start(),n.q_.v_()}function gf(n){return ei(n)&&!es(n).n_()&&n.N_.size>0}function ei(n){return Y(n).L_.size===0}function P_(n){n.Q_=void 0}function rT(n){return E(this,null,function*(){n.q_.set("Online")})}function iT(n){return E(this,null,function*(){n.N_.forEach((e,t)=>{pf(n,e)})})}function sT(n,e){return E(this,null,function*(){P_(n),gf(n)?(n.q_.M_(e),mf(n)):n.q_.set("Unknown")})}function oT(n,e,t){return E(this,null,function*(){if(n.q_.set("Online"),e instanceof Nc&&e.state===2&&e.cause)try{yield function(i,s){return E(this,null,function*(){let a=s.cause;for(let d of s.targetIds)i.N_.has(d)&&(yield i.remoteSyncer.rejectListen(d,a),i.N_.delete(d),i.Q_.removeTarget(d))})}(n,e)}catch(r){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield jc(n,r)}else if(e instanceof Mi?n.Q_.Ke(e):e instanceof xc?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Z.min()))try{let r=yield A_(n.localStore);t.compareTo(r)>=0&&(yield function(s,a){let d=s.Q_.rt(a);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){let w=s.N_.get(m);w&&s.N_.set(m,w.withResumeToken(f.resumeToken,a))}}),d.targetMismatches.forEach((f,m)=>{let w=s.N_.get(f);if(!w)return;s.N_.set(f,w.withResumeToken(Ze.EMPTY_BYTE_STRING,w.snapshotVersion)),S_(s,f);let _=new wo(w.target,f,m,w.sequenceNumber);pf(s,_)}),s.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){$("RemoteStore","Failed to raise snapshot:",r),yield jc(n,r)}})}function jc(n,e,t){return E(this,null,function*(){if(!So(e))throw e;n.L_.add(1),yield Po(n),n.q_.set("Offline"),t||(t=()=>A_(n.localStore)),n.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){$("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield il(n)}))})}function R_(n,e){return e().catch(t=>jc(n,t,e))}function sl(n){return E(this,null,function*(){let e=Y(n),t=hr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;aT(e);)try{let i=yield ZE(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,cT(e,i)}catch(i){yield jc(e,i)}k_(e)&&D_(e)})}function aT(n){return ei(n)&&n.O_.length<10}function cT(n,e){n.O_.push(e);let t=hr(n);t.r_()&&t.V_&&t.m_(e.mutations)}function k_(n){return ei(n)&&!hr(n).n_()&&n.O_.length>0}function D_(n){hr(n).start()}function lT(n){return E(this,null,function*(){hr(n).p_()})}function uT(n){return E(this,null,function*(){let e=hr(n);for(let t of n.O_)e.m_(t.mutations)})}function dT(n,e,t){return E(this,null,function*(){let r=n.O_.shift(),i=Zd.from(r,e,t);yield R_(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield sl(n)})}function hT(n,e){return E(this,null,function*(){e&&hr(n).V_&&(yield function(r,i){return E(this,null,function*(){if(function(a){return RE(a)&&a!==O.ABORTED}(i.code)){let s=r.O_.shift();hr(r).s_(),yield R_(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield sl(r)}})}(n,e)),k_(n)&&D_(n)})}function Mg(n,e){return E(this,null,function*(){let t=Y(n);t.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");let r=ei(t);t.L_.add(3),yield Po(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield il(t)})}function fT(n,e){return E(this,null,function*(){let t=Y(n);e?(t.L_.delete(2),yield il(t)):e||(t.L_.add(2),yield Po(t),t.q_.set("Unknown"))})}function es(n){return n.K_||(n.K_=function(t,r,i){let s=Y(t);return s.w_(),new Oh(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:rT.bind(null,n),Ro:iT.bind(null,n),mo:sT.bind(null,n),d_:oT.bind(null,n)}),n.B_.push(e=>E(this,null,function*(){e?(n.K_.s_(),gf(n)?mf(n):n.q_.set("Unknown")):(yield n.K_.stop(),P_(n))}))),n.K_}function hr(n){return n.U_||(n.U_=function(t,r,i){let s=Y(t);return s.w_(),new Vh(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:lT.bind(null,n),mo:hT.bind(null,n),f_:uT.bind(null,n),g_:dT.bind(null,n)}),n.B_.push(e=>E(this,null,function*(){e?(n.U_.s_(),yield sl(n)):(yield n.U_.stop(),n.O_.length>0&&($("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var Uh=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let a=Date.now()+r,d=new n(e,t,a,i,s);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function _f(n,e){if(vn("AsyncQueue",`${e}: ${n}`),So(n))return new z(O.UNAVAILABLE,`${e}: ${n}`);throw n}var qc=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||H.comparator(t.key,r.key):(t,r)=>H.comparator(t.key,r.key),this.keyedMap=co(),this.sortedSet=new Ae(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var $c=class{constructor(){this.W_=new Ae(H.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):K():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Qi=class n{constructor(e,t,r,i,s,a,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,i,s){let a=[];return t.forEach(d=>{a.push({type:0,doc:d})}),new n(e,t,qc.emptySet(t),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Bh=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},jh=class{constructor(){this.queries=Fg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=Y(t),s=i.queries;i.queries=Fg(),s.forEach((a,d)=>{for(let f of d.j_)f.onError(r)})})(this,new z(O.ABORTED,"Firestore shutting down"))}};function Fg(){return new dr(n=>i_(n),tl)}function pT(n,e){return E(this,null,function*(){let t=Y(n),r=3,i=e.query,s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Bh,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(a){let d=_f(a,`Initialization of query '${xi(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&yf(t)})}function mT(n,e){return E(this,null,function*(){let t=Y(n),r=e.query,i=3,s=t.queries.get(r);if(s){let a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function gT(n,e){let t=Y(n),r=!1;for(let i of e){let s=i.query,a=t.queries.get(s);if(a){for(let d of a.j_)d.X_(i)&&(r=!0);a.z_=i}}r&&yf(t)}function _T(n,e,t){let r=Y(n),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(t);r.queries.delete(e)}function yf(n){n.Y_.forEach(e=>{e.next()})}var qh,Lg;(Lg=qh||(qh={})).ea="default",Lg.Cache="cache";var $h=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Qi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Qi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==qh.Cache}};var zc=class{constructor(e){this.key=e}},Gc=class{constructor(e){this.key=e}},zh=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=oe(),this.mutatedKeys=oe(),this.Aa=s_(e),this.Ra=new qc(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new $c,i=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,a=i,d=!1,f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((w,_)=>{let k=i.get(w),x=nl(this.query,_)?_:null,U=!!k&&this.mutatedKeys.has(k.key),j=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations),N=!1;k&&x?k.data.isEqual(x.data)?U!==j&&(r.track({type:3,doc:x}),N=!0):this.ga(k,x)||(r.track({type:2,doc:x}),N=!0,(f&&this.Aa(x,f)>0||m&&this.Aa(x,m)<0)&&(d=!0)):!k&&x?(r.track({type:0,doc:x}),N=!0):k&&!x&&(r.track({type:1,doc:k}),N=!0,(f||m)&&(d=!0)),N&&(x?(a=a.add(x),s=j?s.add(w):s.delete(w)):(a=a.delete(w),s=s.delete(w)))}),this.query.limit!==null)for(;a.size>this.query.limit;){let w=this.query.limitType==="F"?a.last():a.first();a=a.delete(w.key),s=s.delete(w.key),r.track({type:1,doc:w})}return{Ra:a,fa:r,ns:d,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let a=e.fa.G_();a.sort((w,_)=>function(x,U){let j=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return j(x)-j(U)}(w.type,_.type)||this.Aa(w.doc,_.doc)),this.pa(r),i=i!=null&&i;let d=t&&!i?this.ya():[],f=this.da.size===0&&this.current&&!i?1:0,m=f!==this.Ea;return this.Ea=f,a.length!==0||m?{snapshot:new Qi(this.query,e.Ra,s,a,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new $c,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=oe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Gc(r))}),this.da.forEach(r=>{e.has(r)||t.push(new zc(r))}),t}ba(e){this.Ta=e.Ts,this.da=oe();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Qi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Gh=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Hh=class{constructor(e){this.key=e,this.va=!1}},Wh=class{constructor(e,t,r,i,s,a){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new dr(d=>i_(d),tl),this.Ma=new Map,this.xa=new Set,this.Oa=new Ae(H.comparator),this.Na=new Map,this.La=new bo,this.Ba={},this.ka=new Map,this.qa=vo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function yT(n,e,t=!0){return E(this,null,function*(){let r=F_(n),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield x_(r,e,t,!0),i})}function wT(n,e){return E(this,null,function*(){let t=F_(n);yield x_(t,e,!0,!1)})}function x_(n,e,t,r){return E(this,null,function*(){let i=yield eT(n.localStore,en(e)),s=i.targetId,a=n.sharedClientState.addLocalQueryTarget(s,t),d;return r&&(d=yield vT(n,e,s,a==="current",i.resumeToken)),n.isPrimaryClient&&t&&C_(n.remoteStore,i),d})}function vT(n,e,t,r,i){return E(this,null,function*(){n.Ka=(_,k,x)=>function(j,N,G,ee){return E(this,null,function*(){let X=N.view.ma(G);X.ns&&(X=yield Vg(j.localStore,N.query,!1).then(({documents:S})=>N.view.ma(S,X)));let te=ee&&ee.targetChanges.get(N.targetId),ge=ee&&ee.targetMismatches.get(N.targetId)!=null,re=N.view.applyChanges(X,j.isPrimaryClient,te,ge);return Bg(j,N.targetId,re.wa),re.snapshot})}(n,_,k,x);let s=yield Vg(n.localStore,e,!0),a=new zh(e,s.Ts),d=a.ma(s.documents),f=yo.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),m=a.applyChanges(d,n.isPrimaryClient,f);Bg(n,t,m.wa);let w=new Gh(e,t,a);return n.Fa.set(e,w),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),m.snapshot})}function bT(n,e,t){return E(this,null,function*(){let r=Y(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!tl(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Rh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&ff(r.remoteStore,i.targetId),Kh(r,i.targetId)}).catch(Co))):(Kh(r,i.targetId),yield Rh(r.localStore,i.targetId,!0))})}function IT(n,e){return E(this,null,function*(){let t=Y(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ff(t.remoteStore,r.targetId))})}function ET(n,e,t){return E(this,null,function*(){let r=kT(n);try{let i=yield function(a,d){let f=Y(a),m=We.now(),w=d.reduce((x,U)=>x.add(U.key),oe()),_,k;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>{let U=In(),j=oe();return f.cs.getEntries(x,w).next(N=>{U=N,U.forEach((G,ee)=>{ee.isValidDocument()||(j=j.add(G))})}).next(()=>f.localDocuments.getOverlayedDocuments(x,U)).next(N=>{_=N;let G=[];for(let ee of d){let X=PE(ee,_.get(ee.key).overlayedDocument);X!=null&&G.push(new En(ee.key,X,Xg(X.value.mapValue),Wr.exists(!0)))}return f.mutationQueue.addMutationBatch(x,m,G,d)}).next(N=>{k=N;let G=N.applyToLocalDocumentSet(_,j);return f.documentOverlayCache.saveOverlays(x,N.batchId,G)})}).then(()=>({batchId:k.batchId,changes:a_(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,d,f){let m=a.Ba[a.currentUser.toKey()];m||(m=new Ae(ue)),m=m.insert(d,f),a.Ba[a.currentUser.toKey()]=m}(r,i.batchId,t),yield Ro(r,i.changes),yield sl(r.remoteStore)}catch(i){let s=_f(i,"Failed to persist write");t.reject(s)}})}function N_(n,e){return E(this,null,function*(){let t=Y(n);try{let r=yield YE(t.localStore,e);e.targetChanges.forEach((i,s)=>{let a=t.Na.get(s);a&&(pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?pe(a.va):i.removedDocuments.size>0&&(pe(a.va),a.va=!1))}),yield Ro(t,r,e)}catch(r){yield Co(r)}})}function Ug(n,e,t){let r=Y(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((s,a)=>{let d=a.view.Z_(e);d.snapshot&&i.push(d.snapshot)}),function(a,d){let f=Y(a);f.onlineState=d;let m=!1;f.queries.forEach((w,_)=>{for(let k of _.j_)k.Z_(d)&&(m=!0)}),m&&yf(f)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function TT(n,e,t){return E(this,null,function*(){let r=Y(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),s=i&&i.key;if(s){let a=new Ae(H.comparator);a=a.insert(s,Dt.newNoDocument(s,Z.min()));let d=oe().add(s),f=new Dc(Z.min(),new Map,new Ae(ue),a,d);yield N_(r,f),r.Oa=r.Oa.remove(s),r.Na.delete(e),wf(r)}else yield Rh(r.localStore,e,!1).then(()=>Kh(r,e,t)).catch(Co)})}function AT(n,e){return E(this,null,function*(){let t=Y(n),r=e.batch.batchId;try{let i=yield JE(t.localStore,e);V_(t,r,null),O_(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Ro(t,i)}catch(i){yield Co(i)}})}function CT(n,e,t){return E(this,null,function*(){let r=Y(n);try{let i=yield function(a,d){let f=Y(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let w;return f.mutationQueue.lookupMutationBatch(m,d).next(_=>(pe(_!==null),w=_.keys(),f.mutationQueue.removeMutationBatch(m,_))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,w,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,w)).next(()=>f.localDocuments.getDocuments(m,w))})}(r.localStore,e);V_(r,e,t),O_(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Ro(r,i)}catch(i){yield Co(i)}})}function O_(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function V_(n,e,t){let r=Y(n),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Kh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||M_(n,r)})}function M_(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(ff(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),wf(n))}function Bg(n,e,t){for(let r of t)r instanceof zc?(n.La.addReference(r.key,e),ST(n,r)):r instanceof Gc?($("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||M_(n,r.key)):K()}function ST(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||($("SyncEngine","New document in limbo: "+t),n.xa.add(r),wf(n))}function wf(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new H(Te.fromString(e)),r=n.qa.next();n.Na.set(r,new Hh(t)),n.Oa=n.Oa.insert(t,r),C_(n.remoteStore,new wo(en(uf(t.path)),r,"TargetPurposeLimboResolution",Kg.oe))}}function Ro(n,e,t){return E(this,null,function*(){let r=Y(n),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((d,f)=>{a.push(r.Ka(f,e,t).then(m=>{var w;if((m||t)&&r.isPrimaryClient){let _=m?!m.fromCache:(w=t?.targetChanges.get(f.targetId))===null||w===void 0?void 0:w.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(m){i.push(m);let _=Ah.Wi(f.targetId,m);s.push(_)}}))}),yield Promise.all(a),r.Ca.d_(i),yield function(f,m){return E(this,null,function*(){let w=Y(f);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>M.forEach(m,k=>M.forEach(k.$i,x=>w.persistence.referenceDelegate.addReference(_,k.targetId,x)).next(()=>M.forEach(k.Ui,x=>w.persistence.referenceDelegate.removeReference(_,k.targetId,x)))))}catch(_){if(!So(_))throw _;$("LocalStore","Failed to update sequence numbers: "+_)}for(let _ of m){let k=_.targetId;if(!_.fromCache){let x=w.os.get(k),U=x.snapshotVersion,j=x.withLastLimboFreeSnapshotVersion(U);w.os=w.os.insert(k,j)}}})}(r.localStore,s))})}function PT(n,e){return E(this,null,function*(){let t=Y(n);if(!t.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());let r=yield T_(t.localStore,e);t.currentUser=e,function(s,a){s.ka.forEach(d=>{d.forEach(f=>{f.reject(new z(O.CANCELLED,a))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ro(t,r.hs)}})}function RT(n,e){let t=Y(n),r=t.Na.get(e);if(r&&r.va)return oe().add(r.key);{let i=oe(),s=t.Ma.get(e);if(!s)return i;for(let a of s){let d=t.Fa.get(a);i=i.unionWith(d.view.Va)}return i}}function F_(n){let e=Y(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=N_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TT.bind(null,e),e.Ca.d_=gT.bind(null,e.eventManager),e.Ca.$a=_T.bind(null,e.eventManager),e}function kT(n){let e=Y(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CT.bind(null,e),e}var jg=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return E(this,null,function*(){this.serializer=rl(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return QE(this.persistence,new Sh,t.initialUser,this.serializer)}Ga(t){return new Ih(Th.Zr,this.serializer)}Wa(t){return new kh}terminate(){return E(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var DT=(()=>{class n{initialize(t,r){return E(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ug(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=PT.bind(null,this.syncEngine),yield fT(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new jh}()}createDatastore(t){let r=rl(t.databaseInfo.databaseId),i=function(a){return new Nh(a)}(t.databaseInfo);return function(a,d,f,m){return new Mh(a,d,f,m)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,a,d,f){return new Lh(i,s,a,d,f)}(this.localStore,this.datastore,t.asyncQueue,r=>Ug(this.syncEngine,r,0),function(){return Lc.D()?new Lc:new Dh}())}createSyncEngine(t,r){return function(s,a,d,f,m,w,_){let k=new Wh(s,a,d,f,m,w);return _&&(k.Qa=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return E(this,null,function*(){var t,r;yield function(s){return E(this,null,function*(){let a=Y(s);$("RemoteStore","RemoteStore shutting down."),a.L_.add(5),yield Po(a),a.k_.shutdown(),a.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Qh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):vn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Jh=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=$e.UNAUTHENTICATED,this.clientId=Tc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,a=>E(this,null,function*(){$("FirestoreClient","Received user=",a.uid),yield this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,a=>($("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=_f(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Cd(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>E(this,null,function*(){r.isEqual(i)||(yield T_(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function qg(n,e){return E(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield xT(n);$("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Mg(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Mg(e.remoteStore,i)),n._onlineComponents=e})}function xT(n){return E(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Cd(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Li("Error using user provided cache. Falling back to memory cache: "+t),yield Cd(n,new jg)}}else $("FirestoreClient","Using default OfflineComponentProvider"),yield Cd(n,new jg);return n._offlineComponents})}function L_(n){return E(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),yield qg(n,n._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),yield qg(n,new DT))),n._onlineComponents})}function NT(n){return L_(n).then(e=>e.syncEngine)}function $g(n){return E(this,null,function*(){let e=yield L_(n),t=e.eventManager;return t.onListen=yT.bind(null,e.syncEngine),t.onUnlisten=bT.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=wT.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=IT.bind(null,e.syncEngine),t})}function U_(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var zg=new Map;function B_(n,e,t){if(!t)throw new z(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function OT(n,e,t,r){if(e===!0&&r===!0)throw new z(O.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Gg(n){if(!H.isDocumentKey(n))throw new z(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Hg(n){if(H.isDocumentKey(n))throw new z(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":K()}function po(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new z(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=vf(n);throw new z(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Hc=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new z(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new z(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new z(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ji=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hc({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new z(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hc(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Sd;switch(r.type){case"firstParty":return new Dd(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=zg.get(t);r&&($("ComponentProvider","Removing Datastore"),zg.delete(t),r.terminate())}(this),Promise.resolve()}};function j_(n,e,t,r={}){var i;let s=(n=po(n,Ji))._getSettings(),a=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Li("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=$e.MOCK_USER;else{d=Ga(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new z(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new $e(m)}n._authCredentials=new Pd(new Ec(d,f))}}var Wc=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},wt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},lr=class n extends Wc{constructor(e,t,r){super(e,t,uf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new H(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function q_(n,e,...t){if(n=qe(n),B_("collection","path",e),n instanceof Ji){let r=Te.fromString(e,...t);return Hg(r),new lr(n,null,r)}{if(!(n instanceof wt||n instanceof lr))throw new z(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Te.fromString(e,...t));return Hg(r),new lr(n.firestore,null,r)}}function $_(n,e,...t){if(n=qe(n),arguments.length===1&&(e=Tc.newId()),B_("doc","path",e),n instanceof Ji){let r=Te.fromString(e,...t);return Gg(r),new wt(n,null,new H(r))}{if(!(n instanceof wt||n instanceof lr))throw new z(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Te.fromString(e,...t));return Gg(r),new wt(n.firestore,n instanceof lr?n.converter:null,new H(r))}}var Kc=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Uc(this,"async_queue_retry"),this.Vu=()=>{let r=Ad();r&&$("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=Ad();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=Ad();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new wn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return E(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!So(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(a){let d=a.message||"";return a.stack&&(d=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),d}(r);throw vn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=Uh.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&K()}verifyOperationInProgress(){}wu(){return E(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function Wg(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}var Yi=class extends Ji{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Kc,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Kc(e),this._firestoreClient=void 0,yield e}})}};function ol(n,e){let t=typeof n=="object"?n:tr(),r=typeof n=="string"?n:e||"(default)",i=Mr(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=za("firestore");s&&j_(i,...s)}return i}function z_(n){if(n._terminated)throw new z(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||VT(n),n._firestoreClient}function VT(n){var e,t,r;let i=n._freezeSettings(),s=function(d,f,m,w){return new Md(d,f,m,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,U_(w.experimentalLongPollingOptions),w.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Jh(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(d){let f=d?._online.build();return{_offline:d?._offline.build(f),_online:f}}(n._componentsProvider))}var Io=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Ze.fromBase64String(e))}catch(t){throw new z(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Ze.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Eo=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new z(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Qc=class{constructor(e){this._methodName=e}};var To=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new z(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new z(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}};var Ao=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var MT=/^__.*__$/,Yh=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new En(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zr(e,this.data,t,this.fieldTransforms)}};function G_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}var Xh=class n{constructor(e,t,r,i,s,a){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Jc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(G_(this.Cu)&&MT.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Zh=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||rl(e)}Qu(e,t,r,i=!1){return new Xh({Cu:e,methodName:t,qu:r,path:gt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function FT(n){let e=n._freezeSettings(),t=rl(n._databaseId);return new Zh(n._databaseId,!!e.ignoreUndefinedProperties,t)}function LT(n,e,t,r,i,s={}){let a=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);Q_("Data must be an object, but it was:",a,r);let d=W_(r,a),f,m;if(s.merge)f=new Xt(a.fieldMask),m=a.fieldTransforms;else if(s.mergeFields){let w=[];for(let _ of s.mergeFields){let k=UT(e,_,t);if(!a.contains(k))throw new z(O.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);jT(w,k)||w.push(k)}f=new Xt(w),m=a.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,m=a.fieldTransforms;return new Yh(new kt(d),f,m)}function H_(n,e){if(K_(n=qe(n)))return Q_("Unsupported field value:",e,n),W_(n,e);if(n instanceof Qc)return function(r,i){if(!G_(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],a=0;for(let d of r){let f=H_(d,i.Lu(a));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),a++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return EE(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=We.fromDate(r);return{timestampValue:Vc(i.serializer,s)}}if(r instanceof We){let s=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vc(i.serializer,s)}}if(r instanceof To)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Io)return{bytesValue:__(i.serializer,r._byteString)};if(r instanceof wt){let s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hf(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ao)return function(a,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(f=>{if(typeof f!="number")throw d.Bu("VectorValues must only contain numeric values.");return df(d.serializer,f)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${vf(r)}`)}(n,e)}function W_(n,e){let t={};return Qg(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zi(n,(r,i)=>{let s=H_(i,e.Mu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function K_(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof We||n instanceof To||n instanceof Io||n instanceof wt||n instanceof Qc||n instanceof Ao)}function Q_(n,e,t){if(!K_(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=vf(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function UT(n,e,t){if((e=qe(e))instanceof Eo)return e._internalPath;if(typeof e=="string")return J_(n,e);throw Jc("Field path arguments must be of type string or ",n,!1,void 0,t)}var BT=new RegExp("[~\\*/\\[\\]]");function J_(n,e,t){if(e.search(BT)>=0)throw Jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Eo(...e.split("."))._internalPath}catch{throw Jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jc(n,e,t,r,i){let s=r&&!r.isEmpty(),a=i!==void 0,d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||a)&&(f+=" (found",s&&(f+=` in field ${r}`),a&&(f+=` in document ${i}`),f+=")"),new z(O.INVALID_ARGUMENT,d+n+f)}function jT(n,e){return n.some(t=>t.isEqual(e))}var Yc=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ef(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Y_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},ef=class extends Yc{data(){return super.data()}};function Y_(n,e){return typeof e=="string"?J_(n,e):e instanceof Eo?e._internalPath:e._delegate._internalPath}function qT(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new z(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var tf=class{convertValue(e,t="none"){switch(Jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw K()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Zi(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>ve(a.doubleValue));return new Ao(s)}convertGeoPoint(e){return new To(ve(e.latitude),ve(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=of(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(go(e));default:return null}}convertTimestamp(e){let t=bn(e);return new We(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Te.fromString(e);pe(E_(r));let i=new Pc(r.get(1),r.get(3)),s=new H(r.popFirst(5));return i.isEqual(t)||vn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function $T(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Hr=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Xc=class extends Yc{constructor(e,t,r,i,s,a){super(e,t,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Fi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Y_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Fi=class extends Xc{data(e={}){return super.data(e)}},nf=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Hr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Fi(this._firestore,this._userDataWriter,r.key,r,new Hr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new z(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(d=>{let f=new Fi(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Hr(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>s||d.type!==3).map(d=>{let f=new Fi(i._firestore,i._userDataWriter,d.doc.key,d.doc,new Hr(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),m=-1,w=-1;return d.type!==0&&(m=a.indexOf(d.doc.key),a=a.delete(d.doc.key)),d.type!==1&&(a=a.add(d.doc),w=a.indexOf(d.doc.key)),{type:zT(d.type),doc:f,oldIndex:m,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function zT(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}var Zc=class extends tf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Io(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,t)}};function X_(n,e){let t=po(n.firestore,Yi),r=$_(n),i=$T(n.converter,e);return GT(t,[LT(FT(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Wr.exists(!1))]).then(()=>r)}function bf(n,...e){var t,r,i;n=qe(n);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Wg(e[a])||(s=e[a],a++);let d={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Wg(e[a])){let _=e[a];e[a]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[a+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[a+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let f,m,w;if(n instanceof wt)m=po(n.firestore,Yi),w=uf(n._key.path),f={next:_=>{e[a]&&e[a](HT(m,n,_))},error:e[a+1],complete:e[a+2]};else{let _=po(n,Wc);m=po(_.firestore,Yi),w=_._query;let k=new Zc(m);f={next:x=>{e[a]&&e[a](new nf(m,k,_,x))},error:e[a+1],complete:e[a+2]},qT(n._query)}return function(k,x,U,j){let N=new Qh(j),G=new $h(x,N,U);return k.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return pT(yield $g(k),G)})),()=>{N.Za(),k.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return mT(yield $g(k),G)}))}}(z_(m),w,d,f)}function GT(n,e){return function(r,i){let s=new wn;return r.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return ET(yield NT(r),i,s)})),s.promise}(z_(n),e)}function HT(n,e,t){let r=t.docs.get(e._key),i=new Zc(n);return new Xc(n,i,e._key,r,new Hr(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Xi=i})(Wt),Ht(new at("firestore",(r,{instanceIdentifier:i,options:s})=>{let a=r.getProvider("app").getImmediate(),d=new Yi(new Rd(r.getProvider("auth-internal")),new Nd(r.getProvider("app-check-internal")),function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new z(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pc(m.options.projectId,w)}(a,i),a);return s=Object.assign({useFetchStreams:t},s),d._setSettings(s),d},"PUBLIC").setMultipleInstances(!0)),we(mg,"4.7.3",e),we(mg,"4.7.3","esm2017")})();var al=function(){return al=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},al.apply(this,arguments)};var QT={includeMetadataChanges:!1};function Z_(n,e){return e===void 0&&(e=QT),new Ds(function(t){var r=bf(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function ey(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:al(al({},r),(t={},t[e.idField]=n.id,t))}function ty(n){return Z_(n,{includeMetadataChanges:!0}).pipe(xs(function(e){return e.docs}))}function ny(n,e){return e===void 0&&(e={}),ty(n).pipe(xs(function(t){return t.map(function(r){return ey(r,e)})}))}var Tn=class{constructor(e){return e}},ry="firestore",If=class{constructor(){return Lr(ry)}};var Ef=new tt("angularfire2.firestore-instances");function JT(n,e){let t=Pi(ry,n,e);return t&&new Tn(t)}function YT(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Tn(r)}}var XT={provide:If,deps:[[new He,Ef]]},ZT={provide:Tn,useFactory:JT,deps:[[new He,Ef],Pt]};function iy(n,...e){return we("angularfire",fn.full,"fst"),Hn([ZT,XT,{provide:Ef,useFactory:YT(n),multi:!0,deps:[qt,jt,rr,pn,[new He,$r],[new He,nr],...e]}])}var sy=mt(ny,!0);var oy=mt(X_,!0);var Tf=mt(q_,!0);var ay=mt(ol,!0);function eA(n,e){if(n&1&&(F(0,"div",11),q(1),V()),n&2){let t=cn();Q(),ln(" ",t.error," ")}}var cl=class n{constructor(e,t,r){this.router=e;this.auth=r}mail="";clave="";logeado;error="";Login(){hg(this.auth,this.mail,this.clave).then(e=>{this.showSuccessAlert("Acceso a juegos"),this.router.navigate(["home"])}).catch(e=>{switch(this.logeado=!1,console.log(e.code),e.code){case"auth/invalid-email":this.error="cuenta invalida";break;case"auth/invalid-credential":this.error="la cuenta/contrase\xF1a no existe";break;default:this.error="error desconocido";break}})}showSuccessAlert(e){return uy.default.fire({title:"Ingreso exitoso",text:e,icon:"success",confirmButtonText:"OK",background:"black",color:"green",confirmButtonColor:"green"})}static \u0275fac=function(t){return new(t||n)(J(Je),J(Tn),J(Rt))};static \u0275cmp=st({type:n,selectors:[["app-login"]],standalone:!0,features:[ot],decls:21,vars:3,consts:[[1,"form-signin"],[1,"background-image"],["id","titulo",1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email","id","floatingInput","placeholder","nombre@ejemplo.com",1,"form-control",3,"ngModelChange","ngModel"],["for","floatingInput"],["type","password","id","floatingPassword","placeholder","contrase\xF1a",1,"form-control",3,"ngModelChange","ngModel"],["for","floatingPassword"],["type","submit",1,"btn","btn-primary","w-100","py-2",3,"click"],["routerLink","/register","routerLinkActive","active-route",1,"iniciar-sesion"],["class","alert alert-danger","role","alert","id","error",4,"ngIf"],["role","alert","id","error",1,"alert","alert-danger"]],template:function(t,r){t&1&&(F(0,"body")(1,"main",0),Se(2,"div",1),F(3,"div")(4,"h1",2),q(5,"Por favor inicia sesion"),V(),F(6,"div",3)(7,"input",4),wi("ngModelChange",function(s){return yi(r.mail,s)||(r.mail=s),s}),V(),F(8,"label",5),q(9,"correo electronico"),V()(),F(10,"div",3)(11,"input",6),wi("ngModelChange",function(s){return yi(r.clave,s)||(r.clave=s),s}),V(),F(12,"label",7),q(13,"contrase\xF1a"),V()(),F(14,"button",8),Ee("click",function(){return r.Login()}),q(15,"iniciar sesion"),V(),Se(16,"br")(17,"br"),F(18,"a",9),q(19," \xBFNo tenes cuenta? Registrate."),V()(),Me(20,eA,2,1,"div",10),V()()),t&2&&(Q(7),_i("ngModel",r.mail),Q(4),_i("ngModel",r.clave),Q(9),fe("ngIf",r.logeado==!1))},dependencies:[Xn,Yn,Ti,Gs,Pa,Ra,zt,vi],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;display:flex;justify-content:center;align-items:center;background-image:url(https://firebasestorage.googleapis.com/v0/b/sala-de-juegos-1c9ea.appspot.com/o/juegos.jpg?alt=media&token=55c3e2da-1490-4df5-8892-b1ae0c34f281);background-size:cover;background-position:center;background-repeat:no-repeat;z-index:-1}body[_ngcontent-%COMP%]{min-height:100vh;box-sizing:border-box}.form-signin[_ngcontent-%COMP%]{max-width:330px;padding:2rem;background-color:#000;border-radius:8px;box-shadow:0 4px 8px #0000001a;text-align:center;justify-content:center}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px}.iniciar-sesion[_ngcontent-%COMP%]{color:#fff;text-align:center;font-size:medium}#titulo[_ngcontent-%COMP%]{font-size:x-large}.alert-danger[_ngcontent-%COMP%]{position:absolute;margin-top:15px;max-width:330px;text-align:center;margin-left:auto;width:220px}.alert-success[_ngcontent-%COMP%]{margin-top:15px;max-width:330px;text-align:center;margin-left:auto;margin-right:auto}a[_ngcontent-%COMP%]{text-align:center}"]})};var dy=Fl(gc());function tA(n,e){if(n&1&&(F(0,"div",11),q(1),V()),n&2){let t=cn();Q(),ln(" ",t.msjError," ")}}var ll=class n{constructor(e,t){this.router=e;this.auth=t}mail="";clave="";registrado;msjError="";Registrar(){ug(this.auth,this.mail,this.clave).then(e=>{e.user.email!=null&&(this.showSuccessAlert("Te logeamos automaticamente"),this.router.navigate(["home"]))}).catch(e=>{switch(this.registrado=!1,console.log(e),e.code){case"auth/invalid-email":this.msjError=" Email invalido";break;case"auth/missing-password":this.msjError="escriba una contrase\xF1a";break;case"auth/weak-password":this.msjError="contrase\xF1a debil";break;case"auth/email-already-in-use":this.msjError="mail ya en uso";break}})}showSuccessAlert(e){return dy.default.fire({title:"Registro exitoso",text:e,icon:"success",confirmButtonText:"OK",background:"black",color:"green",confirmButtonColor:"green"})}static \u0275fac=function(t){return new(t||n)(J(Je),J(Rt))};static \u0275cmp=st({type:n,selectors:[["app-register"]],standalone:!0,features:[ot],decls:21,vars:3,consts:[[1,"form-signin"],[1,"background-image"],["id","titulo",1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email","id","register","placeholder","nombre@ejemplo.com",1,"form-control",3,"ngModelChange","ngModel"],["for","register"],["type","password","id","Password","placeholder","contrase\xF1a",1,"form-control",3,"ngModelChange","ngModel"],["for","Password"],["type","submit",1,"btn","btn-primary","w-100","py-2",3,"click"],["routerLink","/login","routerLinkActive","active-route",1,"iniciar-sesion"],["class","alert alert-danger","role","alert","id","error",4,"ngIf"],["role","alert","id","error",1,"alert","alert-danger"]],template:function(t,r){t&1&&(F(0,"body")(1,"main",0),Se(2,"div",1),F(3,"div")(4,"h1",2),q(5,"Registrarse"),V(),F(6,"div",3)(7,"input",4),wi("ngModelChange",function(s){return yi(r.mail,s)||(r.mail=s),s}),V(),F(8,"label",5),q(9,"correo electronico"),V()(),F(10,"div",3)(11,"input",6),wi("ngModelChange",function(s){return yi(r.clave,s)||(r.clave=s),s}),V(),F(12,"label",7),q(13,"contrase\xF1a"),V()(),F(14,"button",8),Ee("click",function(){return r.Registrar()}),q(15,"Registrarse"),V(),Se(16,"br")(17,"br"),F(18,"a",9),q(19," \xBFYa tenes una cuenta? inicia sesion."),V()(),Me(20,tA,2,1,"div",10),V()()),t&2&&(Q(7),_i("ngModel",r.mail),Q(4),_i("ngModel",r.clave),Q(9),fe("ngIf",r.registrado==!1))},dependencies:[Xn,Yn,Ti,Gs,Pa,Ra,zt,vi],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;display:flex;justify-content:center;align-items:center;background-image:url(https://firebasestorage.googleapis.com/v0/b/sala-de-juegos-1c9ea.appspot.com/o/juegos.jpg?alt=media&token=55c3e2da-1490-4df5-8892-b1ae0c34f281);background-size:cover;background-position:center;background-repeat:no-repeat;z-index:-1}body[_ngcontent-%COMP%]{min-height:100vh;box-sizing:border-box}.form-signin[_ngcontent-%COMP%]{max-width:330px;padding:2rem;background-color:#000;border-radius:8px;box-shadow:0 4px 8px #0000001a;text-align:center;justify-content:center}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px}.iniciar-sesion[_ngcontent-%COMP%]{color:#fff;text-align:center;font-size:medium}#titulo[_ngcontent-%COMP%]{font-size:x-large}.alert-danger[_ngcontent-%COMP%]{position:absolute;margin-top:15px;max-width:330px;text-align:center;margin-left:auto;width:250px}.alert-success[_ngcontent-%COMP%]{margin-top:15px;max-width:330px;text-align:center;margin-left:auto;margin-right:auto}"]})};var ul=class n{constructor(e){this.route=e}volver(){this.route.navigate(["home"])}static \u0275fac=function(t){return new(t||n)(J(Je))};static \u0275cmp=st({type:n,selectors:[["app-page-not-found"]],standalone:!0,features:[ot],decls:14,vars:0,consts:[["lang","en"],[1,"container"],[3,"click"]],template:function(t,r){t&1&&(F(0,"html",0)(1,"head")(2,"title"),q(3,"P\xE1gina no encontrada"),V()(),F(4,"body")(5,"div",1)(6,"h1"),q(7,"404"),V(),F(8,"h2"),q(9,"P\xE1gina no encontrada"),V(),F(10,"p"),q(11,"Lo sentimos, la URL que intentaste visitar no existe o fue eliminada."),V(),F(12,"button",2),Ee("click",function(){return r.volver()}),q(13,"Volver al inicio"),V()()()())},styles:["body[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Arial,sans-serif;background-color:#1b1b1b;color:#fff;display:flex;justify-content:center;align-items:center;height:100vh;text-align:center}.container[_ngcontent-%COMP%]{max-width:600px;padding:20px;background-color:#000c;border:2px solid #ff0000;border-radius:15px;box-shadow:0 4px 15px #ff000080}h1[_ngcontent-%COMP%]{font-size:120px;color:red;margin:0;text-shadow:2px 2px 8px rgba(255,0,0,.7),0 0 10px #ff0000,0 0 20px #ff0000}h2[_ngcontent-%COMP%]{font-size:24px;margin-top:-20px;margin-bottom:20px;color:#fff;text-shadow:1px 1px 5px rgba(255,255,255,.5)}p[_ngcontent-%COMP%]{font-size:18px;color:#ccc;margin-bottom:30px;line-height:1.6}button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;font-weight:700;color:#fff;background-color:red;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease,transform .3s ease;text-shadow:1px 1px 3px rgba(0,0,0,.6)}button[_ngcontent-%COMP%]:hover{background-color:#c00;transform:scale(1.05)}"]})};var dl=class n{constructor(e){this.router=e}Mostrarme(){this.router.navigate(["quien-soy"])}irAEncuesta(){this.router.navigate(["formulario"])}Logout(){this.router.navigate(["login"])}jugarPreguntados(){this.router.navigate(["juegos/preguntados"])}jugarMayorMenor(){this.router.navigate(["juegos/mayor-menorr"])}jugarAhorcado(){this.router.navigate(["juegos/ahorcado"])}static \u0275fac=function(t){return new(t||n)(J(Je))};static \u0275cmp=st({type:n,selectors:[["app-home"]],standalone:!0,features:[ot],decls:31,vars:0,consts:[[1,"title"],[1,"btn-who",3,"click"],[1,"logout",3,"click"],[3,"click"],[1,"game-options"],["id","preguntados",1,"option"],["id","mayor-menor",1,"option"],["id","ahorcado",1,"option"]],template:function(t,r){t&1&&(F(0,"body")(1,"header")(2,"nav")(3,"h1",0),q(4,"SALA DE JUEGOS"),V(),F(5,"ul")(6,"li")(7,"button",1),Ee("click",function(){return r.Mostrarme()}),q(8,"\xBFQuien Soy?"),V()(),F(9,"li")(10,"button",2),Ee("click",function(){return r.Logout()}),q(11,"Salir"),V()(),F(12,"li")(13,"button",3),Ee("click",function(){return r.irAEncuesta()}),q(14,"Encuesta"),V()()()()(),F(15,"main",4)(16,"section",5)(17,"h2"),q(18,"Preguntados"),V(),F(19,"button",3),Ee("click",function(){return r.jugarPreguntados()}),q(20,"jugar"),V()(),F(21,"section",6)(22,"h2"),q(23,"Mayor o menor"),V(),F(24,"button",3),Ee("click",function(){return r.jugarMayorMenor()}),q(25,"jugar"),V()(),F(26,"section",7)(27,"h2"),q(28,"Ahorcado"),V(),F(29,"button",3),Ee("click",function(){return r.jugarAhorcado()}),q(30,"jugar"),V()()()())},dependencies:[Xn,zt],styles:["body[_ngcontent-%COMP%]{margin:0;font-family:Arial,sans-serif;background-color:#000;display:flex;flex-direction:column;min-height:100vh}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;background-color:#1b1b1b;color:#fff}.title[_ngcontent-%COMP%]{margin:0;font-size:48px;flex:1;text-shadow:2px 2px 8px rgba(0,0,0,.7),0 0 15px #ff4d4d,0 0 25px #ff4d4d;animation:_ngcontent-%COMP%_fadeIn 2s ease-in-out;font-family:Arial Black,sans-serif;color:#ffeb3b}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}nav[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between;align-items:center}ul[_ngcontent-%COMP%]{list-style:none;display:flex;gap:10px;margin:0;padding:0}button[_ngcontent-%COMP%]{padding:8px 12px;color:#ff0;background-color:#ff4d4d;border:none;border-radius:4px;cursor:pointer;font-weight:700;text-shadow:1px 1px 4px rgba(0,0,0,.6);transition:background-color .3s ease;animation:_ngcontent-%COMP%_fadeIn 2s backwards}button[_ngcontent-%COMP%]:hover{background-color:#e63946}.game-options[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;padding:40px}.option[_ngcontent-%COMP%]{background-color:#1b1b1b;border:2px solid #ff4d4d;border-radius:8px;padding:20px;text-align:center;width:30%;box-shadow:0 0 15px #ff4d4d80;transition:transform .3s ease,box-shadow .3s ease}.option[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#ffeb3b;text-shadow:2px 2px 8px rgba(0,0,0,.7),0 0 15px #ff4d4d,0 0 25px #ff4d4d}.option[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ff0}.option[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:250px;text-align:center}.option[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 0 25px #ff4d4dcc}main[_ngcontent-%COMP%]{flex:1;background-color:#000}#preguntados[_ngcontent-%COMP%]{background-image:url(https://firebasestorage.googleapis.com/v0/b/sala-de-juegos-1c9ea.appspot.com/o/preguntados.png?alt=media&token=eb0756c1-47e1-4ff4-9eef-464e69bcfb50);background-size:cover;background-repeat:no-repeat;background-position:center}#mayor-menor[_ngcontent-%COMP%]{background-image:url(https://firebasestorage.googleapis.com/v0/b/sala-de-juegos-1c9ea.appspot.com/o/mayor_menor.jpg?alt=media&token=228003e5-abfa-4804-9e1e-f3dbace16ac8);background-size:cover;background-repeat:no-repeat;background-position:center}#ahorcado[_ngcontent-%COMP%]{background-image:url(https://firebasestorage.googleapis.com/v0/b/sala-de-juegos-1c9ea.appspot.com/o/ahorcado.jpg?alt=media&token=7089b8eb-5f47-41a6-b481-e37a2d2fe33b);background-repeat:no-repeat;background-size:cover;background-position:center}"]})};function nA(n,e){if(n&1&&(F(0,"li",7),Se(1,"img",8),F(2,"span"),q(3),V()()),n&2){let t=e.$implicit;Q(),Ms("alt",t.nombre),fe("src",t.imagen,Dr),Q(2),gi(t.nombre)}}function rA(n,e){if(n&1&&(F(0,"li",7),Se(1,"img",9),F(2,"span"),q(3),V()()),n&2){let t=e.$implicit;Q(),Ms("alt",t.frkNombre),fe("src",t.imagen,Dr),Q(2),gi(t.frkNombre)}}function iA(n,e){if(n&1&&(F(0,"li",7),Se(1,"img",10),F(2,"span"),q(3),V()()),n&2){let t=e.$implicit;Q(),Ms("alt",t.nombre),fe("src",t.imagen,Dr),Q(2),gi(t.nombre)}}function sA(n,e){if(n&1&&(F(0,"li",7),Se(1,"img",11),F(2,"span"),q(3),V()()),n&2){let t=e.$implicit;Q(),Ms("alt",t.entorno),fe("src",t.imagen,Dr),Q(2),gi(t.entorno)}}var hl=class n{constructor(e){this.router=e}imagen="https://firebasestorage.googleapis.com/v0/b/sala-de-juegos-1c9ea.appspot.com/o/imagen_2024-10-30_152645527.png?alt=media&token=a568bb63-47a2-4c39-92d9-6e71800c6242";nombre="Agustin Landeira";dni="45580032";legajo="114519";descripcion="Actualmento soy estudiante en la UTN para tener el titulo de desarrollador de software en un futuro.";contacto="landeira2017@gmail.com";lenguajes=[{nombre:"Python",imagen:"https://firebasestorage.googleapis.com/v0/b/sala-de-juegos-1c9ea.appspot.com/o/Python.svg.png?alt=media&token=a1b208c9-f4cf-4583-b8f9-45d750c0fef4"},{nombre:"Php",imagen:"https://firebasestorage.googleapis.com/v0/b/sala-de-juegos-1c9ea.appspot.com/o/PHP.svg.png?alt=media&token=3ed9eaaa-a9ec-4944-95a7-7718956ba4cf"},{nombre:"Typescript",imagen:"https://firebasestorage.googleapis.com/v0/b/sala-de-juegos-1c9ea.appspot.com/o/Typescript.svg.png?alt=media&token=8f34b825-7359-4579-833a-70784e012a5f"},{nombre:"C#",imagen:"https://firebasestorage.googleapis.com/v0/b/sala-de-juegos-1c9ea.appspot.com/o/C_Sharp.svg.png?alt=media&token=e1594a89-308d-4657-b8d9-330265ebd498"},{nombre:"HTML",imagen:"https://firebasestorage.googleapis.com/v0/b/sala-de-juegos-1c9ea.appspot.com/o/HTML5.svg.png?alt=media&token=c2c6bd49-138f-4dc8-93dc-73a5b40e5cdd"}];frameworks=[{frkNombre:"Angular",imagen:"https://firebasestorage.googleapis.com/v0/b/sala-de-juegos-1c9ea.appspot.com/o/Angular.svg.png?alt=media&token=dca1e9bb-4126-4aae-893f-efeaf585f608"},{frkNombre:"Slim",imagen:"https://firebasestorage.googleapis.com/v0/b/sala-de-juegos-1c9ea.appspot.com/o/slim.png?alt=media&token=44edc445-be3c-4996-9056-6eb5946984f0"}];entornoTrabajo=[{entorno:"VisualStudioCode",imagen:"https://firebasestorage.googleapis.com/v0/b/sala-de-juegos-1c9ea.appspot.com/o/Visual_Studio_Code.svg.png?alt=media&token=7af515be-8bc3-4564-aadc-3f0577b83e62"},{entorno:"VisualStudio",imagen:"https://firebasestorage.googleapis.com/v0/b/sala-de-juegos-1c9ea.appspot.com/o/Visual_Studio.svg.png?alt=media&token=cccf7238-6292-4395-a26e-01c2740f3dfe"}];entorno=[{nombre:"NodeJs",imagen:"https://firebasestorage.googleapis.com/v0/b/sala-de-juegos-1c9ea.appspot.com/o/Node.js.svg.png?alt=media&token=fe407132-01aa-4d8f-9171-4eedb35fec3c"}];Volver(){this.router.navigate(["home"])}static \u0275fac=function(t){return new(t||n)(J(Je))};static \u0275cmp=st({type:n,selectors:[["app-quien-soy"]],standalone:!0,features:[ot],decls:43,vars:12,consts:[["id","about-me"],["alt","Tu Nombre",2,"width","150px","border-radius","75px",3,"src"],[1,"seccion"],[1,"lista"],["class","lista-item",4,"ngFor","ngForOf"],[3,"href"],[3,"click"],[1,"lista-item"],[1,"lenguaje-imagen",3,"src","alt"],[1,"framworks",3,"src","alt"],[1,"entorno",3,"src","alt"],[1,"entorno-trabajo",3,"src","alt"]],template:function(t,r){t&1&&(F(0,"body")(1,"div",0)(2,"h1"),q(3,"\xBFQui\xE9n Soy?"),V(),Se(4,"img",1),F(5,"h2"),q(6),V(),F(7,"h2"),q(8),V(),F(9,"h2"),q(10),V(),F(11,"p")(12,"strong"),q(13,"Descripci\xF3n:"),V(),q(14),V(),F(15,"div",2)(16,"h1"),q(17,"Lenguajes de Programaci\xF3n"),V(),F(18,"ul",3),Me(19,nA,4,3,"li",4),V()(),F(20,"div",2)(21,"h1"),q(22,"frameworks"),V(),F(23,"ul",3),Me(24,rA,4,3,"li",4),V()(),F(25,"div",2)(26,"h1"),q(27,"entorno"),V(),F(28,"ul",3),Me(29,iA,4,3,"li",4),V()(),F(30,"div",2)(31,"h1"),q(32,"entorno"),V(),F(33,"ul",3),Me(34,sA,4,3,"li",4),V()(),F(35,"h1"),q(36,"Contacto"),V(),F(37,"p"),q(38,"Email: "),F(39,"a",5),q(40),V()(),F(41,"button",6),Ee("click",function(){return r.Volver()}),q(42,"Volver"),V()()()),t&2&&(Q(4),fe("src",r.imagen,Dr),Q(2),ln("Nombre: ",r.nombre,""),Q(2),ln("Dni: ",r.dni,""),Q(2),ln("Legajo: ",r.legajo,""),Q(4),ln(" ",r.descripcion,""),Q(5),fe("ngForOf",r.lenguajes),Q(5),fe("ngForOf",r.frameworks),Q(5),fe("ngForOf",r.entorno),Q(5),fe("ngForOf",r.entornoTrabajo),Q(5),Kf("href","mailito:",r.contacto,"",Dr),Q(),gi(r.contacto))},dependencies:[Zf,Xn,zt,ip],styles:["body[_ngcontent-%COMP%]{background-color:#000;color:#fff;margin:0;font-family:Arial,sans-serif;padding:0}#about-me[_ngcontent-%COMP%]{background-color:#1b1b1b;color:#fff;padding:30px;border-radius:8px;box-shadow:0 4px 15px #00000080;max-width:800px;margin:0 auto}#about-me[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;text-align:center;margin-bottom:20px;color:#ff4d4d}#about-me[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:0 auto 20px;border:4px solid #ffeb3b;border-radius:50%;width:120px;height:120px;object-fit:contain}h2[_ngcontent-%COMP%]{font-size:20px;margin:10px 0}p[_ngcontent-%COMP%]{font-size:16px;line-height:1.5;margin-bottom:20px}.seccion[_ngcontent-%COMP%]{margin-bottom:30px}.seccion[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;margin-bottom:15px;color:#ffeb3b;border-bottom:2px solid #ff4d4d;padding-bottom:5px}.lista[_ngcontent-%COMP%]{list-style:none;padding:0}.lista-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px;padding:10px;border:1px solid #444;border-radius:4px;background-color:#2a2a2a;transition:transform .2s}.lista-item[_ngcontent-%COMP%]:hover{transform:scale(1.02);box-shadow:0 2px 8px #0000004d}.lenguaje-imagen[_ngcontent-%COMP%], .framworks[_ngcontent-%COMP%], .entorno[_ngcontent-%COMP%], .entorno-trabajo[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:10px}.lista-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:18px;color:#ffeb3b;margin-left:10px}button[_ngcontent-%COMP%]{display:block;margin:20px auto;padding:12px 24px;color:#ff0;background-color:red;border:none;border-radius:4px;cursor:pointer;font-size:18px;transition:background-color .3s ease,transform .2s ease}button[_ngcontent-%COMP%]:hover{background-color:#000;transform:scale(1.05)}button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #28a74580}p[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{font-size:16px;line-height:1.5;margin-bottom:20px;color:#ffeb3b;background-color:#2a2a2a;padding:10px;border-radius:4px;display:inline-block;transition:background-color .3s ease}p[_ngcontent-%COMP%]:hover{background-color:#3a3a3a}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}"]})};var hy=Fl(gc());function oA(n,e){n&1&&(F(0,"div",16),q(1,"Solo se permite letras"),V())}function aA(n,e){n&1&&(F(0,"div",16),q(1,"Este campo es requerido"),V())}function cA(n,e){if(n&1&&(F(0,"div"),Me(1,oA,2,0,"div",14)(2,aA,2,0,"div",14),V()),n&2){let t,r,i=cn();Q(),fe("ngIf",(t=i.form.get("nombreCompleto"))==null||t.errors==null?null:t.errors.pattern),Q(),fe("ngIf",(r=i.form.get("nombreCompleto"))==null||r.errors==null?null:r.errors.required)}}function lA(n,e){n&1&&(F(0,"div",16),q(1,"numero inexistente"),V())}function uA(n,e){n&1&&(F(0,"div",16),q(1,"Este campo es requerido"),V())}function dA(n,e){if(n&1&&(F(0,"div"),Me(1,lA,2,0,"div",14)(2,uA,2,0,"div",14),V()),n&2){let t,r,i=cn();Q(),fe("ngIf",(t=i.form.get("telefono"))==null||t.errors==null?null:t.errors.pattern),Q(),fe("ngIf",(r=i.form.get("telefono"))==null||r.errors==null?null:r.errors.required)}}function hA(n,e){n&1&&(F(0,"div",16),q(1,"Tiene que ser mayor de edad"),V())}function fA(n,e){n&1&&(F(0,"div",16),q(1,"Este campo es requerido"),V())}function pA(n,e){n&1&&(F(0,"div",16),q(1,"Solo se permite numeros"),V())}function mA(n,e){if(n&1&&(F(0,"div"),Me(1,hA,2,0,"div",14)(2,fA,2,0,"div",14)(3,pA,2,0,"div",14),V()),n&2){let t,r,i,s=cn();Q(),fe("ngIf",(t=s.form.get("edad"))==null||t.errors==null?null:t.errors.min),Q(),fe("ngIf",(r=s.form.get("edad"))==null||r.errors==null?null:r.errors.required),Q(),fe("ngIf",(i=s.form.get("edad"))==null||i.errors==null?null:i.errors.pattern)}}function gA(n,e){n&1&&(F(0,"div",16),q(1,"Este campo es requerido"),V())}function _A(n,e){if(n&1&&(F(0,"div"),Me(1,gA,2,0,"div",14),V()),n&2){let t,r=cn();Q(),fe("ngIf",(t=r.form.get("comentarios"))==null||t.errors==null?null:t.errors.required)}}function yA(n,e){n&1&&(F(0,"div",16),q(1,"Es obligatorio elegir una opcion"),V())}var fl=class n{constructor(e,t,r,i){this.fb=e;this.auth=t;this.router=r;this.fireStore=i}form;seguir=!1;usuarioLogeado;sub;listaUsers=[];ngOnInit(){this.form=this.fb.group({nombreCompleto:["",[pt.pattern("^[a-zA-Z ]+$"),pt.required]],telefono:["",[pt.required,pt.pattern(/^\d{10}$/),pt.pattern(/^\d+$/)]],edad:["",[pt.min(18),pt.required,pt.pattern(/^\d+$/)]],comentarios:["",[pt.required]],recomendar:["",pt.required]});let e=Tf(this.fireStore,"encuesta");this.sub=sy(e).subscribe(t=>{this.listaUsers=t.map(r=>({idUsuario:r.id}))})}enviar(){let e=Tf(this.fireStore,"encuesta"),t=this.form.value;t.id=this.form.get("nombreCompleto")?.value,oy(e,t),this.showSuccessAlert("Puedes completarla otra vez"),this.form.reset(),this.ngOnInit()}showSuccessAlert(e){return hy.default.fire({title:"Encuesta enviada",text:e,icon:"success",confirmButtonText:"OK"})}volver(){this.router.navigate(["home"])}static \u0275fac=function(t){return new(t||n)(J(Lp),J(Rt),J(Je),J(Tn))};static \u0275cmp=st({type:n,selectors:[["app-formulario"]],standalone:!0,features:[ot],decls:38,vars:7,consts:[[1,"navbar"],["type","button",1,"navbar-button",3,"click"],[3,"formGroup"],["for","nombreCompleto"],["type","text","id","nombreCompleto","formControlName","nombreCompleto","required","",1,"nombre"],[4,"ngIf"],["for","telefono"],["type","text","id","telefono","formControlName","telefono","required",""],["for","edad"],["type","text","formControlName","edad","required","",1,"edad"],["for","comentarios"],["formControlName","comentarios","rows","4","required",""],["type","radio","formControlName","recomendar","value","Si"],["type","radio","formControlName","recomendar","value","No"],["class","error-message",4,"ngIf"],["type","submit",1,"enviar",3,"click","disabled"],[1,"error-message"]],template:function(t,r){if(t&1&&(F(0,"body")(1,"nav",0)(2,"button",1),Ee("click",function(){return r.volver()}),q(3,"Volver al home"),V()(),F(4,"form",2)(5,"div")(6,"label",3),q(7," Nombre completo: "),V(),Se(8,"input",4),Me(9,cA,3,2,"div",5),V(),F(10,"div")(11,"label",6),q(12,"Telefono: "),V(),Se(13,"input",7),Me(14,dA,3,2,"div",5),V(),F(15,"div")(16,"label",8),q(17,"Edad: "),V(),Se(18,"input",9),Me(19,mA,4,3,"div",5),V(),F(20,"div")(21,"label",10),q(22,"\xBF Que opinas de esta app ?"),V(),Se(23,"textarea",11),Me(24,_A,2,1,"div",5),V(),F(25,"div")(26,"label"),q(27,"\xBF Recomendarias esta pagina ?"),V(),F(28,"div")(29,"label"),Se(30,"input",12),q(31," Si "),V(),F(32,"label"),Se(33,"input",13),q(34,"No "),V(),Me(35,yA,2,0,"div",14),V()(),F(36,"button",15),Ee("click",function(){return r.enviar()}),q(37,"Enviar"),V()()()),t&2){let i,s,a,d,f;Q(4),fe("formGroup",r.form),Q(5),fe("ngIf",((i=r.form.get("nombreCompleto"))==null?null:i.invalid)&&(((i=r.form.get("nombreCompleto"))==null?null:i.touched)||((i=r.form.get("nombreCompleto"))==null?null:i.dirty))),Q(5),fe("ngIf",((s=r.form.get("telefono"))==null?null:s.invalid)&&(((s=r.form.get("telefono"))==null?null:s.touched)||((s=r.form.get("telefono"))==null?null:s.dirty))),Q(5),fe("ngIf",((a=r.form.get("edad"))==null?null:a.invalid)&&(((a=r.form.get("edad"))==null?null:a.touched)||((a=r.form.get("edad"))==null?null:a.dirty))),Q(5),fe("ngIf",((d=r.form.get("comentarios"))==null?null:d.invalid)&&(((d=r.form.get("comentarios"))==null?null:d.touched)||((d=r.form.get("comentarios"))==null?null:d.dirty))),Q(11),fe("ngIf",(f=r.form.get("recomendar"))==null||f.errors==null?null:f.errors.required),Q(),fe("disabled",r.form.invalid)}},dependencies:[Up,Vp,Yn,ru,Ti,Pp,ou,iu,su,zt,vi],styles:["[_nghost-%COMP%]{display:block;position:absolute;top:0;left:0;width:100%;height:100%;margin:0;padding:0;overflow:hidden}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;width:100%;height:100%;background-color:#000;font-family:Arial,sans-serif;color:#fff}.navbar[_ngcontent-%COMP%]{padding:10px;display:flex;justify-content:flex-end}.navbar-button[_ngcontent-%COMP%]{color:#fff;cursor:pointer;font-weight:700;text-shadow:1px 1px 4px rgba(0,0,0,.6);font-size:18px;padding:10px 20px;background-color:#1b1b1b;border:1px solid green;border-radius:8px;transition:background-color .3s ease,color .3s ease}.navbar-button[_ngcontent-%COMP%]:hover{color:#000;background-color:#1db954}form[_ngcontent-%COMP%]{background-color:#ffffffe6;border-radius:12px;padding:10px;box-shadow:0 6px 20px #00000080;max-width:550px;margin:15px auto;color:#333;text-align:left}form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:calc(100% - 20px);padding:3px;margin-bottom:12px;border:1px solid #ccc;border-radius:6px;box-shadow:inset 0 2px 5px #0000001a;font-size:13px;resize:none;transition:border-color .3s ease}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;margin-bottom:3px;display:block;color:#333}form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], form[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{padding:3px;margin-bottom:6px;border:1px solid #ccc;border-radius:6px;box-shadow:inset 0 2px 5px #0000001a;font-size:13px;color:#000}form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{padding:8px;margin-top:12px;font-size:13px;width:530px}.error-message[_ngcontent-%COMP%]{color:red;font-size:.9rem;margin-top:1px;margin-bottom:6px}.enviar[_ngcontent-%COMP%]:hover{background-color:#1db954}.enviar[_ngcontent-%COMP%]:disabled{cursor:not-allowed}"]})};var fy=(n,e,t,r)=>{let i=n.form.value;for(let s in i)if(n.form.get(s)?.value!="")return alert("Advertencia!!.Hay campos con datos."),!1;return!0};var pl={apiKey:"AIzaSyByimqYgzMRjr5IKpr9N-SIoF_1e-xzWnE",authDomain:"sala-de-juegos-1c9ea.firebaseapp.com",projectId:"sala-de-juegos-1c9ea",storageBucket:"sala-de-juegos-1c9ea.appspot.com",messagingSenderId:"280351401243",appId:"1:280351401243:web:681406c8319541736e1fbe"};var ml=class n{app;firestore;auth;currentUser=null;constructor(){this.app=Js(pl),this.firestore=ol(this.app),this.auth=so(this.app),this.initializeAuthListener()}initializeAuthListener(){pc(this.auth,e=>{this.currentUser=e,e?console.log("Usuario actual:",e):console.log("No hay usuario autenticado.")})}getCurrentUser(){return this.currentUser}static \u0275fac=function(t){return new(t||n)};static \u0275prov=kr({token:n,factory:n.\u0275fac,providedIn:"root"})};var gl=(n,e)=>{let t=Ns(ml),r=Ns(Je);return t.getCurrentUser()?!0:(r.navigate(["login"]),!1)};var py=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:cl},{path:"register",component:ll},{path:"home",component:dl,canActivate:[gl]},{path:"quien-soy",component:hl,canActivate:[gl]},{path:"formulario",component:fl,canDeactivate:[fy]},{path:"juegos",canActivate:[gl],loadChildren:()=>import("./chunk-6MCB6WSE.js").then(n=>n.JuegosModule)},{path:"**",component:ul}];var vy="firebasestorage.googleapis.com",wA="storageBucket",vA=2*60*1e3,bA=10*60*1e3;var sn=class n extends nt{constructor(e,t,r=0){super(Af(e),`Firebase Storage: ${t} (${Af(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Af(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Cn=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Cn||{});function Af(n){return"storage/"+n}function IA(){let n="An unknown error occurred, please check the error payload for server response.";return new sn(Cn.UNKNOWN,n)}function EA(){return new sn(Cn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TA(){return new sn(Cn.CANCELED,"User canceled the upload/download.")}function AA(n){return new sn(Cn.INVALID_URL,"Invalid URL '"+n+"'.")}function CA(n){return new sn(Cn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function my(n){return new sn(Cn.INVALID_ARGUMENT,n)}function by(){return new sn(Cn.APP_DELETED,"The Firebase app was deleted.")}function SA(n){return new sn(Cn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var An=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw CA(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}let a="(/(.*))?$",d=new RegExp("^gs://"+i+a,"i"),f={bucket:1,path:3};function m(te){te.path_=decodeURIComponent(te.path)}let w="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),k="(/([^?#]*).*)?$",x=new RegExp(`^https?://${_}/${w}/b/${i}/o${k}`,"i"),U={bucket:1,path:3},j=t===vy?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",G=new RegExp(`^https?://${j}/${i}/${N}`,"i"),X=[{regex:d,indices:f,postModify:s},{regex:x,indices:U,postModify:m},{regex:G,indices:{bucket:1,path:2},postModify:m}];for(let te=0;te<X.length;te++){let ge=X[te],re=ge.regex.exec(e);if(re){let S=re[ge.indices.bucket],v=re[ge.indices.path];v||(v=""),r=new n(S,v),ge.postModify(r);break}}if(r==null)throw AA(e);return r}},Cf=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function PA(n,e,t){let r=1,i=null,s=null,a=!1,d=0;function f(){return d===2}let m=!1;function w(...N){m||(m=!0,e.apply(null,N))}function _(N){i=setTimeout(()=>{i=null,n(x,f())},N)}function k(){s&&clearTimeout(s)}function x(N,...G){if(m){k();return}if(N){k(),w.call(null,N,...G);return}if(f()||a){k(),w.call(null,N,...G);return}r<64&&(r*=2);let X;d===1?(d=2,X=0):X=(r+Math.random())*1e3,_(X)}let U=!1;function j(N){U||(U=!0,k(),!m&&(i!==null?(N||(d=2),clearTimeout(i),_(0)):N||(d=1)))}return _(0),s=setTimeout(()=>{a=!0,j(!0)},t),j}function RA(n){n(!1)}function kA(n){return n!==void 0}function gy(n,e,t,r){if(r<e)throw my(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw my(`Invalid value for '${n}'. Expected ${t} or less.`)}function DA(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Sf=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(Sf||{});function xA(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}var Pf=class{constructor(e,t,r,i,s,a,d,f,m,w,_,k=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=w,this.connectionFactory_=_,this.retry=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,U)=>{this.resolve_=x,this.reject_=U,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new rs(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let a=d=>{let f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;let d=s.getErrorCode()===Sf.NO_ERROR,f=s.getStatus();if(!d||xA(f,this.additionalRetryCodes_)&&this.retry){let w=s.getErrorCode()===Sf.ABORT;r(!1,new rs(!1,null,w));return}let m=this.successCodes_.indexOf(f)!==-1;r(!0,new rs(m,s))})},t=(r,i)=>{let s=this.resolve_,a=this.reject_,d=i.connection;if(i.wasSuccessCode)try{let f=this.callback_(d,d.getResponse());kA(f)?s(f):s()}catch(f){a(f)}else if(d!==null){let f=IA();f.serverResponse=d.getErrorText(),this.errorCallback_?a(this.errorCallback_(d,f)):a(f)}else if(i.canceled){let f=this.appDelete_?by():TA();a(f)}else{let f=EA();a(f)}};this.canceled_?t(!1,new rs(!1,null,!0)):this.backoffId_=PA(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&RA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},rs=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function NA(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function OA(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function VA(n,e){e&&(n["X-Firebase-GMPID"]=e)}function MA(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function FA(n,e,t,r,i,s,a=!0){let d=DA(n.urlParams),f=n.url+d,m=Object.assign({},n.headers);return VA(m,e),NA(m,t),OA(m,s),MA(m,r),new Pf(f,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,a)}function LA(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function UA(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var r1=256*1024;var Rf=class n{constructor(e,t){this._service=e,t instanceof An?this._location=t:this._location=An.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new An(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return UA(this._location.path)}get storage(){return this._service}get parent(){let e=LA(this._location.path);if(e===null)return null;let t=new An(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw SA(e)}};function _y(n,e){let t=e?.[wA];return t==null?null:An.makeFromBucketSpec(t,n)}function BA(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:Ga(i,n.app.options.projectId))}var kf=class{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=vy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vA,this._maxUploadRetryTime=bA,this._requests=new Set,i!=null?this._bucket=An.makeFromBucketSpec(i,this._host):this._bucket=_y(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=An.makeFromBucketSpec(this._url,e):this._bucket=_y(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return E(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return E(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Rf(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new Cf(by());{let a=FA(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){return E(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},yy="@firebase/storage",wy="0.13.2";var Iy="storage";function Ey(n=tr(),e){n=qe(n);let r=Mr(n,Iy).getImmediate({identifier:e}),i=za("storage");return i&&Ty(r,...i),r}function Ty(n,e,t,r={}){BA(n,e,t,r)}function jA(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new kf(t,r,i,e,Wt)}function qA(){Ht(new at(Iy,jA,"PUBLIC").setMultipleInstances(!0)),we(yy,wy,""),we(yy,wy,"esm2017")}qA();var ko=class{constructor(e){return e}},Ay="storage",Df=class{constructor(){return Lr(Ay)}};var xf=new tt("angularfire2.storage-instances");function $A(n,e){let t=Pi(Ay,n,e);return t&&new ko(t)}function zA(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ko(r)}}var GA={provide:Df,deps:[[new He,xf]]},HA={provide:ko,useFactory:$A,deps:[[new He,xf],Pt]};function Cy(n,...e){return we("angularfire",fn.full,"gcs"),Hn([HA,GA,{provide:xf,useFactory:zA(n),multi:!0,deps:[qt,jt,rr,pn,[new He,$r],[new He,nr],...e]}])}var Sy=mt(Ey,!0);var Py={providers:[Yf({eventCoalescing:!0}),rp(py),hm(()=>fm(pl)),lg(()=>dg()),iy(()=>ay()),Cy(()=>Sy()),ep()]};var _l=class n{title="MyApp";constructor(e){}static \u0275fac=function(t){return new(t||n)(J(Je))};static \u0275cmp=st({type:n,selectors:[["app-root"]],standalone:!0,features:[ot],decls:1,vars:0,template:function(t,r){t&1&&Se(0,"router-outlet")},dependencies:[np]})};tp(_l,Py).catch(n=>console.error(n));
